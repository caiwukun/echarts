
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).echarts={})}(this,function(t){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function l(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var h=function(){return(h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}var e=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.weChat=!1},v=new function(){this.browser=new e,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(v.wxa=!0,v.canvasSupported=!0,v.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(v.worker=!0,v.canvasSupported=!0):"undefined"==typeof navigator?(v.node=!0,v.canvasSupported=!0,v.svgSupported=!0):function(t,e){var n=e.browser,i=t.match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),t=/micromessenger/i.test(t);i&&(n.firefox=!0,n.version=i[1]);o&&(n.ie=!0,n.version=o[1]);r&&(n.edge=!0,n.version=r[1]);t&&(n.weChat=!0);e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&11<=+n.version),e.domSupported="undefined"!=typeof document}(navigator.userAgent,v);var s={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},u={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},c=Object.prototype.toString,n=Array.prototype,p=n.forEach,d=n.filter,o=n.slice,f=n.map,r=function(){}.constructor,g=r?r.prototype:null,y={};function m(t,e){y[t]=e}var _=2311;function x(){return _++}function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(t)}function I(t){if(null==t||"object"!=typeof t)return t;var e=t,n=c.call(t);if("[object Array]"===n){if(!st(t)){e=[];for(var i=0,o=t.length;i<o;i++)e[i]=I(t[i])}}else if(u[n]){if(!st(t)){var r=t.constructor;if(r.from)e=r.from(t);else{e=new r(t.length);for(i=0,o=t.length;i<o;i++)e[i]=I(t[i])}}}else if(!s[n]&&!st(t)&&!Y(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=I(t[a]));return e}function w(t,e,n){if(!U(e)||!U(t))return n?I(e):t;for(var i in e){var o,r;e.hasOwnProperty(i)&&(o=t[i],!U(r=e[i])||!U(o)||V(r)||V(o)||Y(r)||Y(o)||Z(r)||Z(o)||st(r)||st(o)?!n&&i in t||(t[i]=I(e[i])):w(o,r,n))}return t}function S(t,e){for(var n=t[0],i=1,o=t.length;i<o;i++)n=w(n,t[i],e);return n}function D(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function A(t,e,n){for(var i=E(e),o=0;o<i.length;o++){var r=i[o];(n?null!=e[r]:null==t[r])&&(t[r]=e[r])}return t}var M=function(){return y.createCanvas()};function k(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function T(t,e){var n,i=t.prototype;function o(){}for(n in o.prototype=e.prototype,t.prototype=new o,i)i.hasOwnProperty(n)&&(t.prototype[n]=i[n]);(t.prototype.constructor=t).superClass=e}function C(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++){var r=i[o];"constructor"!==r&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r])}else A(t,e,n)}function L(t){return!!t&&("string"!=typeof t&&"number"==typeof t.length)}function N(t,e,n){if(t&&e)if(t.forEach&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function P(t,e,n){if(!t)return[];if(!e)return et(t);if(t.map&&t.map===f)return t.map(e,n);for(var i=[],o=0,r=t.length;o<r;o++)i.push(e.call(n,t[o],o,t));return i}function O(t,e,n,i){if(t&&e){for(var o=0,r=t.length;o<r;o++)n=e.call(i,n,t[o],o,t);return n}}function R(t,e,n){if(!t)return[];if(!e)return et(t);if(t.filter&&t.filter===d)return t.filter(e,n);for(var i=[],o=0,r=t.length;o<r;o++)e.call(n,t[o],o,t)&&i.push(t[o]);return i}function E(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n}y.createCanvas=function(){return document.createElement("canvas")};var z=g&&F(g.bind)?g.call.bind(g.bind):function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return t.apply(e,n.concat(o.call(arguments)))}};function B(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(o.call(arguments)))}}function V(t){return Array.isArray?Array.isArray(t):"[object Array]"===c.call(t)}function F(t){return"function"==typeof t}function H(t){return"string"==typeof t}function G(t){return"[object String]"===c.call(t)}function W(t){return"number"==typeof t}function U(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function Z(t){return!!s[c.call(t)]}function X(t){return!!u[c.call(t)]}function Y(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function q(t){return null!=t.colorStops}function j(t){return null!=t.image}function K(t){return"[object RegExp]"===c.call(t)}function $(t){return t!=t}function J(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t.length;n<i;n++)if(null!=t[n])return t[n]}function Q(t,e){return null!=t?t:e}function tt(t,e,n){return null!=t?t:null!=e?e:n}function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o.apply(t,e)}function nt(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function it(t,e){if(!t)throw new Error(e)}function ot(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var rt="__ec_primitive__";function at(t){t[rt]=!0}function st(t){return t[rt]}var lt=(ut.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},ut.prototype.set=function(t,e){return this.data[t]=e},ut.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},ut.prototype.keys=function(){return E(this.data)},ut.prototype.removeKey=function(t){delete this.data[t]},ut);function ut(t){this.data={};var n=V(t);this.data={};var i=this;function e(t,e){n?i.set(t,e):i.set(e,t)}t instanceof ut?t.each(e):t&&N(t,e)}function ht(t){return new lt(t)}function ct(t,e){var n=Object.create?Object.create(t):((n=function(){}).prototype=t,new n);return e&&D(n,e),n}function pt(t,e){return t.hasOwnProperty(e)}function dt(){}var ft=Object.freeze({__proto__:null,$override:m,guid:x,logError:b,clone:I,merge:w,mergeAll:S,extend:D,defaults:A,createCanvas:M,indexOf:k,inherits:T,mixin:C,isArrayLike:L,each:N,map:P,reduce:O,filter:R,find:function(t,e,n){if(t&&e)for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t))return t[i]},keys:E,bind:z,curry:B,isArray:V,isFunction:F,isString:H,isStringSafe:G,isNumber:W,isObject:U,isBuiltInObject:Z,isTypedArray:X,isDom:Y,isGradientObject:q,isPatternObject:j,isRegExp:K,eqNaN:$,retrieve:J,retrieve2:Q,retrieve3:tt,slice:et,normalizeCssArray:nt,assert:it,trim:ot,setAsPrimitive:at,isPrimitive:st,HashMap:lt,createHashMap:ht,concatArray:function(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];for(var o=t.length,i=0;i<e.length;i++)n[i+o]=e[i];return n},createObject:ct,hasOwn:pt,noop:dt});function gt(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function yt(t){return[t[0],t[1]]}function mt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function vt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function _t(t){return Math.sqrt(xt(t))}function xt(t){return t[0]*t[0]+t[1]*t[1]}function bt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function wt(t,e){var n=_t(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function St(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Mt=St;function Tt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Ct=Tt;function It(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function Dt(t,e,n){var i=e[0],e=e[1];return t[0]=n[0]*i+n[2]*e+n[4],t[1]=n[1]*i+n[3]*e+n[5],t}function At(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function kt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var Lt=Object.freeze({__proto__:null,create:gt,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:yt,set:function(t,e,n){return t[0]=e,t[1]=n,t},add:mt,scaleAndAdd:function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},sub:vt,len:_t,length:_t,lenSquare:xt,lengthSquare:xt,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:bt,normalize:wt,distance:St,dist:Mt,distanceSquare:Tt,distSquare:Ct,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:It,applyTransform:Dt,min:At,max:kt}),Pt=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},Ot=(Rt.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Pt(e,t),"dragstart",t.event))},Rt.prototype._drag=function(t){var e,n,i,o,r=this._draggingTarget;r&&(i=t.offsetX,o=t.offsetY,e=i-this._x,n=o-this._y,this._x=i,this._y=o,r.drift(e,n,t),this.handler.dispatchToElement(new Pt(r,t),"drag",t.event),i=this.handler.findHover(i,o,r).target,o=this._dropTarget,r!==(this._dropTarget=i)&&(o&&i!==o&&this.handler.dispatchToElement(new Pt(o,t),"dragleave",t.event),i&&i!==o&&this.handler.dispatchToElement(new Pt(i,t),"dragenter",t.event)))},Rt.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Pt(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Pt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},Rt);function Rt(t){(this.handler=t).on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}var Nt=(Et.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;var r=this._$eventProcessor;null!=e&&r&&r.normalizeQuery&&(e=r.normalizeQuery(e)),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===n)return this;r={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},e=o[t].length-1,i=o[t][e];return i&&i.callAtLast?o[t].splice(e,0,r):o[t].push(r),this},Et.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},Et.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],o=0,r=n[t].length;o<r;o++)n[t][o].h!==e&&i.push(n[t][o]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},Et.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var r=e.length,a=i.length,s=0;s<a;s++){var l=i[s];if(!o||!o.filter||null==l.query||o.filter(t,l.query))switch(r){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},Et.prototype.triggerWithContext=function(t){if(!this._$handlers)return this;var e=this._$handlers[t],n=this._$eventProcessor;if(e)for(var i=arguments,o=i.length,r=i[o-1],a=e.length,s=0;s<a;s++){var l=e[s];if(!n||!n.filter||null==l.query||n.filter(t,l.query))switch(o){case 0:l.h.call(r);break;case 1:l.h.call(r,i[0]);break;case 2:l.h.call(r,i[0],i[1]);break;default:l.h.apply(r,i.slice(1,o-1))}}return n&&n.afterTrigger&&n.afterTrigger(t),this},Et);function Et(t){t&&(this._$eventProcessor=t)}var zt=Math.log(2);function Bt(t,e,n,i,o,r){var a=i+"-"+o,s=t.length;if(r.hasOwnProperty(a))return r[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~o)/zt);return t[n][l]}for(var u=i|1<<n,h=n+1;i&1<<h;)h++;for(var c=0,p=0,d=0;p<s;p++){var f=1<<p;f&o||(c+=(d%2?-1:1)*t[n][p]*Bt(t,e-1,h,u,o|f,r),d++)}return r[a]=c}function Vt(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},o=Bt(n,8,0,0,0,i);if(0!==o){for(var r=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==r[s]&&(r[s]=0),r[s]+=((a+s)%2?-1:1)*Bt(n,7,0===a?1:0,1<<a,1<<s,i)/o*e[a];return function(t,e,n){var i=e*r[6]+n*r[7]+1;t[0]=(e*r[0]+n*r[1]+r[2])/i,t[1]=(e*r[3]+n*r[4]+r[5])/i}}}var Ft="___zrEVENTSAVED",Ht=[];function Gt(t,e,n,i,o){if(e.getBoundingClientRect&&v.domSupported&&!Wt(e)){var r=e[Ft]||(e[Ft]={}),o=function(t,e,n){for(var i=n?"invTrans":"trans",o=e[i],r=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,p=h.left,h=h.top;a.push(p,h),l=l&&r&&p===r[c]&&h===r[1+c],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&o?o:(e.srcCoords=a,e[i]=n?Vt(s,a):Vt(a,s))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],o=["top","bottom"],r=0;r<4;r++){var a=document.createElement("div"),s=a.style,l=r%2,u=(r>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",o[u]+":0",i[1-l]+":auto",o[1-u]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,r),r,o);if(o)return o(t,n,i),!0}return!1}function Wt(t){return"CANVAS"===t.nodeName.toUpperCase()}var Ut="undefined"!=typeof window&&!!window.addEventListener,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xt=[];function Yt(t,e,n,i){return n=n||{},i||!v.canvasSupported?qt(t,e,n):v.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):qt(t,e,n),n}function qt(t,e,n){if(v.domSupported&&t.getBoundingClientRect){var i=e.clientX,o=e.clientY;if(Wt(t)){e=t.getBoundingClientRect();return n.zrX=i-e.left,void(n.zrY=o-e.top)}if(Gt(Xt,t,i,o))return n.zrX=Xt[0],void(n.zrY=Xt[1])}n.zrX=n.zrY=0}function jt(t){return t||window.event}function Kt(t,e,n){if(null!=(e=jt(e)).zrX)return e;var i=e.type;i&&0<=i.indexOf("touch")?(i=("touchend"!==i?e.targetTouches:e.changedTouches)[0])&&Yt(t,i,e,n):(Yt(t,e,e,n),o=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,t=t.deltaY;return null!=n&&null!=t?3*(0!==t?Math.abs(t):Math.abs(n))*(0<t||!(t<0)&&0<n?-1:1):e}(e),e.zrDelta=o?o/120:-(e.detail||0)/3);var o=e.button;return null==e.which&&void 0!==o&&Zt.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function $t(t,e,n,i){Ut?t.addEventListener(e,n,i):t.attachEvent("on"+e,n)}var Jt=Ut?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function Qt(t){return 2===t.which||3===t.which}var te=(ee.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},ee.prototype.clear=function(){return this._track.length=0,this},ee.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var o={points:[],touches:[],target:e,event:t},r=0,a=i.length;r<a;r++){var s=i[r],l=Yt(n,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},ee.prototype._recognize=function(t){for(var e in ie)if(ie.hasOwnProperty(e)){var n=ie[e](this._track,t);if(n)return n}},ee);function ee(){this._track=[]}function ne(t){var e=t[1][0]-t[0][0],t=t[1][1]-t[0][1];return Math.sqrt(e*e+t*t)}var ie={pinch:function(t,e){var n=t.length;if(n){var i=(t[n-1]||{}).points,n=(t[n-2]||{}).points||i;if(n&&1<n.length&&i&&1<i.length){n=ne(i)/ne(n);isFinite(n)||(n=1),e.pinchScale=n;i=[((i=i)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=i[0],e.pinchY=i[1],{type:"pinch",target:t[0].target,event:e}}}}},oe="silent";function re(){Jt(this.event)}var ae,se=(l(le,ae=Nt),le.prototype.dispose=function(){},le.prototype.setCursor=function(){},le);function le(){var t=null!==ae&&ae.apply(this,arguments)||this;return t.handler=null,t}var ue,he=function(t,e){this.x=t,this.y=e},ce=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],pe=(l(de,ue=Nt),de.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(N(ce,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},de.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,i=fe(this,e,n),o=this._hovered,r=o.target;r&&!r.__zr&&(r=(o=this.findHover(o.x,o.y)).target);i=this._hovered=i?new he(e,n):this.findHover(e,n),e=i.target,n=this.proxy;n.setCursor&&n.setCursor(e?e.cursor:"default"),r&&e!==r&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(i,"mousemove",t),e&&e!==r&&this.dispatchToElement(i,"mouseover",t)},de.prototype.mouseout=function(t){var e=t.zrEventControl,n=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&(n||this.trigger("globalout",{type:"globalout",event:t}))},de.prototype.resize=function(){this._hovered=new he(0,0)},de.prototype.dispatch=function(t,e){t=this[t];t&&t.call(this,e)},de.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},de.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},de.prototype.dispatchToElement=function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var o="on"+e,r={type:e,event:n=n,target:(t=t).target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:re};i&&(i[o]&&(r.cancelBubble=!!i[o].call(i,r)),i.trigger(e,r),i=i.__hostTarget||i.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,r),t.trigger&&t.trigger(e,r)}))}},de.prototype.findHover=function(t,e,n){for(var i=this.storage.getDisplayList(),o=new he(t,e),r=i.length-1;0<=r;r--){var a=void 0;if(i[r]!==n&&!i[r].ignore&&(a=function(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t,o=void 0,r=!1;i;){if(i.ignoreClip&&(r=!0),!r){var a=i.getClipPath();if(a&&!a.contain(e,n))return!1;i.silent&&(o=!0)}a=i.__hostTarget;i=a||i.parent}return!o||oe}return!1}(i[r],t,e))&&(o.topTarget||(o.topTarget=i[r]),a!==oe)){o.target=i[r];break}}return o},de.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new te);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);"end"===e&&n.clear(),i&&(n=i.type,t.gestureEvent=n,(t=new he).target=i.target,this.dispatchToElement(t,n,i.event))},de);function de(t,e,n,i){var o=ue.call(this)||this;return o._hovered=new he(0,0),o.storage=t,o.painter=e,o.painterRoot=i,n=n||new se,o.proxy=null,o.setHandlerProxy(n),o._draggingMgr=new Ot(o),o}function fe(t,e,n){t=t.painter;return e<0||e>t.getWidth()||n<0||n>t.getHeight()}N(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){pe.prototype[a]=function(t){var e,n,i=t.zrX,o=t.zrY,r=fe(this,i,o);if("mouseup"===a&&r||(n=(e=this.findHover(i,o)).target),"mousedown"===a)this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if("mouseup"===a)this._upEl=n;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||4<Mt(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,a,t)}});var ge=32,ye=7;function me(t,e,n,i){var o=e+1;if(o===n)return 1;if(i(t[o++],t[e])<0){for(;o<n&&i(t[o],t[o-1])<0;)o++;!function(t,e,n){n--;for(;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,o)}else for(;o<n&&0<=i(t[o],t[o-1]);)o++;return o-e}function ve(t,e,n,i,o){for(i===e&&i++;i<n;i++){for(var r,a=t[i],s=e,l=i;s<l;)o(a,t[r=s+l>>>1])<0?l=r:s=1+r;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<u;)t[s+u]=t[s+u-1],u--}t[s]=a}}function _e(t,e,n,i,o,r){var a=0,s=0,l=1;if(0<r(t,e[n+o])){for(s=i-o;l<s&&0<r(t,e[n+o+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=o,l+=o}else{for(s=o+1;l<s&&r(t,e[n+o-l])<=0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);i=a,a=o-l,l=o-i}for(a++;a<l;){var u=a+(l-a>>>1);0<r(t,e[n+u])?a=u+1:l=u}return l}function xe(t,e,n,i,o,r){var a=0,s=0,l=1;if(r(t,e[n+o])<0){for(s=o+1;l<s&&r(t,e[n+o-l])<0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var u=a,a=o-l,l=o-u}else{for(s=i-o;l<s&&0<=r(t,e[n+o+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=o,l+=o}for(a++;a<l;){var h=a+(l-a>>>1);r(t,e[n+h])<0?l=h:a=h+1}return l}function be(f,g){var r,a,y=ye,s=0,m=(f.length,[]);function e(t){var e=r[t],n=a[t],i=r[t+1],o=a[t+1];a[t]=n+o,t===s-3&&(r[t+1]=r[t+2],a[t+1]=a[t+2]),s--;t=xe(f[i],f,e,n,0,g);e+=t,0!=(n-=t)&&0!==(o=_e(f[e+n-1],f,i,o,o-1,g))&&(n<=o?function(t,e,n,i){var o=0;for(o=0;o<e;o++)m[o]=f[t+o];var r=0,a=n,s=t;if(f[s++]=f[a++],0==--i){for(o=0;o<e;o++)f[s+o]=m[r+o];return}if(1===e){for(o=0;o<i;o++)f[s+o]=f[a+o];return f[s+i]=m[r]}var l,u,h,c=y;for(;;){u=l=0,h=!1;do{if(g(f[a],m[r])<0){if(f[s++]=f[a++],u++,(l=0)==--i){h=!0;break}}else if(f[s++]=m[r++],l++,u=0,1==--e){h=!0;break}}while((l|u)<c);if(h)break;do{if(0!==(l=xe(f[a],m,r,e,0,g))){for(o=0;o<l;o++)f[s+o]=m[r+o];if(s+=l,r+=l,(e-=l)<=1){h=!0;break}}if(f[s++]=f[a++],0==--i){h=!0;break}if(0!==(u=_e(m[r],f,a,i,0,g))){for(o=0;o<u;o++)f[s+o]=f[a+o];if(s+=u,a+=u,0===(i-=u)){h=!0;break}}if(f[s++]=m[r++],1==--e){h=!0;break}}while(c--,ye<=l||ye<=u);if(h)break;c<0&&(c=0),c+=2}if((y=c)<1&&(y=1),1===e){for(o=0;o<i;o++)f[s+o]=f[a+o];f[s+i]=m[r]}else{if(0===e)throw new Error;for(o=0;o<e;o++)f[s+o]=m[r+o]}}:function(t,e,n,i){var o=0;for(o=0;o<i;o++)m[o]=f[n+o];var r=t+e-1,a=i-1,s=n+i-1,l=0,u=0;if(f[s--]=f[r--],0==--e){for(l=s-(i-1),o=0;o<i;o++)f[l+o]=m[o];return}if(1===i){for(u=(s-=e)+1,l=(r-=e)+1,o=e-1;0<=o;o--)f[u+o]=f[l+o];return f[s]=m[a]}var h=y;for(;;){var c=0,p=0,d=!1;do{if(g(m[a],f[r])<0){if(f[s--]=f[r--],c++,(p=0)==--e){d=!0;break}}else if(f[s--]=m[a--],p++,c=0,1==--i){d=!0;break}}while((c|p)<h);if(d)break;do{if(0!==(c=e-xe(m[a],f,t,e,e-1,g))){for(e-=c,u=(s-=c)+1,l=(r-=c)+1,o=c-1;0<=o;o--)f[u+o]=f[l+o];if(0===e){d=!0;break}}if(f[s--]=m[a--],1==--i){d=!0;break}if(0!==(p=i-_e(f[r],m,0,i,i-1,g))){for(i-=p,u=(s-=p)+1,l=(a-=p)+1,o=0;o<p;o++)f[u+o]=m[l+o];if(i<=1){d=!0;break}}if(f[s--]=f[r--],0==--e){d=!0;break}}while(h--,ye<=c||ye<=p);if(d)break;h<0&&(h=0),h+=2}(y=h)<1&&(y=1);if(1===i){for(u=(s-=e)+1,l=(r-=e)+1,o=e-1;0<=o;o--)f[u+o]=f[l+o];f[s]=m[a]}else{if(0===i)throw new Error;for(l=s-(i-1),o=0;o<i;o++)f[l+o]=m[o]}})(e,n,i,o)}return r=[],a=[],{mergeRuns:function(){for(;1<s;){var t=s-2;if(1<=t&&a[t-1]<=a[t]+a[t+1]||2<=t&&a[t-2]<=a[t]+a[t-1])a[t-1]<a[t+1]&&t--;else if(a[t]>a[t+1])break;e(t)}},forceMergeRuns:function(){for(;1<s;){var t=s-2;0<t&&a[t-1]<a[t+1]&&t--,e(t)}},pushRun:function(t,e){r[s]=t,a[s]=e,s+=1}}}function we(t,e,n,i){n=n||0;var o=(i=i||t.length)-n;if(!(o<2)){var r=0;if(o<ge)ve(t,n,i,n+(r=me(t,n,i,e)),e);else{var a,s=be(t,e),l=function(t){for(var e=0;ge<=t;)e|=1&t,t>>=1;return t+e}(o);do{}while((r=me(t,n,i,e))<l&&(l<(a=o)&&(a=l),ve(t,n,n+a,n+r,e),r=a),s.pushRun(n,r),s.mergeRuns(),n+=r,0!==(o-=r));s.forceMergeRuns()}}}var Se=!1;function Me(){Se||(Se=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Te(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Ce=(Ie.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},Ie.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},Ie.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,v.canvasSupported&&we(n,Te)},Ie.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var o=i,r=t;o;)o.parent=r,o.updateTransform(),e.push(o),o=(r=o).getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&l.markRedraw(),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&0<u.__clipPaths.length&&(u.__clipPaths=[]),isNaN(u.z)&&(Me(),u.z=0),isNaN(u.z2)&&(Me(),u.z2=0),isNaN(u.zlevel)&&(Me(),u.zlevel=0),this._displayList[this._displayListLen++]=u}u=t.getTextGuideLine();u&&this._updateAndAddDisplayable(u,e,n);u=t.getTextContent();u&&this._updateAndAddDisplayable(u,e,n)}},Ie.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},Ie.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var i=k(this._roots,t);0<=i&&this._roots.splice(i,1)}},Ie.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Ie.prototype.getRoots=function(){return this._roots},Ie.prototype.dispose=function(){this._displayList=null,this._roots=null},Ie);function Ie(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Te}var De="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},Ae={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-Ae.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Ae.bounceIn(2*t):.5*Ae.bounceOut(2*t-1)+.5}},ke=(Le.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var n=(t-this._startTime-this._pausedTime)/this._life;n<0&&(n=0),n=Math.min(n,1);var i=this.easing,i="string"==typeof i?Ae[i]:i,i="function"==typeof i?i(n):n;if(this.onframe&&this.onframe(i),1===n){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},Le.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},Le.prototype.pause=function(){this._paused=!0},Le.prototype.resume=function(){this._paused=!1},Le);function Le(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var Pe=function(t){this.value=t},Oe=(Re.prototype.insert=function(t){t=new Pe(t);return this.insertEntry(t),t},Re.prototype.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Re.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Re.prototype.len=function(){return this._len},Re.prototype.clear=function(){this.head=this.tail=null,this._len=0},Re);function Re(){this._len=0}var Ne=(Ee.prototype.put=function(t,e){var n,i,o=this._list,r=this._map,a=null;return null==r[t]&&(i=o.len(),n=this._lastRemovedEntry,i>=this._maxSize&&0<i&&(i=o.head,o.remove(i),delete r[i.key],a=i.value,this._lastRemovedEntry=i),n?n.value=e:n=new Pe(e),n.key=t,o.insertEntry(n),r[t]=n),a},Ee.prototype.get=function(t){var e=this._map[t],t=this._list;if(null!=e)return e!==t.tail&&(t.remove(e),t.insertEntry(e)),e.value},Ee.prototype.clear=function(){this._list.clear(),this._map={}},Ee.prototype.len=function(){return this._list.len()},Ee);function Ee(t){this._list=new Oe,this._maxSize=10,this._map={},this._maxSize=t}var ze={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Be(t){return(t=Math.round(t))<0?0:255<t?255:t}function Ve(t){return t<0?0:1<t?1:t}function Fe(t){return t.length&&"%"===t.charAt(t.length-1)?Be(parseFloat(t)/100*255):Be(parseInt(t,10))}function He(t){return t.length&&"%"===t.charAt(t.length-1)?Ve(parseFloat(t)/100):Ve(parseFloat(t))}function Ge(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function We(t,e,n){return t+(e-t)*n}function Ue(t,e,n,i,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t}function Ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Xe=new Ne(20),Ye=null;function qe(t,e){Ye&&Ze(Ye,e),Ye=Xe.put(t,Ye||e.slice())}function je(t,e){if(t){e=e||[];var n=Xe.get(t);if(n)return Ze(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in ze)return Ze(e,ze[i]),qe(t,e),e;if("#"===i.charAt(0))return 4===i.length?0<=(r=parseInt(i.substr(1),16))&&r<=4095?(Ue(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),qe(t,e),e):void Ue(e,0,0,0,1):7===i.length?0<=(r=parseInt(i.substr(1),16))&&r<=16777215?(Ue(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),qe(t,e),e):void Ue(e,0,0,0,1):void 0;var o=i.indexOf("("),n=i.indexOf(")");if(-1!==o&&n+1===i.length){var r=i.substr(0,o),n=i.substr(o+1,n-(o+1)).split(","),o=1;switch(r){case"rgba":if(4!==n.length)return void Ue(e,0,0,0,1);o=He(n.pop());case"rgb":return 3!==n.length?void Ue(e,0,0,0,1):(Ue(e,Fe(n[0]),Fe(n[1]),Fe(n[2]),o),qe(t,e),e);case"hsla":return 4!==n.length?void Ue(e,0,0,0,1):(n[3]=He(n[3]),Ke(n,e),qe(t,e),e);case"hsl":return 3!==n.length?void Ue(e,0,0,0,1):(Ke(n,e),qe(t,e),e);default:return}}Ue(e,0,0,0,1)}}function Ke(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=He(t[1]),o=He(t[2]),i=o<=.5?o*(i+1):o+i-o*i,o=2*o-i;return Ue(e=e||[],Be(255*Ge(o,i,n+1/3)),Be(255*Ge(o,i,n)),Be(255*Ge(o,i,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function $e(t,e){var n=je(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,255<n[i]?n[i]=255:n[i]<0&&(n[i]=0);return nn(n,4===n.length?"rgba":"rgb")}}function Je(t){t=je(t);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Qe(t,e,n){if(e&&e.length&&0<=t&&t<=1){n=n||[];var i=t*(e.length-1),o=Math.floor(i),r=Math.ceil(i),t=e[o],r=e[r],o=i-o;return n[0]=Be(We(t[0],r[0],o)),n[1]=Be(We(t[1],r[1],o)),n[2]=Be(We(t[2],r[2],o)),n[3]=Ve(We(t[3],r[3],o)),n}}function tn(t,e,n){if(e&&e.length&&0<=t&&t<=1){var i=t*(e.length-1),o=Math.floor(i),r=Math.ceil(i),a=je(e[o]),t=je(e[r]),e=i-o,e=nn([Be(We(a[0],t[0],e)),Be(We(a[1],t[1],e)),Be(We(a[2],t[2],e)),Ve(We(a[3],t[3],e))],"rgba");return n?{color:e,leftIndex:o,rightIndex:r,value:i}:e}}function en(t,e){t=je(t);if(t&&null!=e)return t[3]=Ve(e),nn(t,"rgba")}function nn(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function on(t,e){t=je(t);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var rn=Object.freeze({__proto__:null,parse:je,lift:$e,toHex:Je,fastLerp:Qe,fastMapToColor:Qe,lerp:tn,mapToColor:tn,modifyHSL:function(t,e,n,i){var o=je(t);if(t)return o=function(t){if(t){var e,n,i,o=t[0]/255,r=t[1]/255,a=t[2]/255,s=Math.min(o,r,a),l=Math.max(o,r,a),u=l-s,h=(l+s)/2;0==u?n=e=0:(n=h<.5?u/(l+s):u/(2-l-s),i=((l-o)/6+u/2)/u,s=((l-r)/6+u/2)/u,u=((l-a)/6+u/2)/u,o===l?e=u-s:r===l?e=1/3+i-u:a===l&&(e=2/3+s-i),e<0&&(e+=1),1<e&&--e);h=[360*e,n,h];return null!=t[3]&&h.push(t[3]),h}}(o),null!=e&&(o[0]=(e=e,(e=Math.round(e))<0?0:360<e?360:e)),null!=n&&(o[1]=He(n)),null!=i&&(o[2]=He(i)),nn(Ke(o),"rgba")},modifyAlpha:en,stringify:nn,lum:on,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),an=Array.prototype.slice;function sn(t,e,n){return(e-t)*n+t}function ln(t,e,n,i){for(var o=e.length,r=0;r<o;r++)t[r]=sn(e[r],n[r],i)}function un(t,e,n,i){for(var o=e.length,r=0;r<o;r++)t[r]=e[r]+n[r]*i;return t}function hn(t,e,n,i){for(var o=e.length,r=o&&e[0].length,a=0;a<o;a++){t[a]||(t[a]=[]);for(var s=0;s<r;s++)t[a][s]=e[a][s]+n[a][s]*i}return t}function cn(t,e){var n=t.length;if(n===e.length){for(var i=0;i<n;i++)if(t[i]!==e[i])return;return 1}}function pn(t,e,n,i,o,r,a){t=.5*(n-t),i=.5*(i-e);return(2*(e-n)+t+i)*a+(-3*(e-n)-2*t-i)*r+t*o+e}function dn(t,e,n,i,o,r,a,s){for(var l=e.length,u=0;u<l;u++)t[u]=pn(e[u],n[u],i[u],o[u],r,a,s)}function fn(t){if(L(t)){var e=t.length;if(L(t[0])){for(var n=[],i=0;i<e;i++)n.push(an.call(t[i]));return n}return an.call(t)}return t}function gn(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var yn=[0,0,0,0],mn=(vn.prototype.isFinished=function(){return this._finished},vn.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},vn.prototype.needsAnimate=function(){return!this._isAllValueEqual&&2<=this.keyframes.length&&this.interpolable},vn.prototype.getAdditiveTrack=function(){return this._additiveTrack},vn.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var n=this.keyframes,i=n.length;if(this.interpolable)if(L(e)){var o,r=L((r=e)&&r[0])?2:1;if(0<i&&this.arrDim!==r)return void(this.interpolable=!1);if(1==r&&"number"!=typeof e[0]||2==r&&"number"!=typeof e[0][0])return void(this.interpolable=!1);0<i&&(o=n[i-1],this._isAllValueEqual&&(1==r&&cn(e,o.value)||(this._isAllValueEqual=!1))),this.arrDim=r}else{if(0<this.arrDim)return void(this.interpolable=!1);if("string"==typeof e){r=je(e);r?(e=r,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e)return void(this.interpolable=!1);this._isAllValueEqual&&0<i&&(o=n[i-1],(this.isValueColor&&!cn(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1))}e={time:t,value:e,percent:0};return this.keyframes.push(e),e},vn.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort(function(t,e){return t.time-e.time});for(var n=this.arrDim,i=e.length,o=e[i-1],r=0;r<i;r++)e[r].percent=e[r].time/this.maxTime,0<n&&r!==i-1&&function(t,e,n){var i=t,o=e;if(i.push&&o.push){var e=i.length,r=o.length;if(e!==r)if(r<e)i.length=r;else for(var a=e;a<r;a++)i.push(1===n?o[a]:an.call(o[a]));for(var s=i[0]&&i[0].length,a=0;a<i.length;a++)if(1===n)isNaN(i[a])&&(i[a]=o[a]);else for(var l=0;l<s;l++)isNaN(i[a][l])&&(i[a][l]=o[a][l])}}(e[r].value,o.value,n);if(t&&this.needsAnimate()&&t.needsAnimate()&&n===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;for(var a=e[0].value,r=0;r<i;r++)0===n?this.isValueColor?e[r].additiveValue=un([],e[r].value,a,-1):e[r].additiveValue=e[r].value-a:1===n?e[r].additiveValue=un([],e[r].value,a,-1):2===n&&(e[r].additiveValue=hn([],e[r].value,a,-1))}},vn.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=null!=this._additiveTrack,i=n?"additiveValue":"value",o=this.keyframes,r=this.keyframes.length,a=this.propName,s=this.arrDim,l=this.isValueColor;if(e<0)u=0;else if(e<this._lastFramePercent){for(var u=Math.min(this._lastFrame+1,r-1);0<=u&&!(o[u].percent<=e);u--);u=Math.min(u,r-2)}else{for(u=this._lastFrame;u<r&&!(o[u].percent>e);u++);u=Math.min(u-1,r-2)}var h,c,p,d,f,g,y,m=o[u+1],v=o[u];v&&m&&(this._lastFrame=u,this._lastFramePercent=e,0!=(g=m.percent-v.percent)&&(h=(e-v.percent)/g,c=n?this._additiveValue:l?yn:t[a],(0<s||l)&&!c&&(c=this._additiveValue=[]),this.useSpline?(p=o[u][i],d=o[0===u?u:u-1][i],f=o[r-2<u?r-1:u+1][i],g=o[r-3<u?r-1:u+2][i],0<s?(1===s?dn:function(t,e,n,i,o,r,a,s){for(var l=e.length,u=e[0].length,h=0;h<l;h++){t[h]||(t[1]=[]);for(var c=0;c<u;c++)t[h][c]=pn(e[h][c],n[h][c],i[h][c],o[h][c],r,a,s)}})(c,d,p,f,g,h,h*h,h*h*h):l?(dn(c,d,p,f,g,h,h*h,h*h*h),n||(t[a]=gn(c))):(y=void 0,y=this.interpolable?pn(d,p,f,g,h,h*h,h*h*h):f,n?this._additiveValue=y:t[a]=y)):0<s?(1===s?ln:function(t,e,n,i){for(var o=e.length,r=o&&e[0].length,a=0;a<o;a++){t[a]||(t[a]=[]);for(var s=0;s<r;s++)t[a][s]=sn(e[a][s],n[a][s],i)}})(c,v[i],m[i],h):l?(ln(c,v[i],m[i],h),n||(t[a]=gn(c))):(y=void 0,y=this.interpolable?sn(v[i],m[i],h):(v=v[i],i=m[i],.5<h?i:v),n?this._additiveValue=y:t[a]=y),n&&this._addToTarget(t)))}},vn.prototype._addToTarget=function(t){var e=this.arrDim,n=this.propName,i=this._additiveValue;0===e?this.isValueColor?(je(t[n],yn),un(yn,yn,i,1),t[n]=gn(yn)):t[n]=t[n]+i:1===e?un(t[n],t[n],i,1):2===e&&hn(t[n],t[n],i,1)},vn);function vn(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}var _n=(xn.prototype.getTarget=function(){return this._target},xn.prototype.changeTarget=function(t){this._target=t},xn.prototype.when=function(t,e){return this.whenWithKeys(t,e,E(e))},xn.prototype.whenWithKeys=function(t,e,n){for(var i=this._tracks,o=0;o<n.length;o++){var r=n[o],a=i[r];if(!a){a=i[r]=new mn(r);var s,l=void 0,u=this._getAdditiveTrack(r);if(u?(l=(s=u.keyframes[u.keyframes.length-1])&&s.value,u.isValueColor&&l&&(l=gn(l))):l=this._target[r],null==l)continue;0!==t&&a.addKeyframe(0,fn(l)),this._trackKeys.push(r)}a.addKeyframe(t,fn(e[r]))}return this._maxTime=Math.max(this._maxTime,t),this},xn.prototype.pause=function(){this._clip.pause(),this._paused=!0},xn.prototype.resume=function(){this._clip.resume(),this._paused=!1},xn.prototype.isPaused=function(){return!!this._paused},xn.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneList;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},xn.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedList;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},xn.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},xn.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var o=n[i].getTrack(t);o&&(e=o)}return e},xn.prototype.start=function(t,e){if(!(0<this._started)){this._started=1;for(var r=this,a=[],n=0;n<this._trackKeys.length;n++){var i=this._trackKeys[n],o=this._tracks[i],s=this._getAdditiveTrack(i),i=o.keyframes;o.prepare(s),o.needsAnimate()?a.push(o):o.interpolable||(i=i[i.length-1])&&(r._target[o.propName]=i.value)}return a.length||e?(e=new ke({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){r._started=2;var e=r._additiveAnimators;if(e){for(var n=!1,i=0;i<e.length;i++)if(e[i]._clip){n=!0;break}n||(r._additiveAnimators=null)}for(i=0;i<a.length;i++)a[i].step(r._target,t);var o=r._onframeList;if(o)for(i=0;i<o.length;i++)o[i](r._target,t)},ondestroy:function(){r._doneCallback()}}),this._clip=e,this.animation&&this.animation.addClip(e),t&&"spline"!==t&&(e.easing=t)):this._doneCallback(),this}},xn.prototype.stop=function(t){var e;this._clip&&(e=this._clip,t&&e.onframe(1),this._abortedCallback())},xn.prototype.delay=function(t){return this._delay=t,this},xn.prototype.during=function(t){return t&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(t)),this},xn.prototype.done=function(t){return t&&(this._doneList||(this._doneList=[]),this._doneList.push(t)),this},xn.prototype.aborted=function(t){return t&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(t)),this},xn.prototype.getClip=function(){return this._clip},xn.prototype.getTrack=function(t){return this._tracks[t]},xn.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,o=0;o<t.length;o++){var r=n[t[o]];r&&(e?r.step(this._target,1):1===this._started&&r.step(this._target,0),r.setFinished())}for(var a=!0,o=0;o<i.length;o++)if(!n[i[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},xn.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var n=0;n<e.length;n++){var i,o=e[n],r=this._tracks[o];r&&!r.isFinished()&&((i=(i=r.keyframes)[i.length-1])&&(i=fn(i.value),r.isValueColor&&(i=gn(i)),t[o]=i))}}},xn.prototype.__changeFinalValue=function(t,e){e=e||E(t);for(var n=0;n<e.length;n++){var i,o=e[n],r=this._tracks[o];r&&(1<(i=r.keyframes).length&&(i=i.pop(),r.addKeyframe(i.time,t[o]),r.prepare(r.getAdditiveTrack())))}},xn);function xn(t,e,n){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,(this._loop=e)?b("Can' use additive animation on looped animation."):this._additiveAnimators=n}var bn,wn=(l(Sn,bn=Nt),Sn.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?((this._clipsTail.next=t).prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},Sn.prototype.addAnimator=function(t){t.animation=this;t=t.getClip();t&&this.addClip(t)},Sn.prototype.removeClip=function(t){var e,n;t.animation&&(e=t.prev,n=t.next,e?e.next=n:this._clipsHead=n,n?n.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null)},Sn.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},Sn.prototype.update=function(t){for(var e=(new Date).getTime()-this._pausedTime,n=e-this._time,i=this._clipsHead;i;)var o=i.next,i=(i.step(e,n)&&(i.ondestroy&&i.ondestroy(),this.removeClip(i)),o);this._time=e,this.onframe(n),this.trigger("frame",n),this.stage.update&&!t&&this.stage.update()},Sn.prototype._startLoop=function(){var e=this;this._running=!0,De(function t(){e._running&&(De(t),e._paused||e.update())})},Sn.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},Sn.prototype.stop=function(){this._running=!1},Sn.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},Sn.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},Sn.prototype.clear=function(){for(var t=this._clipsHead;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},Sn.prototype.isFinished=function(){return null==this._clipsHead},Sn.prototype.animate=function(t,e){e=e||{},this.start();e=new _n(t,e.loop);return this.addAnimator(e),e},Sn);function Sn(t){var e=bn.call(this)||this;return e._running=!1,e._time=0,e._pausedTime=0,e._pauseStart=0,e._paused=!1,t=t||{},e.stage=t.stage||{},e.onframe=t.onframe||function(){},e}var Mn,Tn=v.domSupported,Cn=(Mn={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Ou=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:P(Ou,function(t){var e=t.replace("mouse","pointer");return Mn.hasOwnProperty(e)?e:t})}),In=["mousemove","mouseup"],Dn=["pointermove","pointerup"],An=!1;function kn(t){t=t.pointerType;return"pen"===t||"touch"===t}function Ln(t){t&&(t.zrByTouch=!0)}function Pn(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}var On=function(t,e){this.stopPropagation=dt,this.stopImmediatePropagation=dt,this.preventDefault=dt,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Rn={mousedown:function(t){t=Kt(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Kt(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Kt(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Kt(this.dom,t),this.__pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=Pn(this,e),this.trigger("mouseout",t)},wheel:function(t){An=!0,t=Kt(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){An||(t=Kt(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){Ln(t=Kt(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Rn.mousemove.call(this,t),Rn.mousedown.call(this,t)},touchmove:function(t){Ln(t=Kt(this.dom,t)),this.handler.processGesture(t,"change"),Rn.mousemove.call(this,t)},touchend:function(t){Ln(t=Kt(this.dom,t)),this.handler.processGesture(t,"end"),Rn.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&Rn.click.call(this,t)},pointerdown:function(t){Rn.mousedown.call(this,t)},pointermove:function(t){kn(t)||Rn.mousemove.call(this,t)},pointerup:function(t){Rn.mouseup.call(this,t)},pointerout:function(t){kn(t)||Rn.mouseout.call(this,t)}};N(["click","dblclick","contextmenu"],function(e){Rn[e]=function(t){t=Kt(this.dom,t),this.trigger(e,t)}});var Nn={pointermove:function(t){kn(t)||Nn.mousemove.call(this,t)},pointerup:function(t){Nn.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function En(i,o){var r=o.domHandlers;v.pointerEventsSupported?N(Cn.pointer,function(e){Bn(o,e,function(t){r[e].call(i,t)})}):(v.touchEventsSupported&&N(Cn.touch,function(n){Bn(o,n,function(t){var e;r[n].call(i,t),(e=o).touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)})}),N(Cn.mouse,function(e){Bn(o,e,function(t){t=jt(t),o.touching||r[e].call(i,t)})}))}function zn(o,r){function t(i){Bn(r,i,function(t){var e,n;t=jt(t),Pn(o,t.target)||(n=t,t=Kt((e=o).dom,new On(e,n),!0),r.domHandlers[i].call(o,t))},{capture:!0})}v.pointerEventsSupported?N(Dn,t):v.touchEventsSupported||N(In,t)}function Bn(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,$t(t.domTarget,e,n,i)}function Vn(t){var e,n,i,o,r,a=t.mounted;for(e in a)a.hasOwnProperty(e)&&(n=t.domTarget,o=a[i=e],r=t.listenerOpts[e],Ut?n.removeEventListener(i,o,r):n.detachEvent("on"+i,o));t.mounted={}}var Fn,Hn=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},Gn=(l(Wn,Fn=Nt),Wn.prototype.dispose=function(){Vn(this._localHandlerScope),Tn&&Vn(this._globalHandlerScope)},Wn.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},Wn.prototype.__togglePointerCapture=function(t){var e;this.__mayPointerCapture=null,Tn&&+this.__pointerCapturing^+t&&(this.__pointerCapturing=t,e=this._globalHandlerScope,t?zn(this,e):Vn(e))},Wn);function Wn(t,e){var n=Fn.call(this)||this;return n.__pointerCapturing=!1,n.dom=t,n.painterRoot=e,n._localHandlerScope=new Hn(t,Rn),Tn&&(n._globalHandlerScope=new Hn(document,Nn)),En(n,n._localHandlerScope),n}function Un(){return[1,0,0,1,0,0]}function Zn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Xn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Yn(t,e,n){var i=e[0]*n[0]+e[2]*n[1],o=e[1]*n[0]+e[3]*n[1],r=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],e=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=e,t}function qn(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function jn(t,e,n){var i=e[0],o=e[2],r=e[4],a=e[1],s=e[3],l=e[5],e=Math.sin(n),n=Math.cos(n);return t[0]=i*n+a*e,t[1]=-i*e+a*n,t[2]=o*n+s*e,t[3]=-o*e+n*s,t[4]=n*r+e*l,t[5]=n*l-e*r,t}function Kn(t,e,n){var i=n[0],n=n[1];return t[0]=e[0]*i,t[1]=e[1]*n,t[2]=e[2]*i,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*n,t}function $n(t,e){var n=e[0],i=e[2],o=e[4],r=e[1],a=e[3],s=e[5],e=n*a-r*i;return e?(e=1/e,t[0]=a*e,t[1]=-r*e,t[2]=-i*e,t[3]=n*e,t[4]=(i*s-a*o)*e,t[5]=(r*o-n*s)*e,t):null}var Jn=Object.freeze({__proto__:null,create:Un,identity:Zn,copy:Xn,mul:Yn,translate:qn,rotate:jn,scale:Kn,invert:$n,clone:function(t){var e=Un();return Xn(e,t),e}}),Qn=Zn;function ti(t){return 5e-5<t||t<-5e-5}var ei=[],ni=[],ii=Un(),oi=Math.abs,ri=(ai.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},ai.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},ai.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},ai.prototype.needLocalTransform=function(){return ti(this.rotation)||ti(this.x)||ti(this.y)||ti(this.scaleX-1)||ti(this.scaleY-1)},ai.prototype.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;n||e?(i=i||Un(),n?this.getLocalTransform(i):Qn(i),e&&(n?Yn(i,t.transform,i):Xn(i,t.transform)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&Qn(i)},ai.prototype._resolveGlobalScaleRatio=function(t){var e,n,i=this.globalScaleRatio;null!=i&&1!==i&&(this.getGlobalScale(ei),e=((ei[0]-(n=ei[0]<0?-1:1))*i+n)/ei[0]||0,n=((ei[1]-(n=ei[1]<0?-1:1))*i+n)/ei[1]||0,t[0]*=e,t[1]*=e,t[2]*=n,t[3]*=n),this.invTransform=this.invTransform||Un(),$n(this.invTransform,t)},ai.prototype.getLocalTransform=function(t){return ai.getLocalTransform(this,t)},ai.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},ai.prototype.setLocalTransform=function(t){var e,n;t&&(e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],ti(e-1)&&(e=Math.sqrt(e)),ti(n-1)&&(n=Math.sqrt(n)),this.rotation=Math.atan2(-t[1]/n,t[0]/e),t[0]<0&&(e=-e),t[3]<0&&(n=-n),e<0&&n<0&&(this.rotation+=Math.PI,e=-e,n=-n),this.x=t[4],this.y=t[5],this.scaleX=e,this.scaleY=n)},ai.prototype.decomposeTransform=function(){var t,e,n;this.transform&&(n=this.parent,t=this.transform,n&&n.transform&&(Yn(ni,n.invTransform,t),t=ni),e=this.originX,n=this.originY,(e||n)&&(ii[4]=e,ii[5]=n,Yn(ni,t,ii),ni[4]-=e,ni[5]-=n,t=ni),this.setLocalTransform(t))},ai.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},ai.prototype.transformCoordToLocal=function(t,e){t=[t,e],e=this.invTransform;return e&&Dt(t,t,e),t},ai.prototype.transformCoordToGlobal=function(t,e){t=[t,e],e=this.transform;return e&&Dt(t,t,e),t},ai.prototype.getLineScale=function(){var t=this.transform;return t&&1e-10<oi(t[0]-1)&&1e-10<oi(t[3]-1)?Math.sqrt(oi(t[0]*t[3]-t[2]*t[1])):1},ai.getLocalTransform=function(t,e){Qn(e=e||[]);var n=t.originX||0,i=t.originY||0,o=t.scaleX,r=t.scaleY,a=t.rotation||0,s=t.x,t=t.y;return e[4]-=n,e[5]-=i,e[0]*=o,e[1]*=r,e[2]*=o,e[3]*=r,e[4]*=o,e[5]*=r,a&&jn(e,e,a),e[4]+=n,e[5]+=i,e[4]+=s,e[5]+=t,e},ai.initDefaultProps=((Zh=ai.prototype).x=0,Zh.y=0,Zh.scaleX=1,Zh.scaleY=1,Zh.originX=0,Zh.originY=0,Zh.rotation=0,void(Zh.globalScaleRatio=1)),ai);function ai(){}var si=(li.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},li.prototype.clone=function(){return new li(this.x,this.y)},li.prototype.set=function(t,e){return this.x=t,this.y=e,this},li.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},li.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},li.prototype.scale=function(t){this.x*=t,this.y*=t},li.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},li.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},li.prototype.dot=function(t){return this.x*t.x+this.y*t.y},li.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},li.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},li.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},li.prototype.distance=function(t){var e=this.x-t.x,t=this.y-t.y;return Math.sqrt(e*e+t*t)},li.prototype.distanceSquare=function(t){var e=this.x-t.x,t=this.y-t.y;return e*e+t*t},li.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},li.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},li.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},li.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},li.set=function(t,e,n){t.x=e,t.y=n},li.copy=function(t,e){t.x=e.x,t.y=e.y},li.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},li.lenSquare=function(t){return t.x*t.x+t.y*t.y},li.dot=function(t,e){return t.x*e.x+t.y*e.y},li.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},li.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},li.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},li.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},li.lerp=function(t,e,n,i){var o=1-i;t.x=o*e.x+i*n.x,t.y=o*e.y+i*n.y},li);function li(t,e){this.x=t||0,this.y=e||0}var ui=Math.min,hi=Math.max,ci=new si,pi=new si,di=new si,fi=new si,gi=new si,yi=new si,mi=(vi.prototype.union=function(t){var e=ui(t.x,this.x),n=ui(t.y,this.y);this.width=hi(t.x+t.width,this.x+this.width)-e,this.height=hi(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},vi.prototype.applyTransform=function(t){vi.applyTransform(this,this,t)},vi.prototype.calculateTransform=function(t){var e=t.width/this.width,n=t.height/this.height,i=Un();return qn(i,i,[-this.x,-this.y]),Kn(i,i,[e,n]),qn(i,i,[t.x,t.y]),i},vi.prototype.intersect=function(t,e){if(!t)return!1;t instanceof vi||(t=vi.create(t));var n,i,o,r,a,s,l=this,u=l.x,h=l.x+l.width,c=l.y,p=l.y+l.height,d=t.x,f=t.x+t.width,g=t.y,y=t.y+t.height,m=!(h<d||f<u||p<g||y<c);return e&&(n=1/0,i=0,o=Math.abs(h-d),r=Math.abs(f-u),a=Math.abs(p-g),s=Math.abs(y-c),l=Math.min(o,r),t=Math.min(a,s),h<d||f<u?i<l&&(i=l,o<r?si.set(yi,-o,0):si.set(yi,r,0)):l<n&&(n=l,o<r?si.set(gi,o,0):si.set(gi,-r,0)),p<g||y<c?i<t&&(i=t,a<s?si.set(yi,0,-a):si.set(yi,0,s)):l<n&&(n=l,a<s?si.set(gi,0,a):si.set(gi,0,-s))),e&&si.copy(e,m?gi:yi),m},vi.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},vi.prototype.clone=function(){return new vi(this.x,this.y,this.width,this.height)},vi.prototype.copy=function(t){vi.copy(this,t)},vi.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},vi.create=function(t){return new vi(t.x,t.y,t.width,t.height)},vi.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},vi.applyTransform=function(t,e,n){if(n){if(n[1]<1e-5&&-1e-5<n[1]&&n[2]<1e-5&&-1e-5<n[2]){var i=n[0],o=n[3],r=n[4],a=n[5];return t.x=e.x*i+r,t.y=e.y*o+a,t.width=e.width*i,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}ci.x=di.x=e.x,ci.y=fi.y=e.y,pi.x=fi.x=e.x+e.width,pi.y=di.y=e.y+e.height,ci.transform(n),fi.transform(n),pi.transform(n),di.transform(n),t.x=ui(ci.x,pi.x,di.x,fi.x),t.y=ui(ci.y,pi.y,di.y,fi.y);o=hi(ci.x,pi.x,di.x,fi.x),n=hi(ci.y,pi.y,di.y,fi.y);t.width=o-t.x,t.height=n-t.y}else t!==e&&vi.copy(t,e)},vi);function vi(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}var _i,xi,bi={},wi="12px sans-serif";var Si={measureText:function(t,e){return _i=_i||M().getContext("2d"),xi!==e&&(xi=_i.font=e||wi),_i.measureText(t)}};function Mi(t,e){var n=bi[e=e||wi],i=(n=n||(bi[e]=new Ne(500))).get(t);return null==i&&(i=Si.measureText(t,e).width,n.put(t,i)),i}function Ti(t,e,n,i){t=Mi(t,e),e=Ai(e),n=Ii(0,t,n),i=Di(0,e,i);return new mi(n,i,t,e)}function Ci(t,e,n,i){var o=((t||"")+"").split("\n");if(1===o.length)return Ti(o[0],e,n,i);for(var r=new mi(0,0,0,0),a=0;a<o.length;a++){var s=Ti(o[a],e,n,i);0===a?r.copy(s):r.union(s)}return r}function Ii(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Di(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Ai(t){return Mi("国",t)}function ki(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function Li(t,e,n){var i=e.position||"inside",o=null!=e.distance?e.distance:5,r=n.height,a=n.width,s=r/2,l=n.x,u=n.y,h="left",e="top";if(i instanceof Array)l+=ki(i[0],n.width),u+=ki(i[1],n.height),e=h=null;else switch(i){case"left":l-=o,u+=s,h="right",e="middle";break;case"right":l+=o+a,u+=s,e="middle";break;case"top":l+=a/2,u-=o,h="center",e="bottom";break;case"bottom":l+=a/2,u+=r+o,h="center";break;case"inside":l+=a/2,u+=s,h="center",e="middle";break;case"insideLeft":l+=o,u+=s,e="middle";break;case"insideRight":l+=a-o,u+=s,h="right",e="middle";break;case"insideTop":l+=a/2,u+=o,h="center";break;case"insideBottom":l+=a/2,u+=r-o,h="center",e="bottom";break;case"insideTopLeft":l+=o,u+=o;break;case"insideTopRight":l+=a-o,u+=o,h="right";break;case"insideBottomLeft":l+=o,u+=r-o,e="bottom";break;case"insideBottomRight":l+=a-o,u+=r-o,h="right",e="bottom"}return(t=t||{}).x=l,t.y=u,t.align=h,t.verticalAlign=e,t}var Pi=1;"undefined"!=typeof window&&(Pi=Math.max(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Oi=Pi,Ri="#333",Ni="#ccc",Ei="__zr_normal__",zi=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Bi={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Vi={},Fi=new mi(0,0,0,0),Hi=(Gi.prototype._init=function(t){this.attr(t)},Gi.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;(i=i||(this.transform=[1,0,0,1,0,0]))[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},Gi.prototype.beforeUpdate=function(){},Gi.prototype.afterUpdate=function(){},Gi.prototype.update=function(){this.updateTransform(),this.updateInnerText()},Gi.prototype.updateInnerText=function(t){var e,n,i,o,r,a,s,l,u,h,c=this._textContent;!c||c.ignore&&!t||(this.textConfig||(this.textConfig={}),a=(e=this.textConfig).local,i=n=void 0,o=!1,(u=c.attachedTransform).parent=a?this:null,l=!1,u.x=c.x,u.y=c.y,u.originX=c.originX,u.originY=c.originY,u.rotation=c.rotation,u.scaleX=c.scaleX,u.scaleY=c.scaleY,null!=e.position&&(s=Fi,e.layoutRect?s.copy(e.layoutRect):s.copy(this.getBoundingRect()),a||s.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Vi,e,s):Li(Vi,e,s),u.x=Vi.x,u.y=Vi.y,n=Vi.align,i=Vi.verticalAlign,(r=e.origin)&&null!=e.rotation&&(h=t=void 0,h="center"===r?(t=.5*s.width,.5*s.height):(t=ki(r[0],s.width),ki(r[1],s.height)),l=!0,u.originX=-u.x+t+(a?0:s.x),u.originY=-u.y+h+(a?0:s.y))),null!=e.rotation&&(u.rotation=e.rotation),(h=e.offset)&&(u.x+=h[0],u.y+=h[1],l||(u.originX=-h[0],u.originY=-h[1])),a=null==e.inside?"string"==typeof e.position&&0<=e.position.indexOf("inside"):e.inside,s=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),h=u=l=void 0,a&&this.canBeInsideText()?(l=e.insideFill,u=e.insideStroke,null!=l&&"auto"!==l||(l=this.getInsideTextFill()),null!=u&&"auto"!==u||(u=this.getInsideTextStroke(l),h=!0)):(l=e.outsideFill,u=e.outsideStroke,null!=l&&"auto"!==l||(l=this.getOutsideFill()),null!=u&&"auto"!==u||(u=this.getOutsideStroke(l),h=!0)),(l=l||"#000")===s.fill&&u===s.stroke&&h===s.autoStroke&&n===s.align&&i===s.verticalAlign||(o=!0,s.fill=l,s.stroke=u,s.autoStroke=h,s.align=n,s.verticalAlign=i,c.setDefaultTextStyle(s)),o&&c.dirtyStyle(),c.markRedraw())},Gi.prototype.canBeInsideText=function(){return!0},Gi.prototype.getInsideTextFill=function(){return"#fff"},Gi.prototype.getInsideTextStroke=function(t){return"#000"},Gi.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Ni:Ri},Gi.prototype.getOutsideStroke=function(t){for(var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&je(e),i=(n=n||[255,255,255,1])[3],o=0;o<3;o++)n[o]=n[o]*i+255*(1-i);return n[3]=1,nn(n,"rgba")},Gi.prototype.traverse=function(t,e){},Gi.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},D(this.extra,e)):this[t]=e},Gi.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Gi.prototype.show=function(){this.ignore=!1,this.markRedraw()},Gi.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(U(t))for(var n=E(t),i=0;i<n.length;i++){var o=n[i];this.attrKV(o,t[o])}return this.markRedraw(),this},Gi.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],o=i.__fromStateTransition;o&&o!==Ei||(o=(o=i.targetName)?e[o]:e,i.saveFinalToTarget(o))}},Gi.prototype._innerSaveToNormal=function(t){var e=(e=this._normalState)||(this._normalState={});t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,zi)},Gi.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var o=n[i];null==t[o]||o in e||(e[o]=this[o])}},Gi.prototype.hasState=function(){return 0<this.currentStates.length},Gi.prototype.getState=function(t){return this.states[t]},Gi.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},Gi.prototype.clearStates=function(t){this.useState(Ei,!1,t)},Gi.prototype.useState=function(t,e,n){var i=t===Ei;if(this.hasState()||!i){var o,r=this.currentStates,a=this.stateTransition;if(!(0<=k(r,t))||!e&&1!==r.length){if(this.stateProxy&&!i&&(o=this.stateProxy(t)),(o=o||this.states&&this.states[t])||i){i||this.saveCurrentToNormalState(o);r=!(!o||!o.hoverLayer);return r&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,o,this._normalState,e,!n&&!this.__inHover&&a&&0<a.duration,a),this._textContent&&this._textContent.useState(t,e),this._textGuide&&this._textGuide.useState(t,e),i?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!r&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Gi.REDARAW_BIT),o}b("State "+t+" not exists.")}}},Gi.prototype.useStates=function(t,e){if(t.length){var n=[],i=this.currentStates,o=t.length,r=o===i.length;if(r)for(var a=0;a<o;a++)if(t[a]!==i[a]){r=!1;break}if(!r){for(a=0;a<o;a++){var s=t[a],l=void 0;this.stateProxy&&(l=this.stateProxy(s,t)),(l=l||this.states[s])&&n.push(l)}var u=!(!n[o-1]||!n[o-1].hoverLayer);u&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(n),c=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!e&&!this.__inHover&&c&&0<c.duration,c),this._textContent&&this._textContent.useStates(t),this._textGuide&&this._textGuide.useStates(t),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Gi.REDARAW_BIT)}}else this.clearStates()},Gi.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},Gi.prototype.removeState=function(t){var e=k(this.currentStates,t);0<=e&&((t=this.currentStates.slice()).splice(e,1),this.useStates(t))},Gi.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),o=k(i,t),t=0<=k(i,e);0<=o?t?i.splice(o,1):i[o]=e:n&&!t&&i.push(e),this.useStates(i)},Gi.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},Gi.prototype._mergeStates=function(t){for(var e,n={},i=0;i<t.length;i++){var o=t[i];D(n,o),o.textConfig&&D(e=e||{},o.textConfig)}return e&&(n.textConfig=e),n},Gi.prototype._applyStateObj=function(t,e,n,i,o,r){var a=!(e&&i);e&&e.textConfig?(this.textConfig=D({},(i?this:n).textConfig),D(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,u=0;u<zi.length;u++){var h=zi[u],c=o&&Bi[h];e&&null!=e[h]?c?(l=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(c?(l=!0,s[h]=n[h]):this[h]=n[h])}if(!o)for(u=0;u<this.animators.length;u++){var p=this.animators[u],d=p.targetName;p.__changeFinalValue(d?(e||n)[d]:e||n)}l&&this._transitionState(t,s,r)},Gi.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},Gi.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},Gi.prototype.getClipPath=function(){return this._clipPath},Gi.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},Gi.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},Gi.prototype.getTextContent=function(){return this._textContent},Gi.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.attachedTransform=new ri,this._attachComponent(t),this._textContent=t,this.markRedraw()}},Gi.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),D(this.textConfig,t),this.markRedraw()},Gi.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Gi.prototype.getTextGuideLine=function(){return this._textGuide},Gi.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},Gi.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},Gi.prototype.markRedraw=function(){this.__dirty|=Gi.REDARAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Gi.prototype.dirty=function(){this.markRedraw()},Gi.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},Gi.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},Gi.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},Gi.prototype.animate=function(t,e){var n=t?this[t]:this;if(n){e=new _n(n,e);return this.addAnimator(e,t),e}b('Property "'+t+'" is not existed in element '+this.id)},Gi.prototype.addAnimator=function(n,t){var e=this.__zr,i=this;n.during(function(){i.updateDuringAnimation(t)}).done(function(){var t=i.animators,e=k(t,n);0<=e&&t.splice(e,1)}),this.animators.push(n),e&&e.animation.addAnimator(n),e&&e.wakeUp()},Gi.prototype.updateDuringAnimation=function(t){this.markRedraw()},Gi.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,o=[],r=0;r<i;r++){var a=n[r];t&&t!==a.scope?o.push(a):a.stop(e)}return this.animators=o,this},Gi.prototype.animateTo=function(t,e,n){Wi(this,t,e,n)},Gi.prototype.animateFrom=function(t,e,n){Wi(this,t,e,n,!0)},Gi.prototype._transitionState=function(t,e,n,i){for(var o=Wi(this,e,n,i),r=0;r<o.length;r++)o[r].__fromStateTransition=t},Gi.prototype.getBoundingRect=function(){return null},Gi.REDARAW_BIT=1,Gi.initDefaultProps=function(){var t=Gi.prototype;t.type="element",t.name="",t.ignore=!1,t.silent=!1,t.isGroup=!1,t.draggable=!1,t.dragging=!1,t.ignoreClip=!1,t.__inHover=!1,t.__dirty=Gi.REDARAW_BIT;var i={};function a(t,e,n){i[t+e+n]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+n+"' instead"),i[t+e+n]=!0)}function e(e,n,i,o){function r(e,t){Object.defineProperty(t,0,{get:function(){return e[i]},set:function(t){e[i]=t}}),Object.defineProperty(t,1,{get:function(){return e[o]},set:function(t){e[o]=t}})}Object.defineProperty(t,e,{get:function(){var t;return a(e,i,o),this[n]||(t=this[n]=[],r(this,t)),this[n]},set:function(t){a(e,i,o),this[i]=t[0],this[o]=t[1],this[n]=t,r(this,t)}})}Object.defineProperty&&(!v.browser.ie||8<v.browser.version)&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),Gi);function Gi(t){this.id=_++,this.animators=[],this.currentStates=[],this.states={},this._init(t)}function Wi(t,e,n,i,o){var r=[];!function t(e,n,i,o,r,a,s,l){var u=[];var h=[];var c=E(o);var p=r.duration;var d=r.delay;var f=r.additive;var g=r.setToFinal;var y=!U(a);for(var m=0;m<c.length;m++){var v=c[m];null!=i[v]&&null!=o[v]&&(y||a[v])?U(o[v])&&!L(o[v])?n?l||(i[v]=o[v],e.updateDuringAnimation(n)):t(e,v,i[v],o[v],r,a&&a[v],s,l):(u.push(v),h.push(v)):l||(i[v]=o[v],e.updateDuringAnimation(n),h.push(v))}var _=u.length;if(0<_||r.force){for(var x=e.animators,b=[],w=0;w<x.length;w++)x[w].targetName===n&&b.push(x[w]);if(!f&&b.length)for(var w=0;w<b.length;w++){var S=b[w].stopTracks(h);S&&(S=k(x,b[w]),x.splice(S,1))}var M=void 0,T=void 0,C=void 0;if(l){T={},g&&(M={});for(var w=0;w<_;w++){var v=u[w];T[v]=i[v],g?M[v]=o[v]:i[v]=o[v]}}else if(g){C={};for(var w=0;w<_;w++){var v=u[w];C[v]=fn(i[v]),Zi(i,o,v)}}var f=new _n(i,!1,f?b:null);f.targetName=n,r.scope&&(f.scope=r.scope),g&&M&&f.whenWithKeys(0,M,u),C&&f.whenWithKeys(0,C,u),f.whenWithKeys(null==p?500:p,l?T:o,u).delay(d||0),e.addAnimator(f,n),s.push(f)}}(t,"",t,e,n=n||{},i,r,o);var a=r.length,s=a,l=n.done,u=n.aborted,h=l?function(){--a||l()}:null,c=u?function(){--s||u()}:null;a||l&&l(),0<r.length&&n.during&&r[0].during(function(t,e){n.during(e)});for(var p=0;p<r.length;p++){var d=r[p];h&&d.done(h),c&&d.aborted(c),d.start(n.easing,n.force)}return r}function Ui(t,e,n){for(var i=0;i<n;i++)t[i]=e[i]}function Zi(t,e,n){if(L(e[n])){var i;L(t[n])||(t[n]=[]),X(e[n])&&(i=e[n].length,t[n].length!==i&&(t[n]=new e[n].constructor(i),Ui(t[n],e[n],i)));var o=e[n],r=t[n],a=o.length;if(L(o[0]))for(var s=o[0].length,l=0;l<a;l++)r[l]?Ui(r[l],o[l],s):r[l]=Array.prototype.slice.call(o[l]);else Ui(r,o,a);r.length=o.length}else t[n]=e[n]}C(Hi,Nt),C(Hi,ri);var Xi="__zr_style_"+Math.round(10*Math.random()),Yi={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},qi={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Yi[Xi]=!0;var ji,Ki=["z","z2","invisible"],$i=(l(Ji,ji=Hi),Ji.prototype._init=function(t){for(var e=E(t),n=0;n<e.length;n++){var i=e[n];"style"===i?this.useStyle(t[i]):ji.prototype.attrKV.call(this,i,t[i])}this.style||this.useStyle({})},Ji.prototype.beforeBrush=function(){},Ji.prototype.afterBrush=function(){},Ji.prototype.innerBeforeBrush=function(){},Ji.prototype.innerAfterBrush=function(){},Ji.prototype.contain=function(t,e){return this.rectContain(t,e)},Ji.prototype.traverse=function(t,e){t.call(e,this)},Ji.prototype.rectContain=function(t,e){e=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(e[0],e[1])},Ji.prototype.animateStyle=function(t){return this.animate("style",t)},Ji.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},Ji.prototype.attrKV=function(t,e){"style"!==t?ji.prototype.attrKV.call(this,t,e):this.style?this.setStyle(e):this.useStyle(e)},Ji.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:D(this.style,t),this.dirtyStyle(),this},Ji.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=Ji.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},Ji.prototype.dirty=function(){this.dirtyStyle()},Ji.prototype.styleChanged=function(){return!!(this.__dirty&Ji.STYLE_CHANGED_BIT)},Ji.prototype.styleUpdated=function(){this.__dirty&=~Ji.STYLE_CHANGED_BIT},Ji.prototype.createStyle=function(t){return ct(Yi,t)},Ji.prototype.useStyle=function(t){t[Xi]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},Ji.prototype.isStyleObject=function(t){return t[Xi]},Ji.prototype._innerSaveToNormal=function(t){ji.prototype._innerSaveToNormal.call(this,t);var e=this._normalState;t.style&&!e.style&&(e.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,e,Ki)},Ji.prototype._applyStateObj=function(t,e,n,i,o,r){ji.prototype._applyStateObj.call(this,t,e,n,i,o,r);var a,s=!(e&&i);if(e&&e.style?o?i?a=e.style:(a=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(a,e.style)):(a=this._mergeStyle(this.createStyle(),(i?this:n).style),this._mergeStyle(a,e.style)):s&&(a=n.style),a)if(o){var l=this.style;if(this.style=this.createStyle(s?{}:l),s)for(var u=E(l),h=0;h<u.length;h++){(p=u[h])in a&&(a[p]=a[p],this.style[p]=l[p])}for(var c=E(a),h=0;h<c.length;h++){var p=c[h];this.style[p]=this.style[p]}this._transitionState(t,{style:a},r,this._getAnimationStyleProps())}else this.useStyle(a);for(h=0;h<Ki.length;h++){p=Ki[h];e&&null!=e[p]?this[p]=e[p]:s&&null!=n[p]&&(this[p]=n[p])}},Ji.prototype._mergeStates=function(t){for(var e,n=ji.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var o=t[i];o.style&&(e=e||{},this._mergeStyle(e,o.style))}return e&&(n.style=e),n},Ji.prototype._mergeStyle=function(t,e){return D(t,e),t},Ji.prototype._getAnimationStyleProps=function(){return qi},Ji.STYLE_CHANGED_BIT=2,Ji.initDefaultProps=((qh=Ji.prototype).type="displayable",qh.invisible=!1,qh.z=0,qh.z2=0,qh.zlevel=0,qh.culling=!1,qh.cursor="pointer",qh.rectHover=!1,qh.incremental=!1,qh._rect=null,void(qh.__dirty=Hi.REDARAW_BIT|Ji.STYLE_CHANGED_BIT)),Ji);function Ji(t){return ji.call(this,t)||this}var Qi=Math.pow,to=Math.sqrt,eo=1e-8,no=1e-4,io=to(3),oo=1/3,ro=gt(),ao=gt(),so=gt();function lo(t){return-eo<t&&t<eo}function uo(t){return eo<t||t<-eo}function ho(t,e,n,i,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*i+3*r*n)}function co(t,e,n,i,o){var r=1-o;return 3*(((e-t)*r+2*(n-e)*o)*r+(i-n)*o*o)}function po(t,e,n,i,o,r){var a,s,l,u=i+3*(e-n)-t,h=3*(n-2*e+t),i=3*(e-t),n=t-o,e=h*h-3*u*i,t=h*i-9*u*n,o=i*i-3*h*n,n=0;return lo(e)&&lo(t)?lo(h)?r[0]=0:0<=(s=-i/h)&&s<=1&&(r[n++]=s):lo(i=t*t-4*e*o)?(l=-(o=t/e)/2,0<=(s=-h/u+o)&&s<=1&&(r[n++]=s),0<=l&&l<=1&&(r[n++]=l)):0<i?(a=e*h+1.5*u*(-t-(i=to(i))),0<=(s=(-h-((i=(i=e*h+1.5*u*(-t+i))<0?-Qi(-i,oo):Qi(i,oo))+(a=a<0?-Qi(-a,oo):Qi(a,oo))))/(3*u))&&s<=1&&(r[n++]=s)):(a=(2*e*h-3*u*t)/(2*to(e*e*e)),t=Math.acos(a)/3,s=(-h-2*(a=to(e))*(e=Math.cos(t)))/(3*u),l=(-h+a*(e+io*Math.sin(t)))/(3*u),u=(-h+a*(e-io*Math.sin(t)))/(3*u),0<=s&&s<=1&&(r[n++]=s),0<=l&&l<=1&&(r[n++]=l),0<=u&&u<=1&&(r[n++]=u)),n}function fo(t,e,n,i,o){var r,a=6*n-12*e+6*t,i=9*e+3*i-3*t-9*n,n=3*e-3*t,e=0;return lo(i)?uo(a)&&0<=(r=-n/a)&&r<=1&&(o[e++]=r):lo(t=a*a-4*i*n)?o[0]=-a/(2*i):0<t&&(t=(-a-(n=to(t)))/(2*i),0<=(r=(-a+n)/(2*i))&&r<=1&&(o[e++]=r),0<=t&&t<=1&&(o[e++]=t)),e}function go(t,e,n,i,o,r){var a=(e-t)*o+t,s=(n-e)*o+e,e=(i-n)*o+n,n=(s-a)*o+a,s=(e-s)*o+s,o=(s-n)*o+n;r[0]=t,r[1]=a,r[2]=n,r[3]=o,r[4]=o,r[5]=s,r[6]=e,r[7]=i}function yo(t,e,n,i,o,r,a,s,l,u,h){var c,p,d,f,g=.005,y=1/0;ro[0]=l,ro[1]=u;for(var m=0;m<1;m+=.05)ao[0]=ho(t,n,o,a,m),ao[1]=ho(e,i,r,s,m),(d=Ct(ro,ao))<y&&(c=m,y=d);y=1/0;for(var v=0;v<32&&!(g<no);v++)f=c-g,p=c+g,ao[0]=ho(t,n,o,a,f),ao[1]=ho(e,i,r,s,f),d=Ct(ao,ro),0<=f&&d<y?(c=f,y=d):(so[0]=ho(t,n,o,a,p),so[1]=ho(e,i,r,s,p),f=Ct(so,ro),p<=1&&f<y?(c=p,y=f):g*=.5);return h&&(h[0]=ho(t,n,o,a,c),h[1]=ho(e,i,r,s,c)),to(y)}function mo(t,e,n,i){var o=1-i;return o*(o*t+2*i*e)+i*i*n}function vo(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function _o(t,e,n){n=t+n-2*e;return 0==n?.5:(t-e)/n}function xo(t,e,n,i,o){var r=(e-t)*i+t,e=(n-e)*i+e,i=(e-r)*i+r;o[0]=t,o[1]=r,o[2]=i,o[3]=i,o[4]=e,o[5]=n}function bo(t,e,n,i,o,r,a,s,l){var u,h=.005,c=1/0;ro[0]=a,ro[1]=s;for(var p=0;p<1;p+=.05){ao[0]=mo(t,n,o,p),ao[1]=mo(e,i,r,p),(y=Ct(ro,ao))<c&&(u=p,c=y)}c=1/0;for(var d=0;d<32&&!(h<no);d++){var f=u-h,g=u+h;ao[0]=mo(t,n,o,f),ao[1]=mo(e,i,r,f);var y=Ct(ao,ro);0<=f&&y<c?(u=f,c=y):(so[0]=mo(t,n,o,g),so[1]=mo(e,i,r,g),f=Ct(so,ro),g<=1&&f<c?(u=g,c=f):h*=.5)}return l&&(l[0]=mo(t,n,o,u),l[1]=mo(e,i,r,u)),to(c)}var wo=Math.min,So=Math.max,Mo=Math.sin,To=Math.cos,Co=2*Math.PI,Io=gt(),Do=gt(),Ao=gt();function ko(t,e,n,i,o,r){o[0]=wo(t,n),o[1]=wo(e,i),r[0]=So(t,n),r[1]=So(e,i)}var Lo=[],Po=[];var Oo={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ro=[],No=[],Eo=[],zo=[],Bo=[],Vo=[],Fo=Math.min,Ho=Math.max,Go=Math.cos,Wo=Math.sin,Uo=Math.sqrt,Zo=Math.abs,Xo=Math.PI,Yo=2*Xo,qo="undefined"!=typeof Float32Array,jo=[];function Ko(t){return Math.round(t/Xo*1e8)/1e8%2*Xo}function $o(t,e){var n=Ko(t[0]);n<0&&(n+=Yo);var i=n-t[0],o=t[1];o+=i,!e&&Yo<=o-n?o=n+Yo:e&&Yo<=n-o?o=n-Yo:!e&&o<n?o=n+(Yo-Ko(n-o)):e&&n<o&&(o=n-(Yo-Ko(o-n))),t[0]=n,t[1]=o}var Jo=(Qo.prototype.increaseVersion=function(){this._version++},Qo.prototype.getVersion=function(){return this._version},Qo.prototype.setScale=function(t,e,n){0<(n=n||0)&&(this._ux=Zo(n/Oi/t)||0,this._uy=Zo(n/Oi/e)||0)},Qo.prototype.setDPR=function(t){this.dpr=t},Qo.prototype.setContext=function(t){this._ctx=t},Qo.prototype.getContext=function(){return this._ctx},Qo.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},Qo.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},Qo.prototype.moveTo=function(t,e){return this.addData(Oo.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},Qo.prototype.lineTo=function(t,e){var n=Zo(t-this._xi)>this._ux||Zo(e-this._yi)>this._uy||this._len<5;return this.addData(Oo.L,t,e),this._ctx&&n&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},Qo.prototype.bezierCurveTo=function(t,e,n,i,o,r){return this.addData(Oo.C,t,e,n,i,o,r),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,n,i,o,r):this._ctx.bezierCurveTo(t,e,n,i,o,r)),this._xi=o,this._yi=r,this},Qo.prototype.quadraticCurveTo=function(t,e,n,i){return this.addData(Oo.Q,t,e,n,i),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},Qo.prototype.arc=function(t,e,n,i,o,r){jo[0]=i,jo[1]=o,$o(jo,r),i=jo[0];var a=(o=jo[1])-i;return this.addData(Oo.A,t,e,n,n,i,a,0,r?0:1),this._ctx&&this._ctx.arc(t,e,n,i,o,r),this._xi=Go(o)*n+t,this._yi=Wo(o)*n+e,this},Qo.prototype.arcTo=function(t,e,n,i,o){return this._ctx&&this._ctx.arcTo(t,e,n,i,o),this},Qo.prototype.rect=function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(Oo.R,t,e,n,i),this},Qo.prototype.closePath=function(){this.addData(Oo.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},Qo.prototype.fill=function(t){t&&t.fill(),this.toStatic()},Qo.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},Qo.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},Qo.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},Qo.prototype.len=function(){return this._len},Qo.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!qo||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},Qo.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,o=0;o<e;o++)n+=t[o].len();qo&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(o=0;o<e;o++)for(var r=t[o].data,a=0;a<r.length;a++)this.data[i++]=r[a];this._len=i},Qo.prototype.addData=function(t,e,n,i,o,r,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},Qo.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},Qo.prototype._dashedLineTo=function(t,e){var n,i,o=this._dashSum,r=this._lineDash,a=this._ctx,s=this._dashOffset,l=this._xi,u=this._yi,h=t-l,c=e-u,p=Uo(h*h+c*c),d=l,f=u,g=r.length;for(s<0&&(s=o+s),d-=(s%=o)*(h/=p),f-=s*(c/=p);0<h&&d<=t||h<0&&t<=d||0===h&&(0<c&&f<=e||c<0&&e<=f);)d+=h*(n=r[i=this._dashIdx]),f+=c*n,this._dashIdx=(i+1)%g,0<h&&d<l||h<0&&l<d||0<c&&f<u||c<0&&u<f||a[i%2?"moveTo":"lineTo"]((0<=h?Fo:Ho)(d,t),(0<=c?Fo:Ho)(f,e));h=d-t,c=f-e,this._dashOffset=-Uo(h*h+c*c)},Qo.prototype._dashedBezierTo=function(t,e,n,i,o,r){var a,s,l,u,h,c=this._ctx,p=this._dashSum,d=this._dashOffset,f=this._lineDash,g=this._xi,y=this._yi,m=0,v=this._dashIdx,_=f.length,x=0;for(d<0&&(d=p+d),d%=p,a=0;a<1;a+=.1)s=ho(g,t,n,o,a+.1)-ho(g,t,n,o,a),l=ho(y,e,i,r,a+.1)-ho(y,e,i,r,a),m+=Uo(s*s+l*l);for(;v<_&&!(d<(x+=f[v]));v++);for(a=(x-d)/m;a<=1;)u=ho(g,t,n,o,a),h=ho(y,e,i,r,a),v%2?c.moveTo(u,h):c.lineTo(u,h),a+=f[v]/m,v=(v+1)%_;v%2!=0&&c.lineTo(o,r),s=o-u,l=r-h,this._dashOffset=-Uo(s*s+l*l)},Qo.prototype._dashedQuadraticTo=function(t,e,n,i){var o=n,r=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,o,r)},Qo.prototype.toStatic=function(){var t;!this._saveData||(t=this.data)instanceof Array&&(t.length=this._len,qo&&11<this._len&&(this.data=new Float32Array(t)))},Qo.prototype.getBoundingRect=function(){Eo[0]=Eo[1]=Bo[0]=Bo[1]=Number.MAX_VALUE,zo[0]=zo[1]=Vo[0]=Vo[1]=-Number.MAX_VALUE;for(var t,e,n,i=this.data,o=0,r=0,a=0,s=0,l=0;l<i.length;){var u=i[l++],h=1===l;switch(h&&(a=o=i[l],s=r=i[l+1]),u){case Oo.M:o=a=i[l++],r=s=i[l++],Bo[0]=a,Bo[1]=s,Vo[0]=a,Vo[1]=s;break;case Oo.L:ko(o,r,i[l],i[l+1],Bo,Vo),o=i[l++],r=i[l++];break;case Oo.C:!function(t,e,n,i,o,r,a,s,l,u){var h=fo,c=ho,p=h(t,n,o,a,Lo);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<p;d++){var f=c(t,n,o,a,Lo[d]);l[0]=wo(f,l[0]),u[0]=So(f,u[0])}for(p=h(e,i,r,s,Po),d=0;d<p;d++){var g=c(e,i,r,s,Po[d]);l[1]=wo(g,l[1]),u[1]=So(g,u[1])}l[0]=wo(t,l[0]),u[0]=So(t,u[0]),l[0]=wo(a,l[0]),u[0]=So(a,u[0]),l[1]=wo(e,l[1]),u[1]=So(e,u[1]),l[1]=wo(s,l[1]),u[1]=So(s,u[1])}(o,r,i[l++],i[l++],i[l++],i[l++],i[l],i[l+1],Bo,Vo),o=i[l++],r=i[l++];break;case Oo.Q:c=o,g=r,t=i[l++],e=i[l++],p=i[l],y=i[l+1],n=Bo,f=Vo,m=d=m=d=u=void 0,u=mo,d=So(wo((m=_o)(c,t,p),1),0),m=So(wo(m(g,e,y),1),0),d=u(c,t,p,d),m=u(g,e,y,m),n[0]=wo(c,p,d),n[1]=wo(g,y,m),f[0]=So(c,p,d),f[1]=So(g,y,m),o=i[l++],r=i[l++];break;case Oo.A:var c=i[l++],p=i[l++],d=i[l++],f=i[l++],g=i[l++],y=i[l++]+g;l+=1;var m=!i[l++];h&&(a=Go(g)*d+c,s=Wo(g)*f+p),function(t,e,n,i,o,r,a,s,l){var u=At,h=kt,c=Math.abs(o-r);if(c%Co<1e-4&&1e-4<c)return s[0]=t-n,s[1]=e-i,l[0]=t+n,l[1]=e+i;Io[0]=To(o)*n+t,Io[1]=Mo(o)*i+e,Do[0]=To(r)*n+t,Do[1]=Mo(r)*i+e,u(s,Io,Do),h(l,Io,Do),(o%=Co)<0&&(o+=Co),(r%=Co)<0&&(r+=Co),r<o&&!a?r+=Co:o<r&&a&&(o+=Co),a&&(a=r,r=o,o=a);for(var p=0;p<r;p+=Math.PI/2)o<p&&(Ao[0]=To(p)*n+t,Ao[1]=Mo(p)*i+e,u(s,Ao,s),h(l,Ao,l))}(c,p,d,f,g,y,m,Bo,Vo),o=Go(y)*d+c,r=Wo(y)*f+p;break;case Oo.R:ko(a=o=i[l++],s=r=i[l++],a+i[l++],s+i[l++],Bo,Vo);break;case Oo.Z:o=a,r=s}At(Eo,Eo,Bo),kt(zo,zo,Vo)}return 0===l&&(Eo[0]=Eo[1]=zo[0]=zo[1]=0),new mi(Eo[0],Eo[1],zo[0]-Eo[0],zo[1]-Eo[1])},Qo.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,o=0,r=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,h=0,c=0;c<e;){var p=t[c++],d=1===c;d&&(a=o=t[c],s=r=t[c+1]);var f=-1;switch(p){case Oo.M:o=a=t[c++],r=s=t[c++];break;case Oo.L:var g=t[c++],y=(_=t[c++])-r;(Zo(C=g-o)>n||Zo(y)>i||c===e-1)&&(f=Math.sqrt(C*C+y*y),o=g,r=_);break;case Oo.C:var m=t[c++],v=t[c++],g=t[c++],_=t[c++],x=t[c++],b=t[c++],f=function(t,e,n,i,o,r,a,s,l){for(var u=t,h=e,c=0,p=1/l,d=1;d<=l;d++){var f=d*p,g=ho(t,n,o,a,f),y=ho(e,i,r,s,f),m=g-u,f=y-h;c+=Math.sqrt(m*m+f*f),u=g,h=y}return c}(o,r,m,v,g,_,x,b,10),o=x,r=b;break;case Oo.Q:f=function(t,e,n,i,o,r,a){for(var s=t,l=e,u=0,h=1/a,c=1;c<=a;c++){var p=c*h,d=mo(t,n,o,p),f=mo(e,i,r,p),g=d-s,p=f-l;u+=Math.sqrt(g*g+p*p),s=d,l=f}return u}(o,r,m=t[c++],v=t[c++],g=t[c++],_=t[c++],10),o=g,r=_;break;case Oo.A:var w=t[c++],S=t[c++],M=t[c++],T=t[c++],p=t[c++],x=t[c++],b=x+p;c+=1;t[c++];d&&(a=Go(p)*M+w,s=Wo(p)*T+S),f=Ho(M,T)*Fo(Yo,Math.abs(x)),o=Go(b)*M+w,r=Wo(b)*T+S;break;case Oo.R:a=o=t[c++],s=r=t[c++];f=2*t[c++]+2*t[c++];break;case Oo.Z:var C=a-o,y=s-r;f=Math.sqrt(C*C+y*y),o=a,r=s}0<=f&&(u+=l[h++]=f)}return this._pathLen=u},Qo.prototype.rebuildPath=function(t,e){var n,i,o,r,a,s,l,u,h=this.data,c=this._ux,p=this._uy,d=this._len,f=e<1,g=0,y=0;if(!f||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=e*this._pathLen))t:for(var m=0;m<d;){var v=h[m++],_=1===m;switch(_&&(n=o=h[m],i=r=h[m+1]),v){case Oo.M:n=o=h[m++],i=r=h[m++],t.moveTo(o,r);break;case Oo.L:if(a=h[m++],s=h[m++],Zo(a-o)>c||Zo(s-r)>p||m===d-1){if(f){if(u<g+(E=l[y++])){var x=(u-g)/E;t.lineTo(o*(1-x)+a*x,r*(1-x)+s*x);break t}g+=E}t.lineTo(a,s),o=a,r=s}break;case Oo.C:var b=h[m++],w=h[m++],S=h[m++],M=h[m++],T=h[m++],C=h[m++];if(f){if(u<g+(E=l[y++])){go(o,b,S,T,x=(u-g)/E,Ro),go(r,w,M,C,x,No),t.bezierCurveTo(Ro[1],No[1],Ro[2],No[2],Ro[3],No[3]);break t}g+=E}t.bezierCurveTo(b,w,S,M,T,C),o=T,r=C;break;case Oo.Q:b=h[m++],w=h[m++],S=h[m++],M=h[m++];if(f){if(u<g+(E=l[y++])){xo(o,b,S,x=(u-g)/E,Ro),xo(r,w,M,x,No),t.quadraticCurveTo(Ro[1],No[1],Ro[2],No[2]);break t}g+=E}t.quadraticCurveTo(b,w,S,M),o=S,r=M;break;case Oo.A:var I=h[m++],D=h[m++],A=h[m++],k=h[m++],L=h[m++],P=h[m++],O=h[m++],R=!h[m++],v=k<A?A:k,T=.001<Zo(A-k),N=L+P,C=!1;if(f&&(u<g+(E=l[y++])&&(N=L+P*(u-g)/E,C=!0),g+=E),T&&t.ellipse?t.ellipse(I,D,A,k,O,L,N,R):t.arc(I,D,v,L,N,R),C)break t;_&&(n=Go(L)*A+I,i=Wo(L)*k+D),o=Go(N)*A+I,r=Wo(N)*k+D;break;case Oo.R:n=o=h[m],i=r=h[m+1],a=h[m++],s=h[m++];var E,N=h[m++],k=h[m++];if(f){if(u<g+(E=l[y++])){D=u-g;t.moveTo(a,s),t.lineTo(a+Fo(D,N),s),0<(D-=N)&&t.lineTo(a+N,s+Fo(D,k)),0<(D-=k)&&t.lineTo(a+Ho(N-D,0),s+k),0<(D-=N)&&t.lineTo(a,s+Ho(k-D,0));break t}g+=E}t.rect(a,s,N,k);break;case Oo.Z:if(f){if(u<g+(E=l[y++])){x=(u-g)/E;t.lineTo(o*(1-x)+n*x,r*(1-x)+i*x);break t}g+=E}t.closePath(),o=n,r=i}}},Qo.CMD=Oo,Qo.initDefaultProps=((Kh=Qo.prototype)._saveData=!0,Kh._needsDash=!1,Kh._dashOffset=0,Kh._dashIdx=0,Kh._dashSum=0,Kh._ux=0,void(Kh._uy=0)),Qo);function Qo(t){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}function tr(t,e,n,i,o,r,a){if(0!==o){var s=o,o=0;if(!(e+s<a&&i+s<a||a<e-s&&a<i-s||t+s<r&&n+s<r||r<t-s&&r<n-s)){if(t===n)return Math.abs(r-t)<=s/2;n=(o=(e-i)/(t-n))*r-a+(t*i-n*e)/(t-n);return n*n/(o*o+1)<=s/2*s/2}}}var er=2*Math.PI;function nr(t){return(t%=er)<0&&(t+=er),t}var ir=2*Math.PI;function or(t,e,n,i,o,r){if(e<r&&i<r||r<e&&r<i)return 0;if(i===e)return 0;var a=(r-e)/(i-e),r=i<e?1:-1;1!=a&&0!=a||(r=i<e?.5:-.5);t=a*(n-t)+t;return t===o?1/0:o<t?r:0}var rr=Jo.CMD,ar=2*Math.PI,sr=1e-4;var lr=[-1,-1,-1],ur=[-1,-1];function hr(t,e,n,i,o,r,a,s,l,u){if(e<u&&i<u&&r<u&&s<u||u<e&&u<i&&u<r&&u<s)return 0;var h=po(e,i,r,s,u,lr);if(0===h)return 0;for(var c,p=0,d=-1,f=void 0,g=void 0,y=0;y<h;y++){var m=lr[y],v=0===m||1===m?.5:1;ho(t,n,o,a,m)<l||(d<0&&(d=fo(e,i,r,s,ur),ur[1]<ur[0]&&1<d&&(c=void 0,c=ur[0],ur[0]=ur[1],ur[1]=c),f=ho(e,i,r,s,ur[0]),1<d&&(g=ho(e,i,r,s,ur[1]))),2===d?m<ur[0]?p+=f<e?v:-v:m<ur[1]?p+=g<f?v:-v:p+=s<g?v:-v:m<ur[0]?p+=f<e?v:-v:p+=s<f?v:-v)}return p}function cr(t,e,n,i,o,r,a,s){if(e<s&&i<s&&r<s||s<e&&s<i&&s<r)return 0;var l,u,h,c,p,d,f=(c=lr,d=(l=e)-2*(u=i)+(h=r),h=2*(u-l),u=l-(s=s),l=0,lo(d)?uo(h)&&0<=(p=-u/h)&&p<=1&&(c[l++]=p):lo(s=h*h-4*d*u)?0<=(p=-h/(2*d))&&p<=1&&(c[l++]=p):0<s&&(s=(-h-(u=to(s)))/(2*d),0<=(p=(-h+u)/(2*d))&&p<=1&&(c[l++]=p),0<=s&&s<=1&&(c[l++]=s)),l);if(0===f)return 0;var g=_o(e,i,r);if(0<=g&&g<=1){for(var y=0,m=mo(e,i,r,g),v=0;v<f;v++){var _=0===lr[v]||1===lr[v]?.5:1;mo(t,n,o,lr[v])<a||(lr[v]<g?y+=m<e?_:-_:y+=r<m?_:-_)}return y}_=0===lr[0]||1===lr[0]?.5:1;return mo(t,n,o,lr[0])<a?0:r<e?_:-_}function pr(t,e,n,i,o){for(var r,a,s=0,l=0,u=0,h=0,c=0,p=0;p<t.length;){var d=t[p++],f=1===p;switch(d===rr.M&&1<p&&(n||(s+=or(l,u,h,c,i,o))),f&&(h=l=t[p],c=u=t[p+1]),d){case rr.M:l=h=t[p++],u=c=t[p++];break;case rr.L:if(n){if(tr(l,u,t[p],t[p+1],e,i,o))return!0}else s+=or(l,u,t[p],t[p+1],i,o)||0;l=t[p++],u=t[p++];break;case rr.C:if(n){if(function(t,e,n,i,o,r,a,s,l,u,h){if(0!==l){l=l;return e+l<h&&i+l<h&&r+l<h&&s+l<h||h<e-l&&h<i-l&&h<r-l&&h<s-l||t+l<u&&n+l<u&&o+l<u&&a+l<u||u<t-l&&u<n-l&&u<o-l&&u<a-l?void 0:yo(t,e,n,i,o,r,a,s,u,h,null)<=l/2}}(l,u,t[p++],t[p++],t[p++],t[p++],t[p],t[p+1],e,i,o))return!0}else s+=hr(l,u,t[p++],t[p++],t[p++],t[p++],t[p],t[p+1],i,o)||0;l=t[p++],u=t[p++];break;case rr.Q:if(n){if(function(t,e,n,i,o,r,a,s,l){if(0!==a){a=a;return e+a<l&&i+a<l&&r+a<l||l<e-a&&l<i-a&&l<r-a||t+a<s&&n+a<s&&o+a<s||s<t-a&&s<n-a&&s<o-a?void 0:bo(t,e,n,i,o,r,s,l,null)<=a/2}}(l,u,t[p++],t[p++],t[p],t[p+1],e,i,o))return!0}else s+=cr(l,u,t[p++],t[p++],t[p],t[p+1],i,o)||0;l=t[p++],u=t[p++];break;case rr.A:var g=t[p++],y=t[p++],m=t[p++],v=t[p++],_=t[p++],x=t[p++];p+=1;var d=!!(1-t[p++]),b=Math.cos(_)*m+g,w=Math.sin(_)*v+y;f?(h=b,c=w):s+=or(l,u,b,w,i,o);f=(i-g)*v/m+g;if(n){if(function(t,e,n,i,o,r,a,s,l){if(0!==a){a=a;s-=t,l-=e;e=Math.sqrt(s*s+l*l);if(!(n<e-a||e+a<n)){if(Math.abs(i-o)%ir<1e-4)return 1;(o=r?(r=i,i=nr(o),nr(r)):(i=nr(i),nr(o)))<i&&(o+=ir);s=Math.atan2(l,s);return s<0&&(s+=ir),i<=s&&s<=o||i<=s+ir&&s+ir<=o}}}(g,y,v,_,_+x,d,e,f,o))return!0}else s+=function(t,e,n,i,o,r,a,s){if(n<(s-=e)||s<-n)return 0;if(n=Math.sqrt(n*n-s*s),lr[0]=-n,lr[1]=n,(n=Math.abs(i-o))<1e-4)return 0;if(ar-1e-4<=n){o=ar;var l=r?1:-1;return a>=lr[i=0]+t&&a<=lr[1]+t?l:0}o<i&&(n=i,i=o,o=n),i<0&&(i+=ar,o+=ar);for(var u=0,h=0;h<2;h++){var c=lr[h];a<c+t&&(l=r?1:-1,(c=Math.atan2(s,c))<0&&(c=ar+c),(i<=c&&c<=o||i<=c+ar&&c+ar<=o)&&(c>Math.PI/2&&c<1.5*Math.PI&&(l=-l),u+=l))}return u}(g,y,v,_,_+x,d,f,o);l=Math.cos(_+x)*m+g,u=Math.sin(_+x)*v+y;break;case rr.R:h=l=t[p++],c=u=t[p++];if(b=h+t[p++],w=c+t[p++],n){if(tr(h,c,b,c,e,i,o)||tr(b,c,b,w,e,i,o)||tr(b,w,h,w,e,i,o)||tr(h,w,h,c,e,i,o))return!0}else s+=or(b,c,b,w,i,o),s+=or(h,w,h,c,i,o);break;case rr.Z:if(n){if(tr(l,u,h,c,e,i,o))return!0}else s+=or(l,u,h,c,i,o);l=h,u=c}}return n||(r=u,a=c,Math.abs(r-a)<sr)||(s+=or(l,u,h,c,i,o)||0),0!==s}var dr,fr=A({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Yi),gr={style:A({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},qi.style)},yr=(l(mr,dr=$i),mr.prototype._init=function(t){var e=E(t);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var i=0;i<e.length;i++){var o=e[i],r=t[o];"style"===o?this.style?D(this.style,r):this.useStyle(r):"shape"===o?D(this.shape,r):dr.prototype.attrKV.call(this,o,r)}this.style||this.useStyle({})},mr.prototype.getDefaultStyle=function(){return null},mr.prototype.getDefaultShape=function(){return{}},mr.prototype.canBeInsideText=function(){return this.hasFill()},mr.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(H(t)){var e=on(t,0);return.5<e?Ri:.2<e?"#eee":Ni}if(t)return Ni}return Ri},mr.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(H(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())==on(t,0)<.4)return e}},mr.prototype.buildPath=function(t,e,n){},mr.prototype.pathUpdated=function(){this.__dirty&=~mr.SHAPE_CHANGED_BIT},mr.prototype.createPathProxy=function(){this.path=new Jo(!1)},mr.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(0<t.lineWidth))},mr.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},mr.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n&&(o=!1,this.path||(o=!0,this.createPathProxy()),i=this.path,(o||this.__dirty&mr.SHAPE_CHANGED_BIT)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),t=i.getBoundingRect()),this._rect=t,this.hasStroke()){var i,o=this._rectWithStroke||(this._rectWithStroke=t.clone());return(this.__dirty||n)&&(o.copy(t),i=e.strokeNoScale?this.getLineScale():1,n=e.lineWidth,this.hasFill()||(e=this.strokeContainThreshold,n=Math.max(n,null==e?4:e)),1e-10<i&&(o.width+=n/i,o.height+=n/i,o.x-=n/i/2,o.y-=n/i/2)),o}return t},mr.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),o=this.style;if(t=n[0],e=n[1],i.contain(t,e)){n=this.path.data;if(this.hasStroke()){i=o.lineWidth,o=o.strokeNoScale?this.getLineScale():1;if(1e-10<o&&(this.hasFill()||(i=Math.max(i,this.strokeContainThreshold)),pr(n,i/o,!0,t,e)))return!0}if(this.hasFill())return pr(n,0,!1,t,e)}return!1},mr.prototype.dirtyShape=function(){this.__dirty|=mr.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this.markRedraw()},mr.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},mr.prototype.animateShape=function(t){return this.animate("shape",t)},mr.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},mr.prototype.attrKV=function(t,e){"shape"===t?this.setShape(e):dr.prototype.attrKV.call(this,t,e)},mr.prototype.setShape=function(t,e){var n=(n=this.shape)||(this.shape={});return"string"==typeof t?n[t]=e:D(n,t),this.dirtyShape(),this},mr.prototype.shapeChanged=function(){return!!(this.__dirty&mr.SHAPE_CHANGED_BIT)},mr.prototype.createStyle=function(t){return ct(fr,t)},mr.prototype._innerSaveToNormal=function(t){dr.prototype._innerSaveToNormal.call(this,t);var e=this._normalState;t.shape&&!e.shape&&(e.shape=D({},this.shape))},mr.prototype._applyStateObj=function(t,e,n,i,o,r){dr.prototype._applyStateObj.call(this,t,e,n,i,o,r);var a,s=!(e&&i);if(e&&e.shape?o?i?a=e.shape:(a=D({},n.shape),D(a,e.shape)):(a=D({},(i?this:n).shape),D(a,e.shape)):s&&(a=n.shape),a)if(o){this.shape=D({},this.shape);for(var l={},u=E(a),h=0;h<u.length;h++){var c=u[h];"object"==typeof a[c]?this.shape[c]=a[c]:l[c]=a[c]}this._transitionState(t,{shape:l},r)}else this.shape=a,this.dirtyShape()},mr.prototype._mergeStates=function(t){for(var e,n=dr.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var o=t[i];o.shape&&(e=e||{},this._mergeStyle(e,o.shape))}return e&&(n.shape=e),n},mr.prototype._getAnimationStyleProps=function(){return gr},mr.prototype.isZeroArea=function(){return!1},mr.extend=function(n){var i,t,e=(l(o,i=mr),o.prototype.getDefaultStyle=function(){return I(n.style)},o.prototype.getDefaultShape=function(){return I(n.shape)},o);function o(t){var e=i.call(this,t)||this;return n.init&&n.init.call(e,t),e}for(t in n)"function"==typeof n[t]&&(e.prototype[t]=n[t]);return e},mr.SHAPE_CHANGED_BIT=4,mr.initDefaultProps=((Jh=mr.prototype).type="path",Jh.strokeContainThreshold=5,Jh.segmentIgnoreThreshold=0,Jh.subPixelOptimize=!1,Jh.autoBatch=!1,void(Jh.__dirty=Hi.REDARAW_BIT|$i.STYLE_CHANGED_BIT|mr.SHAPE_CHANGED_BIT)),mr);function mr(t){return dr.call(this,t)||this}var vr=Jo.CMD,_r=[[],[],[]],xr=Math.sqrt,br=Math.atan2;var wr=Math.sqrt,Sr=Math.sin,Mr=Math.cos,Tr=Math.PI;function Cr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ir(t,e){return(t[0]*e[0]+t[1]*e[1])/(Cr(t)*Cr(e))}function Dr(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ir(t,e))}function Ar(t,e,n,i,o,r,a,s,l,u,h){var c=l*(Tr/180),p=Mr(c)*(t-n)/2+Sr(c)*(e-i)/2,d=-1*Sr(c)*(t-n)/2+Mr(c)*(e-i)/2,l=p*p/(a*a)+d*d/(s*s);1<l&&(a*=wr(l),s*=wr(l));l=(o===r?-1:1)*wr((a*a*(s*s)-a*a*(d*d)-s*s*(p*p))/(a*a*(d*d)+s*s*(p*p)))||0,o=l*a*d/s,l=l*-s*p/a,t=(t+n)/2+Mr(c)*o-Sr(c)*l,n=(e+i)/2+Sr(c)*o+Mr(c)*l,e=Dr([1,0],[(p-o)/a,(d-l)/s]),i=[(p-o)/a,(d-l)/s],d=[(-1*p-o)/a,(-1*d-l)/s],l=Dr(i,d);Ir(i,d)<=-1&&(l=Tr),1<=Ir(i,d)&&(l=0),l<0&&(d=Math.round(l/Tr*1e6)/1e6,l=2*Tr+d%2*Tr),h.addData(u,t,n,a,s,e,l,c,r)}var kr=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Lr=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var Pr,Or=(l(Rr,Pr=yr),Rr.prototype.applyTransform=function(t){},Rr);function Rr(){return null!==Pr&&Pr.apply(this,arguments)||this}function Nr(t){return null!=t.setData}function Er(t,e){var n=function(t){if(!t)return new Jo;for(var e,n=0,i=0,o=n,r=i,a=new Jo,s=Jo.CMD,l=t.match(kr),u=0;u<l.length;u++){for(var h=l[u],c=h.charAt(0),p=void 0,d=h.match(Lr)||[],f=d.length,g=0;g<f;g++)d[g]=parseFloat(d[g]);for(var y=0;y<f;){var m=void 0,v=void 0,_=void 0,x=void 0,b=void 0,w=void 0,S=void 0,M=n,T=i,C=void 0,I=void 0;switch(c){case"l":n+=d[y++],i+=d[y++],p=s.L,a.addData(p,n,i);break;case"L":n=d[y++],i=d[y++],p=s.L,a.addData(p,n,i);break;case"m":n+=d[y++],i+=d[y++],p=s.M,a.addData(p,n,i),o=n,r=i,c="l";break;case"M":n=d[y++],i=d[y++],p=s.M,a.addData(p,n,i),o=n,r=i,c="L";break;case"h":n+=d[y++],p=s.L,a.addData(p,n,i);break;case"H":n=d[y++],p=s.L,a.addData(p,n,i);break;case"v":i+=d[y++],p=s.L,a.addData(p,n,i);break;case"V":i=d[y++],p=s.L,a.addData(p,n,i);break;case"C":p=s.C,a.addData(p,d[y++],d[y++],d[y++],d[y++],d[y++],d[y++]),n=d[y-2],i=d[y-1];break;case"c":p=s.C,a.addData(p,d[y++]+n,d[y++]+i,d[y++]+n,d[y++]+i,d[y++]+n,d[y++]+i),n+=d[y-2],i+=d[y-1];break;case"S":m=n,v=i,C=a.len(),I=a.data,e===s.C&&(m+=n-I[C-4],v+=i-I[C-3]),p=s.C,M=d[y++],T=d[y++],n=d[y++],i=d[y++],a.addData(p,m,v,M,T,n,i);break;case"s":m=n,v=i,C=a.len(),I=a.data,e===s.C&&(m+=n-I[C-4],v+=i-I[C-3]),p=s.C,M=n+d[y++],T=i+d[y++],n+=d[y++],i+=d[y++],a.addData(p,m,v,M,T,n,i);break;case"Q":M=d[y++],T=d[y++],n=d[y++],i=d[y++],p=s.Q,a.addData(p,M,T,n,i);break;case"q":M=d[y++]+n,T=d[y++]+i,n+=d[y++],i+=d[y++],p=s.Q,a.addData(p,M,T,n,i);break;case"T":m=n,v=i,C=a.len(),I=a.data,e===s.Q&&(m+=n-I[C-4],v+=i-I[C-3]),n=d[y++],i=d[y++],p=s.Q,a.addData(p,m,v,n,i);break;case"t":m=n,v=i,C=a.len(),I=a.data,e===s.Q&&(m+=n-I[C-4],v+=i-I[C-3]),n+=d[y++],i+=d[y++],p=s.Q,a.addData(p,m,v,n,i);break;case"A":_=d[y++],x=d[y++],b=d[y++],w=d[y++],S=d[y++],Ar(M=n,T=i,n=d[y++],i=d[y++],w,S,_,x,b,p=s.A,a);break;case"a":_=d[y++],x=d[y++],b=d[y++],w=d[y++],S=d[y++],Ar(M=n,T=i,n+=d[y++],i+=d[y++],w,S,_,x,b,p=s.A,a)}}"z"!==c&&"Z"!==c||(p=s.Z,a.addData(p),n=o,i=r),e=p}return a.toStatic(),a}(t),e=D({},e);return e.buildPath=function(t){var e;Nr(t)?(t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)):(e=t,n.rebuildPath(e,1))},e.applyTransform=function(t){!function(t,e){for(var n,i,o,r=t.data,a=vr.M,s=vr.C,l=vr.L,u=vr.R,h=vr.A,c=vr.Q,p=0,d=0;p<r.length;){switch(v=r[p++],d=p,n=0,v){case a:case l:n=1;break;case s:n=3;break;case c:n=2;break;case h:var f=e[4],g=e[5],y=xr(e[0]*e[0]+e[1]*e[1]),m=xr(e[2]*e[2]+e[3]*e[3]),v=br(-e[1]/m,e[0]/y);r[p]*=y,r[p++]+=f,r[p]*=m,r[p++]+=g,r[p++]*=y,r[p++]*=m,r[p++]+=v,r[p++]+=v,d=p+=2;break;case u:o[0]=r[p++],o[1]=r[p++],Dt(o,o,e),r[d++]=o[0],r[d++]=o[1],o[0]+=r[p++],o[1]+=r[p++],Dt(o,o,e),r[d++]=o[0],r[d++]=o[1]}for(i=0;i<n;i++){var _=_r[i];_[0]=r[p++],_[1]=r[p++],Dt(_,_,e),r[d++]=_[0],r[d++]=_[1]}}t.increaseVersion()}(n,t),this.dirtyShape()},e}var zr,Br=(l(Vr,zr=Hi),Vr.prototype.childrenRef=function(){return this._children},Vr.prototype.children=function(){return this._children.slice()},Vr.prototype.childAt=function(t){return this._children[t]},Vr.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},Vr.prototype.childCount=function(){return this._children.length},Vr.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},Vr.prototype.addBefore=function(t,e){var n;return t&&t!==this&&t.parent!==this&&e&&e.parent===this&&(0<=(e=(n=this._children).indexOf(e))&&(n.splice(e,0,t),this._doAdd(t))),this},Vr.prototype.replaceAt=function(t,e){var n=this._children,i=n[e];return t&&t!==this&&t.parent!==this&&t!==i&&(n[e]=t,i.parent=null,(e=this.__zr)&&i.removeSelfFromZr(e),this._doAdd(t)),this},Vr.prototype._doAdd=function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},Vr.prototype.remove=function(t){var e=this.__zr,n=this._children,i=k(n,t);return i<0||(n.splice(i,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},Vr.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var i=t[n];e&&i.removeSelfFromZr(e),i.parent=null}return t.length=0,this},Vr.prototype.eachChild=function(t,e){for(var n=this._children,i=0;i<n.length;i++){var o=n[i];t.call(e,o,i)}return this},Vr.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n],o=t.call(e,i);i.isGroup&&!o&&i.traverse(t,e)}return this},Vr.prototype.addSelfToZr=function(t){zr.prototype.addSelfToZr.call(this,t);for(var e=0;e<this._children.length;e++){this._children[e].addSelfToZr(t)}},Vr.prototype.removeSelfFromZr=function(t){zr.prototype.removeSelfFromZr.call(this,t);for(var e=0;e<this._children.length;e++){this._children[e].removeSelfFromZr(t)}},Vr.prototype.getBoundingRect=function(t){for(var e=new mi(0,0,0,0),n=t||this._children,i=[],o=null,r=0;r<n.length;r++){var a,s=n[r];s.ignore||s.invisible||(a=s.getBoundingRect(),(s=s.getLocalTransform(i))?(mi.applyTransform(e,a,s),(o=o||e.clone()).union(e)):(o=o||a.clone()).union(a))}return o||e},Vr);function Vr(t){var e=zr.call(this)||this;return e.isGroup=!0,e._children=[],e.attr(t),e}Br.prototype.type="group";var Fr,Hr=A({x:0,y:0},Yi),Gr={style:A({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},qi.style)},Wr=(l(Ur,Fr=$i),Ur.prototype.createStyle=function(t){return ct(Hr,t)},Ur.prototype._getAnimationStyleProps=function(){return Gr},Ur.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new mi(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect},Ur);function Ur(){return null!==Fr&&Fr.apply(this,arguments)||this}Wr.prototype.type="image";var Zr,Xr=function(){this.cx=0,this.cy=0,this.r=0},Yr=(l(qr,Zr=yr),qr.prototype.getDefaultShape=function(){return new Xr},qr.prototype.buildPath=function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},qr);function qr(t){return Zr.call(this,t)||this}Yr.prototype.type="circle";var jr=Math.round;function Kr(t,e,n){if(e){var i=e.x1,o=e.x2,r=e.y1,e=e.y2;t.x1=i,t.x2=o,t.y1=r,t.y2=e;n=n&&n.lineWidth;return n?(jr(2*i)===jr(2*o)&&(t.x1=t.x2=Jr(i,n,!0)),jr(2*r)===jr(2*e)&&(t.y1=t.y2=Jr(r,n,!0)),t):t}}function $r(t,e,n){if(e){var i=e.x,o=e.y,r=e.width,e=e.height;t.x=i,t.y=o,t.width=r,t.height=e;n=n&&n.lineWidth;return n?(t.x=Jr(i,n,!0),t.y=Jr(o,n,!0),t.width=Math.max(Jr(i+r,n,!1)-t.x,0===r?0:1),t.height=Math.max(Jr(o+e,n,!1)-t.y,0===e?0:1),t):t}}function Jr(t,e,n){if(!e)return t;t=jr(2*t);return(t+jr(e))%2==0?t/2:(t+(n?1:-1))/2}var Qr,ta=function(){this.x=0,this.y=0,this.width=0,this.height=0},ea={},na=(l(ia,Qr=yr),ia.prototype.getDefaultShape=function(){return new ta},ia.prototype.buildPath=function(t,e){var n,i,o,r,a,s,l,u,h,c,p,d,f,g;this.subPixelOptimize?(n=(g=$r(ea,e,this.style)).x,i=g.y,o=g.width,r=g.height,g.r=e.r,e=g):(n=e.x,i=e.y,o=e.width,r=e.height),e.r?(a=t,d=(s=e).x,f=s.y,g=s.width,e=s.height,s=s.r,g<0&&(d+=g,g=-g),e<0&&(f+=e,e=-e),"number"==typeof s?l=u=h=c=s:s instanceof Array?1===s.length?l=u=h=c=s[0]:2===s.length?(l=h=s[0],u=c=s[1]):3===s.length?(l=s[0],u=c=s[1],h=s[2]):(l=s[0],u=s[1],h=s[2],c=s[3]):l=u=h=c=0,g<l+u&&(l*=g/(p=l+u),u*=g/p),g<h+c&&(h*=g/(p=h+c),c*=g/p),e<u+h&&(u*=e/(p=u+h),h*=e/p),e<l+c&&(l*=e/(p=l+c),c*=e/p),a.moveTo(d+l,f),a.lineTo(d+g-u,f),0!==u&&a.arc(d+g-u,f+u,u,-Math.PI/2,0),a.lineTo(d+g,f+e-h),0!==h&&a.arc(d+g-h,f+e-h,h,0,Math.PI/2),a.lineTo(d+c,f+e),0!==c&&a.arc(d+c,f+e-c,c,Math.PI/2,Math.PI),a.lineTo(d,f+l),0!==l&&a.arc(d+l,f+l,l,Math.PI,1.5*Math.PI)):t.rect(n,i,o,r)},ia.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},ia);function ia(t){return Qr.call(this,t)||this}na.prototype.type="rect";var oa,ra=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},aa=(l(sa,oa=yr),sa.prototype.getDefaultShape=function(){return new ra},sa.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,o=e.rx,r=e.ry,a=.5522848*o,e=.5522848*r;t.moveTo(n-o,i),t.bezierCurveTo(n-o,i-e,n-a,i-r,n,i-r),t.bezierCurveTo(n+a,i-r,n+o,i-e,n+o,i),t.bezierCurveTo(n+o,i+e,n+a,i+r,n,i+r),t.bezierCurveTo(n-a,i+r,n-o,i+e,n-o,i),t.closePath()},sa);function sa(t){return oa.call(this,t)||this}aa.prototype.type="ellipse";var la,ua={},ha=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},ca=(l(pa,la=yr),pa.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},pa.prototype.getDefaultShape=function(){return new ha},pa.prototype.buildPath=function(t,e){var n,i,o,r;r=this.subPixelOptimize?(n=(r=Kr(ua,e,this.style)).x1,i=r.y1,o=r.x2,r.y2):(n=e.x1,i=e.y1,o=e.x2,e.y2);e=e.percent;0!==e&&(t.moveTo(n,i),e<1&&(o=n*(1-e)+o*e,r=i*(1-e)+r*e),t.lineTo(o,r))},pa.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},pa);function pa(t){return la.call(this,t)||this}function da(t,e,n,i,o,r,a){t=.5*(n-t),i=.5*(i-e);return(2*(e-n)+t+i)*a+(-3*(e-n)-2*t-i)*r+t*o+e}function fa(t,e,n){var i=e.smooth,o=e.points;if(o&&2<=o.length){if(i&&"spline"!==i){var r=function(t,e,n,i){var o,r,a,s,l=[],u=[],h=[],c=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var p=0,d=t.length;p<d;p++)At(a,a,t[p]),kt(s,s,t[p]);At(a,a,i[0]),kt(s,s,i[1])}for(p=0,d=t.length;p<d;p++){var f=t[p];if(n)o=t[p?p-1:d-1],r=t[(p+1)%d];else{if(0===p||p===d-1){l.push(yt(t[p]));continue}o=t[p-1],r=t[p+1]}vt(u,r,o),bt(u,u,e);var g=St(f,o),y=St(f,r),m=g+y;0!==m&&(g/=m,y/=m),bt(h,u,-g),bt(c,u,y);y=mt([],f,h),f=mt([],f,c);i&&(kt(y,y,a),At(y,y,s),kt(f,f,a),At(f,f,s)),l.push(y),l.push(f)}return n&&l.push(l.shift()),l}(o,i,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var a=o.length,s=0;s<(n?a:a-1);s++){var l=r[2*s],u=r[2*s+1],h=o[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===i&&(o=function(t,e){for(var n=t.length,i=[],o=0,r=1;r<n;r++)o+=St(t[r-1],t[r]);for(var a=(a=o/2)<n?n:a,r=0;r<a;r++){var s=r/(a-1)*(e?n:n-1),l=Math.floor(s),u=s-l,h=void 0,c=t[l%n],p=void 0,d=void 0,d=e?(h=t[(l-1+n)%n],p=t[(l+1)%n],t[(l+2)%n]):(h=t[0===l?l:l-1],p=t[n-2<l?n-1:l+1],t[n-3<l?n-1:l+2]),s=u*u,l=u*s;i.push([da(h[0],c[0],p[0],d[0],u,s,l),da(h[1],c[1],p[1],d[1],u,s,l)])}return i}(o,n)),t.moveTo(o[0][0],o[0][1]);for(var s=1,c=o.length;s<c;s++)t.lineTo(o[s][0],o[s][1])}n&&t.closePath()}}ca.prototype.type="line";var ga,ya=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},ma=(l(va,ga=yr),va.prototype.getDefaultShape=function(){return new ya},va.prototype.buildPath=function(t,e){fa(t,e,!0)},va);function va(t){return ga.call(this,t)||this}ma.prototype.type="polygon";var _a,xa=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},ba=(l(wa,_a=yr),wa.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},wa.prototype.getDefaultShape=function(){return new xa},wa.prototype.buildPath=function(t,e){fa(t,e,!1)},wa);function wa(t){return _a.call(this,t)||this}ba.prototype.type="polyline";var Sa=(Ma.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},Ma);function Ma(t){this.colorStops=t||[]}var Ta,Ca=(l(Ia,Ta=Sa),Ia);function Ia(t,e,n,i,o,r){o=Ta.call(this,o)||this;return o.x=null==t?0:t,o.y=null==e?0:e,o.x2=null==n?1:n,o.y2=null==i?0:i,o.type="linear",o.global=r||!1,o}var Da,Aa=A({strokeFirst:!0,font:wi,x:0,y:0,textAlign:"left",textBaseline:"top"},fr),ka=(l(La,Da=$i),La.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&0<t.lineWidth},La.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},La.prototype.createStyle=function(t){return ct(Aa,t)},La.prototype.setBoundingRect=function(t){this._rect=t},La.prototype.getBoundingRect=function(){var t,e=this.style;return this._rect||(null!=(t=e.text)?t+="":t="",(t=Ci(t,e.font,e.textAlign,e.textBaseline)).x+=e.x||0,t.y+=e.y||0,this.hasStroke()&&(e=e.lineWidth,t.x-=e/2,t.y-=e/2,t.width+=e,t.height+=e),this._rect=t),this._rect},La);function La(){return null!==Da&&Da.apply(this,arguments)||this}ka.prototype.type="tspan";var Pa,Oa=(l(Ra,Pa=yr),Ra.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},Ra.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},Ra.prototype.buildPath=function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},Ra.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},Ra.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),yr.prototype.getBoundingRect.call(this)},Ra);function Ra(){var t=null!==Pa&&Pa.apply(this,arguments)||this;return t.type="compound",t}var Na,Ea=[],za=(l(Ba,Na=$i),Ba.prototype.traverse=function(t,e){t.call(e,this)},Ba.prototype.useStyle=function(){this.style={}},Ba.prototype.getCursor=function(){return this._cursor},Ba.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},Ba.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},Ba.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},Ba.prototype.addDisplayable=function(t,e){(e?this._temporaryDisplayables:this._displayables).push(t),this.markRedraw()},Ba.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},Ba.prototype.getDisplayables=function(){return this._displayables},Ba.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},Ba.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Ba.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(var e,t=0;t<this._temporaryDisplayables.length;t++){(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},Ba.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new mi(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(Ea)),t.union(i)}this._rect=t}return this._rect},Ba.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},Ba);function Ba(){var t=null!==Na&&Na.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}var Va=new Ne(50);function Fa(t,e,n,i,o){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!n)return e;var r=Va.get(t),o={hostEl:n,cb:i,cbPayload:o};return r?Ga(e=r.image)||r.pending.push(o):((e=new Image).onload=e.onerror=Ha,Va.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return e}function Ha(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Ga(t){return t&&t.width&&t.height}var Wa=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ua(t,e,n,i,o){if(!e)return"";var r=(t+"").split("\n");o=Za(e,n,i,o);for(var a=0,s=r.length;a<s;a++)r[a]=Xa(r[a],o);return r.join("\n")}function Za(t,e,n,i){var o=D({},i=i||{});o.font=e,n=Q(n,"..."),o.maxIterations=Q(i.maxIterations,2);var r=o.minChar=Q(i.minChar,0);o.cnCharWidth=Mi("国",e);var a=o.ascCharWidth=Mi("a",e);o.placeholder=Q(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<r&&a<=s;l++)s-=a;e=Mi(n,e);return s<e&&(n="",e=0),s=t-e,o.ellipsis=n,o.ellipsisWidth=e,o.contentWidth=s,o.containerWidth=t,o}function Xa(t,e){var n=e.containerWidth,i=e.font,o=e.contentWidth;if(!n)return"";if((s=Mi(t,i))<=n)return t;for(var r=0;;r++){if(s<=o||r>=e.maxIterations){t+=e.ellipsis;break}var a=0===r?function(t,e,n,i){for(var o=0,r=0,a=t.length;r<a&&o<e;r++){var s=t.charCodeAt(r);o+=0<=s&&s<=127?n:i}return r}(t,o,e.ascCharWidth,e.cnCharWidth):0<s?Math.floor(t.length*o/s):0,s=Mi(t=t.substr(0,a),i)}return""===t&&(t=e.placeholder),t}var Ya=function(){},qa=function(t){this.tokens=[],t&&(this.tokens=t)},ja=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Ka(t,e){var n=new ja;if(null!=t&&(t+=""),!t)return n;for(var i,o=e.width,r=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==o?null:{width:o,accumWidth:0,breakAll:"breakAll"===a},l=Wa.lastIndex=0;null!=(i=Wa.exec(t));){var u=i.index;l<u&&$a(n,t.substring(l,u),e,s),$a(n,i[2],e,s,i[1]),l=Wa.lastIndex}l<t.length&&$a(n,t.substring(l,t.length),e,s);var h=[],c=0,p=0,d=e.padding,f="truncate"===a,g="truncate"===e.lineOverflow;t:for(var y=0;y<n.lines.length;y++){for(var m=n.lines[y],v=0,_=0,x=0;x<m.tokens.length;x++){var b=(D=m.tokens[x]).styleName&&e.rich[D.styleName]||{},w=D.textPadding=b.padding,S=w?w[1]+w[3]:0,M=D.font=b.font||e.font;D.contentHeight=Ai(M);var T=Q(b.height,D.contentHeight);if(D.innerHeight=T,w&&(T+=w[0]+w[2]),D.height=T,D.lineHeight=tt(b.lineHeight,e.lineHeight,T),D.align=b&&b.align||e.align,D.verticalAlign=b&&b.verticalAlign||"middle",g&&null!=r&&c+D.lineHeight>r){0<x?(m.tokens=m.tokens.slice(0,x),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y);break t}var C,I=b.width,w=null==I||"auto"===I;"string"==typeof I&&"%"===I.charAt(I.length-1)?(D.percentWidth=I,h.push(D),D.contentWidth=Mi(D.text,M)):(!w||(C=(I=b.backgroundColor)&&I.image)&&Ga(C="string"!=typeof(I=C)?I:(I=Va.get(I))&&I.image)&&(D.width=Math.max(D.width,C.width*T/C.height)),null!=(C=f&&null!=o?o-_:null)&&C<D.width?!w||C<S?(D.text="",D.width=D.contentWidth=0):(D.text=Ua(D.text,C-S,M,e.ellipsis,{minChar:e.truncateMinChar}),D.width=D.contentWidth=Mi(D.text,M)):D.contentWidth=Mi(D.text,M)),D.width+=S,_+=D.width,b&&(v=Math.max(v,D.lineHeight))}m.width=_,c+=m.lineHeight=v,p=Math.max(p,_)}n.outerWidth=n.width=Q(o,p),n.outerHeight=n.height=Q(r,c),n.contentHeight=c,n.contentWidth=p,d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]);for(y=0;y<h.length;y++){var D,A=(D=h[y]).percentWidth;D.width=parseInt(A,10)/100*n.width}return n}function $a(t,e,n,i,o){var r,a,s,l=""===e,u=o&&n.rich[o]||{},h=t.lines,c=u.font||n.font,p=!1;i?(n=(n=u.padding)?n[1]+n[3]:0,null!=u.width&&"auto"!==u.width?(s=function(t,e){if("string"!=typeof t)return t;if(0<=t.lastIndexOf("%"))return parseFloat(t)/100*e;return parseFloat(t)}(u.width,i.width)+n,0<h.length&&s+i.accumWidth>i.width&&(r=e.split("\n"),p=!0),i.accumWidth=s):(s=Qa(e,c,i.width,i.breakAll,i.accumWidth),i.accumWidth=s.accumWidth+n,a=s.linesWidths,r=s.lines)):r=e.split("\n");for(var d=0;d<r.length;d++){var f,g,y=r[d],m=new Ya;m.styleName=o,m.text=y,m.isLineHolder=!y&&!l,m.width="number"==typeof u.width?u.width:a?a[d]:Mi(y,c),d||p?h.push(new qa([m])):1===(g=(f=(h[h.length-1]||(h[0]=new qa)).tokens).length)&&f[0].isLineHolder?f[0]=m:!y&&g&&!l||f.push(m)}}var Ja=O(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Qa(t,e,n,i,o){for(var r,a=[],s=[],l="",u="",h=0,c=0,p=0;p<t.length;p++){var d,f,g=t.charAt(p);"\n"!==g?(d=Mi(g,e),f=!i&&(r=void 0,!(!(33<=(r=(r=f=g).charCodeAt(0))&&r<=255)||!!Ja[f])),(a.length?n<c+d:n<o+c+d)?c?(l||u)&&(c=f?(l||(l=u,u="",c=h=0),a.push(l),s.push(c-h),u+=g,l="",h+=d):(u&&(l+=u,c+=h,u="",h=0),a.push(l),s.push(c),l=g,d)):f?(a.push(u),s.push(h),u=g,h=d):(a.push(g),s.push(d)):(c+=d,f?(u+=g,h+=d):(u&&(l+=u,u="",h=0),l+=g))):(u&&(l+=u,c+=h),a.push(l),s.push(c),u=l="",c=h=0)}return a.length||l||(l=t,u="",h=0),u&&(l+=u),l&&(a.push(l),s.push(c)),1===a.length&&(c+=o),{accumWidth:c,lines:a,linesWidths:s}}var ts,es={fill:"#000"},ns={style:A({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},qi.style)},is=(l(os,ts=$i),os.prototype.childrenRef=function(){return this._children},os.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var e=this._children[t];e.zlevel=this.zlevel,e.z=this.z,e.z2=this.z2,e.culling=this.culling,e.cursor=this.cursor,e.invisible=this.invisible}var n=this.attachedTransform;n?(n.updateTransform(),(n=n.transform)?(this.transform=this.transform||[],Xn(this.transform,n)):this.transform=null):ts.prototype.update.call(this)},os.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():ts.prototype.getComputedTransform.call(this)},os.prototype._updateSubTexts=function(){var t;this._childCursor=0,ss(t=this.style),N(t.rich,ss),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},os.prototype.addSelfToZr=function(t){ts.prototype.addSelfToZr.call(this,t);for(var e=0;e<this._children.length;e++)this._children[e].__zr=t},os.prototype.removeSelfFromZr=function(t){ts.prototype.removeSelfFromZr.call(this,t);for(var e=0;e<this._children.length;e++)this._children[e].__zr=null},os.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new mi(0,0,0,0),e=this._children,n=[],i=null,o=0;o<e.length;o++){var r=e[o],a=r.getBoundingRect(),r=r.getLocalTransform(n);r?(t.copy(a),t.applyTransform(r),(i=i||t.clone()).union(t)):(i=i||a.clone()).union(a)}this._rect=i||t}return this._rect},os.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||es},os.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},os.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,i=t.rich||n&&{};return D(t,e),n&&i?(this._mergeRich(i,n),t.rich=i):i&&(t.rich=i),t},os.prototype._mergeRich=function(t,e){for(var n=E(e),i=0;i<n.length;i++){var o=n[i];t[o]=t[o]||{},D(t[o],e[o])}},os.prototype._getAnimationStyleProps=function(){return ns},os.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),(this._children[this._childCursor++]=e).__zr=this.__zr,e.parent=this,e},os.prototype._updatePlainTexts=function(){var t,e,n=this.style,i=n.font||wi,o=n.padding,r=function(t,e){null!=t&&(t+="");var n,i=e.overflow,o=e.padding,r=e.font,a="truncate"===i,s=Ai(r),l=Q(e.lineHeight,s),u="truncate"===e.lineOverflow,h=e.width,c=(n=null!=h&&"break"===i||"breakAll"===i?t?Qa(t,e.font,h,"breakAll"===i,0).lines:[]:t?t.split("\n"):[]).length*l;(i=Q(e.height,c))<c&&u&&(p=Math.floor(i/l),n=n.slice(0,p));var u=i,p=h;if(o&&(u+=o[0]+o[2],null!=p&&(p+=o[1]+o[3])),t&&a&&null!=p)for(var d=Za(h,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),f=0;f<n.length;f++)n[f]=Xa(n[f],d);if(null==h){for(var g=0,f=0;f<n.length;f++)g=Math.max(Mi(n[f],r),g);h=g}return{lines:n,height:i,outerHeight:u,lineHeight:l,calculatedLineHeight:s,contentHeight:c,width:h}}(hs(n),n),a=cs(n),s=!!n.backgroundColor,l=r.outerHeight,u=r.lines,h=r.lineHeight,c=this._defaultStyle,p=n.x||0,d=n.y||0,f=n.align||c.align||"left",g=n.verticalAlign||c.verticalAlign||"top",y=p,m=Di(d,r.contentHeight,g);(a||o)&&(t=r.width,o&&(t+=o[1]+o[3]),e=Ii(p,t,f),d=Di(d,l,g),a&&this._renderBackground(n,n,e,d,t,l)),m+=h/2,o&&(y=us(p,f,o),"top"===g?m+=o[0]:"bottom"===g&&(m-=o[2]));for(var v=0,g=!1,_=(null==(o="fill"in n?n.fill:(g=!0,c.fill))||"none"===o?null:o.image||o.colorStops?"#000":o),x=(ls("stroke"in n?n.stroke:s||c.autoStroke&&!g?null:(v=2,c.stroke))),b=0<n.textShadowBlur,w=null!=n.width&&("truncate"===n.overflow||"break"===n.overflow||"breakAll"===n.overflow),S=r.calculatedLineHeight,M=0;M<u.length;M++){var T=this._getOrCreateChild(ka),C=T.createStyle();T.useStyle(C),C.text=u[M],C.x=y,C.y=m,f&&(C.textAlign=f),C.textBaseline="middle",C.opacity=n.opacity,C.strokeFirst=!0,b&&(C.shadowBlur=n.textShadowBlur||0,C.shadowColor=n.textShadowColor||"transparent",C.shadowOffsetX=n.textShadowOffsetX||0,C.shadowOffsetY=n.textShadowOffsetY||0),x&&(C.stroke=x,C.lineWidth=n.lineWidth||v,C.lineDash=n.lineDash,C.lineDashOffset=n.lineDashOffset||0),_&&(C.fill=_),C.font=i,m+=h,w&&T.setBoundingRect(new mi(Ii(C.x,n.width,C.textAlign),Di(C.y,S,C.textBaseline),n.width,S))}},os.prototype._updateRichTexts=function(){var t=this.style,e=Ka(hs(t),t),n=e.width,i=e.outerWidth,o=e.outerHeight,r=t.padding,a=t.x||0,s=t.y||0,l=this._defaultStyle,u=t.align||l.align,l=t.verticalAlign||l.verticalAlign,u=Ii(a,i,u),l=Di(s,o,l),h=u,c=l;r&&(h+=r[3],c+=r[0]);var p=h+n;cs(t)&&this._renderBackground(t,t,u,l,i,o);for(var d=!!t.backgroundColor,f=0;f<e.lines.length;f++){for(var g=e.lines[f],y=g.tokens,m=y.length,v=g.lineHeight,_=g.width,x=0,b=h,w=p,S=m-1,M=void 0;x<m&&(!(M=y[x]).align||"left"===M.align);)this._placeToken(M,t,v,c,b,"left",d),_-=M.width,b+=M.width,x++;for(;0<=S&&"right"===(M=y[S]).align;)this._placeToken(M,t,v,c,w,"right",d),_-=M.width,w-=M.width,S--;for(b+=(n-(b-h)-(p-w)-_)/2;x<=S;)M=y[x],this._placeToken(M,t,v,c,b+M.width/2,"center",d),b+=M.width,x++;c+=v}},os.prototype._placeToken=function(t,e,n,i,o,r,a){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign,u=i+n/2;"top"===l?u=i+t.height/2:"bottom"===l&&(u=i+n-t.height/2),!t.isLineHolder&&cs(s)&&this._renderBackground(s,e,"right"===r?o-t.width:"center"===r?o-t.width/2:o,u-t.height/2,t.width,t.height);var h=!!s.backgroundColor,c=t.textPadding;c&&(o=us(o,r,c),u-=t.height/2-c[0]-t.innerHeight/2);var p=this._getOrCreateChild(ka),d=p.createStyle();p.useStyle(d);l=this._defaultStyle,i=!1,n=0,c=ls("fill"in s?s.fill:"fill"in e?e.fill:(i=!0,l.fill)),i=ls("stroke"in s?s.stroke:"stroke"in e?e.stroke:h||a||l.autoStroke&&!i?null:(n=2,l.stroke)),l=0<s.textShadowBlur||0<e.textShadowBlur;d.text=t.text,d.x=o,d.y=u,l&&(d.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,d.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",d.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,d.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),d.textAlign=r,d.textBaseline="middle",d.font=t.font||wi,d.opacity=tt(s.opacity,e.opacity,1),i&&(d.lineWidth=tt(s.lineWidth,e.lineWidth,n),d.lineDash=Q(s.lineDash,e.lineDash),d.lineDashOffset=e.lineDashOffset||0,d.stroke=i),c&&(d.fill=c);c=t.contentWidth,t=t.contentHeight;p.setBoundingRect(new mi(Ii(d.x,c,d.textAlign),Di(d.y,t,d.textBaseline),c,t))},os.prototype._renderBackground=function(t,e,n,i,o,r){var a,s,l,u=t.backgroundColor,h=t.borderWidth,c=t.borderColor,p=H(u),d=t.borderRadius,f=this;(p||h&&c)&&((a=this._getOrCreateChild(na)).useStyle(a.createStyle()),a.style.fill=null,(s=a.shape).x=n,s.y=i,s.width=o,s.height=r,s.r=d,a.dirtyShape()),p?((l=a.style).fill=u||null,l.fillOpacity=Q(t.fillOpacity,1)):u&&u.image&&((g=this._getOrCreateChild(Wr)).onload=function(){f.dirtyStyle()},(p=g.style).image=u.image,p.x=n,p.y=i,p.width=o,p.height=r),h&&c&&((l=a.style).lineWidth=h,l.stroke=c,l.strokeOpacity=Q(t.strokeOpacity,1),l.lineDash=t.borderDash,l.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var g=(a||g).style;g.shadowBlur=t.shadowBlur||0,g.shadowColor=t.shadowColor||"transparent",g.shadowOffsetX=t.shadowOffsetX||0,g.shadowOffsetY=t.shadowOffsetY||0,g.opacity=tt(t.opacity,e.opacity,1)},os.makeFont=function(t){var e,n="";return(t.fontSize||t.fontFamily||t.fontWeight)&&(e="",e="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,n=[t.fontStyle,t.fontWeight,e,t.fontFamily||"sans-serif"].join(" ")),n&&ot(n)||t.textFont||t.font},os);function os(t){var e=ts.call(this)||this;return e.type="text",e._children=[],e._defaultStyle=es,e.attr(t),e}var rs={left:!0,right:1,center:1},as={top:1,bottom:1,middle:1};function ss(t){var e;t&&(t.font=is.makeFont(t),"middle"===(e=t.align)&&(e="center"),t.align=null==e||rs[e]?e:"left","center"===(e=t.verticalAlign)&&(e="middle"),t.verticalAlign=null==e||as[e]?e:"top",t.padding&&(t.padding=nt(t.padding)))}function ls(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function us(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function hs(t){t=t.text;return null!=t&&(t+=""),t}function cs(t){return!!(t.backgroundColor||t.borderWidth&&t.borderColor)}var ps,ds=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},fs=(l(gs,ps=yr),gs.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},gs.prototype.getDefaultShape=function(){return new ds},gs.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,o=Math.max(e.r,0),r=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(r),e=Math.sin(r);t.moveTo(l*o+n,e*o+i),t.arc(n,i,o,r,a,!s)},gs);function gs(t){return ps.call(this,t)||this}fs.prototype.type="arc";var ys=[],ms=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function vs(t,e,n){var i=t.cpx2,o=t.cpy2;return null===i||null===o?[(n?co:ho)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?co:ho)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?vo:mo)(t.x1,t.cpx1,t.x2,e),(n?vo:mo)(t.y1,t.cpy1,t.y2,e)]}var _s,xs=(l(bs,_s=yr),bs.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},bs.prototype.getDefaultShape=function(){return new ms},bs.prototype.buildPath=function(t,e){var n=e.x1,i=e.y1,o=e.x2,r=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,e=e.percent;0!==e&&(t.moveTo(n,i),null==l||null==u?(e<1&&(xo(n,a,o,e,ys),a=ys[1],o=ys[2],xo(i,s,r,e,ys),s=ys[1],r=ys[2]),t.quadraticCurveTo(a,s,o,r)):(e<1&&(go(n,a,l,o,e,ys),a=ys[1],l=ys[2],o=ys[3],go(i,s,u,r,e,ys),s=ys[1],u=ys[2],r=ys[3]),t.bezierCurveTo(a,s,l,u,o,r)))},bs.prototype.pointAt=function(t){return vs(this.shape,t,!1)},bs.prototype.tangentAt=function(t){t=vs(this.shape,t,!0);return wt(t,t)},bs);function bs(t){return _s.call(this,t)||this}xs.prototype.type="bezier-curve";var ws,Ss=function(){this.cx=0,this.cy=0,this.width=0,this.height=0};function Ms(t){return ws.call(this,t)||this}(l(Ms,ws=yr),Ms.prototype.getDefaultShape=function(){return new Ss},Ms.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,o=e.width,e=e.height;t.moveTo(n,i+o),t.bezierCurveTo(n+o,i+o,n+3*o/2,i-o/3,n,i-e),t.bezierCurveTo(n-3*o/2,i-o/3,n-o,i+o,n,i+o),t.closePath()},Ms).prototype.type="droplet";var Ts,Cs=function(){this.cx=0,this.cy=0,this.width=0,this.height=0};function Is(t){return Ts.call(this,t)||this}(l(Is,Ts=yr),Is.prototype.getDefaultShape=function(){return new Cs},Is.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,o=e.width,e=e.height;t.moveTo(n,i),t.bezierCurveTo(n+o/2,i-2*e/3,n+2*o,i+e/3,n,i+e),t.bezierCurveTo(n-2*o,i+e/3,n-o/2,i-2*e/3,n,i)},Is).prototype.type="heart";var Ds,As=Math.PI,ks=Math.sin,Ls=Math.cos,Ps=function(){this.x=0,this.y=0,this.r=0,this.n=0};function Os(t){return Ds.call(this,t)||this}(l(Os,Ds=yr),Os.prototype.getDefaultShape=function(){return new Ps},Os.prototype.buildPath=function(t,e){var n=e.n;if(n&&!(n<2)){var i=e.x,o=e.y,r=e.r,a=2*As/n,s=-As/2;t.moveTo(i+r*Ls(s),o+r*ks(s));for(var l=0,u=n-1;l<u;l++)s+=a,t.lineTo(i+r*Ls(s),o+r*ks(s));t.closePath()}},Os).prototype.type="isogon";var Rs,Ns=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},n=(l(Es,Rs=yr),Es.prototype.getDefaultShape=function(){return new Ns},Es.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,o=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,o,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,o,!0)},Es);function Es(t){return Rs.call(this,t)||this}n.prototype.type="ring";var zs,Bs=Math.sin,Vs=Math.cos,Fs=Math.PI/180,Hs=function(){this.cx=0,this.cy=0,this.r=[],this.k=0,this.n=1};function Gs(t){return zs.call(this,t)||this}(l(Gs,zs=yr),Gs.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gs.prototype.getDefaultShape=function(){return new Hs},Gs.prototype.buildPath=function(t,e){var n,i,o,r=e.r,a=e.k,s=e.n,l=e.cx,u=e.cy;t.moveTo(l,u);for(var h=0,c=r.length;h<c;h++){o=r[h];for(var p=0;p<=360*s;p++)n=o*Bs(a/s*p%360*Fs)*Vs(p*Fs)+l,i=o*Bs(a/s*p%360*Fs)*Bs(p*Fs)+u,t.lineTo(n,i)}},Gs).prototype.type="rose";var Ws=Math.PI,Us=2*Ws,Zs=Math.sin,Xs=Math.cos,Ys=Math.acos,qs=Math.atan2,js=Math.abs,Ks=Math.sqrt,$s=Math.max,Js=Math.min,Qs=1e-4;function tl(t,e,n,i,o,r,a){var s=t-n,l=e-i,u=(a?r:-r)/Ks(s*s+l*l),h=u*l,c=-u*s,p=t+h,d=e+c,a=n+h,l=i+c,u=(p+a)/2,s=(d+l)/2,t=a-p,e=l-d,n=t*t+e*e,i=o-r,r=p*l-a*d,p=(e<0?-1:1)*Ks($s(0,i*i*n-r*r)),l=(r*e-t*p)/n,a=(-r*t-e*p)/n,d=(r*e+t*p)/n,e=(-r*t+e*p)/n,p=l-u,n=a-s,u=d-u,s=e-s;return u*u+s*s<p*p+n*n&&(l=d,a=e),{cx:l,cy:a,x01:-h,y01:-c,x11:l*(o/i-1),y11:a*(o/i-1)}}function el(t,e){var n,i,o,r,a,s,l,u,h,c,p,d,f,g,y,m,v,_,x,b,w,S,M,T=$s(e.r,0),C=$s(e.r0||0,0),I=0<T;(I||0<C)&&(I||(T=C,C=0),T<C&&(w=T,T=C,C=w),n=e.cx,i=e.cy,o=!!e.clockwise,r=e.startAngle,a=e.endAngle,g=e.cornerRadius||0,m=e.innerCornerRadius||0,$o(f=[r,a],!o),s=js(f[0]-f[1]),Qs<T?Us-Qs<s?(t.moveTo(n+T*Xs(r),i+T*Zs(r)),t.arc(n,i,T,r,a,!o),Qs<C&&(t.moveTo(n+C*Xs(a),i+C*Zs(a)),t.arc(n,i,C,a,r,o))):(y=js(T-C)/2,l=Js(y,g),v=u=Js(y,m),_=l,h=T*Xs(r),c=T*Zs(r),p=C*Xs(a),d=C*Zs(a),w=I=b=x=void 0,(Qs<l||Qs<u)&&(x=T*Xs(a),b=T*Zs(a),I=C*Xs(r),w=C*Zs(r),s<Ws&&((e=function(t,e,n,i,o,r,a,s){var l=n-t,n=i-e,i=a-o;if(!((s=(a=s-r)*l-i*n)*s<Qs))return[t+(s=(i*(e-r)-a*(t-o))/s)*l,e+s*n]}(h,c,I,w,x,b,p,d))&&(f=h-e[0],g=c-e[1],y=x-e[0],m=b-e[1],m=1/Zs(Ys((f*y+g*m)/(Ks(f*f+g*g)*Ks(y*y+m*m)))/2),e=Ks(e[0]*e[0]+e[1]*e[1]),v=Js(u,(C-e)/(m-1)),_=Js(l,(T-e)/(1+m))))),Qs<s?Qs<_?(S=tl(I,w,h,c,T,_,o),M=tl(x,b,p,d,T,_,o),t.moveTo(n+S.cx+S.x01,i+S.cy+S.y01),_<l?t.arc(n+S.cx,i+S.cy,_,qs(S.y01,S.x01),qs(M.y01,M.x01),!o):(t.arc(n+S.cx,i+S.cy,_,qs(S.y01,S.x01),qs(S.y11,S.x11),!o),t.arc(n,i,T,qs(S.cy+S.y11,S.cx+S.x11),qs(M.cy+M.y11,M.cx+M.x11),!o),t.arc(n+M.cx,i+M.cy,_,qs(M.y11,M.x11),qs(M.y01,M.x01),!o))):(t.moveTo(n+h,i+c),t.arc(n,i,T,r,a,!o)):t.moveTo(n+h,i+c),Qs<C?Qs<v?(S=tl(p,d,x,b,C,-v,o),M=tl(h,c,I,w,C,-v,o),t.lineTo(n+S.cx+S.x01,i+S.cy+S.y01),v<u?t.arc(n+S.cx,i+S.cy,v,qs(S.y01,S.x01),qs(M.y01,M.x01),!o):(t.arc(n+S.cx,i+S.cy,v,qs(S.y01,S.x01),qs(S.y11,S.x11),!o),t.arc(n,i,C,qs(S.cy+S.y11,S.cx+S.x11),qs(M.cy+M.y11,M.cx+M.x11),o),t.arc(n+M.cx,i+M.cy,v,qs(M.y11,M.x11),qs(M.y01,M.x01),!o))):(t.lineTo(n+p,i+d),t.arc(n,i,C,a,r,o)):t.lineTo(n+p,i+d)):t.moveTo(n,i),t.closePath())}var nl,il=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},ol=(l(rl,nl=yr),rl.prototype.getDefaultShape=function(){return new il},rl.prototype.buildPath=function(t,e){el(t,e)},rl.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},rl);function rl(t){return nl.call(this,t)||this}ol.prototype.type="sector";var al,sl=Math.PI,ll=Math.cos,ul=Math.sin,hl=function(){this.cx=0,this.cy=0,this.n=3,this.r=0};function cl(t){return al.call(this,t)||this}(l(cl,al=yr),cl.prototype.getDefaultShape=function(){return new hl},cl.prototype.buildPath=function(t,e){var n=e.n;if(n&&!(n<2)){var i=e.cx,o=e.cy,r=e.r,a=e.r0;null==a&&(a=4<n?r*ll(2*sl/n)/ll(sl/n):r/3);var s=sl/n,l=-sl/2,u=i+r*ll(l),e=o+r*ul(l);l+=s,t.moveTo(u,e);for(var h,c=0,p=2*n-1;c<p;c++)h=c%2==0?a:r,t.lineTo(i+h*ll(l),o+h*ul(l)),l+=s;t.closePath()}},cl).prototype.type="star";var pl,dl=Math.cos,fl=Math.sin,gl=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0,this.d=0,this.location="out"};function yl(t){return pl.call(this,t)||this}(l(yl,pl=yr),yl.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},yl.prototype.getDefaultShape=function(){return new gl},yl.prototype.buildPath=function(t,e){var n,i=e.r,o=e.r0,r=e.d,a=e.cx,s=e.cy,l="out"===e.location?1:-1;if(!(e.location&&i<=o)){var u,h=0,c=1,p=(i+l*o)*dl(0)-l*r*dl(0)+a,e=(i+l*o)*fl(0)-r*fl(0)+s;for(t.moveTo(p,e);o*++h%(i+l*o)!=0;);for(;u=Math.PI/180*c,n=(i+l*o)*dl(u)-l*r*dl((i/o+l)*u)+a,u=(i+l*o)*fl(u)-r*fl((i/o+l)*u)+s,t.lineTo(n,u),++c<=o*h/(i+l*o)*360;);}},yl).prototype.type="trochoid";var ml,r=(l(vl,ml=Sa),vl);function vl(t,e,n,i,o){i=ml.call(this,i)||this;return i.x=null==t?.5:t,i.y=null==e?.5:e,i.r=null==n?.5:n,i.type="radial",i.global=o||!1,i}var _l=[0,0],xl=[0,0],bl=new si,wl=new si,Sl=(Ml.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,o=t.x,r=t.y,a=o+t.width,t=r+t.height;if(n[0].set(o,r),n[1].set(a,r),n[2].set(a,t),n[3].set(o,t),e)for(var s=0;s<4;s++)n[s].transform(e);si.sub(i[0],n[1],n[0]),si.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(s=0;s<2;s++)this._origin[s]=i[s].dot(n[0])},Ml.prototype.intersect=function(t,e){var n=!0,i=!e;return bl.set(1/0,1/0),wl.set(0,0),!this._intersectCheckOneSide(this,t,bl,wl,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,bl,wl,i,-1)&&(n=!1,i)||i||si.copy(e,n?bl:wl),n},Ml.prototype._intersectCheckOneSide=function(t,e,n,i,o,r){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,_l),this._getProjMinMaxOnAxis(s,e._corners,xl),_l[1]<xl[0]||xl[1]<_l[0]){if(a=!1,o)return a;var u=Math.abs(xl[0]-_l[1]),h=Math.abs(_l[0]-xl[1]);Math.min(u,h)>i.len()&&(u<h?si.scale(i,l,-u*r):si.scale(i,l,h*r))}else{n&&(u=Math.abs(xl[0]-_l[1]),h=Math.abs(_l[0]-xl[1]),Math.min(u,h)<n.len()&&(u<h?si.scale(n,l,u*r):si.scale(n,l,-h*r)))}}return a},Ml.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],o=this._origin,r=e[0].dot(i)+o[t],a=r,s=r,l=1;l<e.length;l++)var u=e[l].dot(i)+o[t],a=Math.min(u,a),s=Math.max(u,s);n[0]=a,n[1]=s},Ml);function Ml(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new si;for(n=0;n<2;n++)this._axes[n]=new si;t&&this.fromBoundingRect(t,e)}var Tl=!v.canvasSupported,Cl={},Il={};var Dl=(Al.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},Al.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},Al.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},Al.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return on(t,1)<.4;if(t.colorStops){for(var e=t.colorStops,n=0,i=e.length,o=0;o<i;o++)n+=on(e[o].color,1);return(n/=i)<.4}return!1}(t)},Al.prototype.getBackgroundColor=function(){return this._backgroundColor},Al.prototype.setDarkMode=function(t){this._darkMode=t},Al.prototype.isDarkMode=function(){return this._darkMode},Al.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},Al.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},Al.prototype.flush=function(){this._flush(!1)},Al.prototype._flush=function(t){var e;this._needsRefresh&&(e=!0,this.refreshImmediately(!0)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e?(this._stillFrameAccum=0,this.trigger("rendered")):0<this._sleepAfterStill&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Al.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},Al.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},Al.prototype.addHover=function(t){},Al.prototype.removeHover=function(t){},Al.prototype.clearHover=function(){},Al.prototype.refreshHover=function(){this._needsRefreshHover=!0},Al.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},Al.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},Al.prototype.clearAnimation=function(){this.animation.clear()},Al.prototype.getWidth=function(){return this.painter.getWidth()},Al.prototype.getHeight=function(){return this.painter.getHeight()},Al.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},Al.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},Al.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},Al.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},Al.prototype.off=function(t,e){this.handler.off(t,e)},Al.prototype.trigger=function(t,e){this.handler.trigger(t,e)},Al.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Br&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},Al.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Il[t]},Al);function Al(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var o=new Ce,r=n.renderer;if(Tl){if(!Cl.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");r="vml"}else r=r||"canvas";if(!Cl[r])throw new Error("Renderer '"+r+"' is not imported. Please import it first.");n=new Cl[r](e,o,n,t);this.storage=o,this.painter=n;t=v.node||v.worker?null:new Gn(n.getViewportRoot(),n.root);this.handler=new pe(o,n,t,n.root),this.animation=new wn({stage:{update:function(){return i._flush(!0)}}}),this.animation.start()}function kl(t,e){e=new Dl(_++,t,e);return Il[e.id]=e}function Ll(t,e){Cl[t]=e}var g=Object.freeze({__proto__:null,init:kl,dispose:function(t){t.dispose()},disposeAll:function(){for(var t in Il)Il.hasOwnProperty(t)&&Il[t].dispose();Il={}},getInstance:function(t){return Il[t]},registerPainter:Ll,version:"5.0.0-beta.1"}),Pl=1e-4;function Ol(t,e,n,i){var o=e[1]-e[0],r=n[1]-n[0];if(0==o)return 0==r?n[0]:(n[0]+n[1])/2;if(i)if(0<o){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/o*r+n[0]}function Rl(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?t.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function Nl(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function El(t){return t.sort(function(t,e){return t-e}),t}function zl(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Bl(t){var e=t.toString(),t=e.indexOf("e");if(0<t){var n=+e.slice(t+1);return n<0?-n:0}n=e.indexOf(".");return n<0?0:e.length-1-n}function Vl(t,e){var n=Math.log,i=Math.LN10,t=Math.floor(n(t[1]-t[0])/i),i=Math.round(n(Math.abs(e[1]-e[0]))/i),i=Math.min(Math.max(-t+i,0),20);return isFinite(i)?i:20}function Fl(t,e,n){if(!t[e])return 0;var i=O(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var o=Math.pow(10,n),t=P(t,function(t){return(isNaN(t)?0:t)/i*o*100}),r=100*o,a=P(t,function(t){return Math.floor(t)}),s=O(a,function(t,e){return t+e},0),l=P(t,function(t,e){return t-a[e]});s<r;){for(var u=Number.NEGATIVE_INFINITY,h=null,c=0,p=l.length;c<p;++c)l[c]>u&&(u=l[c],h=c);++a[h],l[h]=0,++s}return a[e]/o}function Hl(t){var e=2*Math.PI;return(t%e+e)%e}function Gl(t){return-Pl<t&&t<Pl}var Wl=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ul(t){if(t instanceof Date)return t;if("string"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=Wl.exec(t);if(!e)return new Date(NaN);if(e[8]){t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}function Zl(t){return Math.pow(10,Xl(t))}function Xl(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return 10<=t/Math.pow(10,e)&&e++,e}function Yl(t,e){var n=Xl(t),i=Math.pow(10,n),o=t/i,o=e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10;return t=o*i,-20<=n?+t.toFixed(n<0?-n:0):t}function ql(t){var e=parseFloat(t);return e==t&&(0!==e||"string"!=typeof t||t.indexOf("x")<=0)?e:NaN}function jl(t){return!isNaN(ql(t))}function Kl(){return Math.round(9*Math.random())}var $l=Object.freeze({__proto__:null,linearMap:Ol,parsePercent:Rl,round:Nl,asc:El,getPrecision:zl,getPrecisionSafe:Bl,getPixelPrecision:Vl,getPercentWithPrecision:Fl,MAX_SAFE_INTEGER:9007199254740991,remRadian:Hl,isRadianAroundZero:Gl,parseDate:Ul,quantity:Zl,quantityExponent:Xl,nice:Yl,quantile:function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),e=+t[i-1];return(n=n-i)?e+n*(t[i]-e):e},reformIntervals:function(t){t.sort(function(t,e){return function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,i=0;i<t.length;){for(var o=t[i].interval,r=t[i].close,a=0;a<2;a++)o[a]<=e&&(o[a]=e,r[a]=a?1:1-n),e=o[a],n=r[a];o[0]===o[1]&&r[0]*r[1]!=1?t.splice(i,1):i++}return t},numericToNumber:ql,isNumeric:jl,getRandomIdBase:Kl}),Jl="series\0",Ql="\0_ec_\0";function tu(t){return t instanceof Array?t:null==t?[]:[t]}function eu(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,o=n.length;i<o;i++){var r=n[i];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}}var nu=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function iu(t){return!U(t)||V(t)||t instanceof Date?t:t.value}function ou(t,n,e){var i="normalMerge"===e,o="replaceMerge"===e,r="replaceAll"===e;t=t||[],n=(n||[]).slice();var a=ht();N(n,function(t,e){U(t)?(null==t.id||lu(t.id),null==t.name||lu(t.name)):n[e]=null});var s,l,u,h,c,p,d,f,g,y,m,e=function(t,e,n){var i=[];if("replaceAll"===n)return i;for(var o=0;o<t.length;o++){var r=t[o];r&&null!=r.id&&e.set(r.id,o),i.push({existing:"replaceMerge"===n||hu(r)?null:r,newOption:null,keyInfo:null,brandNew:null})}return i}(t,a,e);return(i||o)&&(s=e,l=t,u=a,N(h=n,function(t,e){var n,i,o;t&&null!=t.id&&(n=au(t.id),null!=(i=u.get(n))&&(it(!(o=s[i]).newOption,'Duplicated option on id "'+n+'".'),o.newOption=t,o.existing=l[i],h[e]=null))})),i&&(c=e,N(p=n,function(t,e){if(t&&null!=t.name)for(var n=0;n<c.length;n++){var i=c[n].existing;if(!c[n].newOption&&i&&(null==i.id||null==t.id)&&!hu(t)&&!hu(i)&&ru("name",i,t))return c[n].newOption=t,void(p[e]=null)}})),i||o?(f=e,g=o,y=0,N(n,function(t){if(t){for(var e;(e=f[y])&&(e.newOption||hu(e.existing)||e.existing&&null!=t.id&&!ru("id",t,e.existing));)y++;e?(e.newOption=t,e.brandNew=g):f.push({newOption:t,brandNew:g,existing:null,keyInfo:null}),y++}})):r&&(d=e,N(n,function(t){d.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})),r=e,m=ht(),N(r,function(t){var e=t.existing;e&&m.set(e.id,t)}),N(r,function(t){var e=t.newOption;it(!e||null==e.id||!m.get(e.id)||m.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&m.set(e.id,t),t.keyInfo||(t.keyInfo={})}),N(r,function(t,e){var n=t.existing,i=t.newOption,o=t.keyInfo;if(U(i)){if(o.name=null!=i.name?au(i.name):n?n.name:Jl+e,n)o.id=au(n.id);else if(null!=i.id)o.id=au(i.id);else for(var r=0;o.id="\0"+o.name+"\0"+r++,m.get(o.id););m.set(o.id,t)}}),e}function ru(t,e,n){e=e[t],t=n[t];return null!=e&&null!=t&&e+""==t+""}function au(t){return su(t,"")}function su(t,e){var n=typeof t;return"string"==n?t:"number"==n||G(t)?t+"":e}function lu(){}function uu(t){t=t.name;return!(!t||!t.indexOf(Jl))}function hu(t){return t&&null!=t.id&&0===au(t.id).indexOf(Ql)}function cu(t,o,r){N(t,function(t){var e,n,i=t.newOption;U(i)&&(t.keyInfo.mainType=o,t.keyInfo.subType=(e=o,n=i,i=t.existing,t=r,n.type||(i?i.subType:t.determineSubType(e,n))))})}function pu(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?V(t.dataIndex)?P(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?V(t.name)?P(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function du(){var e="__ec_inner_"+fu++;return function(t){return t[e]||(t[e]={})}}var fu=Kl();function gu(n,t,o){var e,t=H(t)?((e={})[t+"Index"]=0,e):t,r=o?o.defaultMainType:null,a=ht(),s={};return N(t,function(t,e){var n,i;"dataIndex"!==e&&"dataIndexInside"!==e?(n=(i=e.match(/^(\w+)(Index|Id|Name)$/)||[])[1],i=(i[2]||"").toLowerCase(),!n||!i||n!==r&&null==t||o&&o.includeMainTypes&&k(o.includeMainTypes,n)<0||((a.get(n)||a.set(n,{}))[i]=t)):s[e]=t}),a.each(function(t,e){t=vu(n,e,t,{useDefault:e===r,enableAll:!0,enableNone:!0});s[e+"Models"]=t.models,s[e+"Model"]=t.models[0]}),s}var yu={useDefault:!0,enableAll:!1,enableNone:!1},mu={useDefault:!1,enableAll:!0,enableNone:!0};function vu(t,e,n,i){i=i||yu;var o=n.index,r=n.id,a=n.name,n={models:null,specified:null!=o||null!=r||null!=a};if(n.specified)return"none"===o||!1===o?(it(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),n.models=[]):("all"===o&&(it(i.enableAll,'`"all"` is not a valid value on index option.'),o=r=a=null),n.models=t.queryComponents({mainType:e,index:o,id:r,name:a})),n;a=void 0;return n.models=i.useDefault&&(a=t.getComponent(e))?[a]:[],n}function _u(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function xu(t,e,n,i,o){var r=null==e||"auto"===e;if("number"==typeof i)return Nl(l=sn(n||0,i,o),r?Math.max(Bl(n||0),Bl(i)):e);if("string"==typeof i)return o<1?n:i;for(var a,s,l,u=[],h=n||[],c=i,p=Math.max(h.length,c.length),d=0;d<p;++d){"ordinal"===t.getDimensionInfo(d).type?u[d]=(o<1?h:c)[d]:(a=h&&h[d]?h[d]:0,s=c[d],l=null==h?i[d]:sn(a,s,o),u[d]=Nl(l,r?Math.max(Bl(a),Bl(s)):e))}return u}var bu=".",wu="___EC__COMPONENT__CONTAINER___",Su="___EC__EXTENDED_CLASS___";function Mu(t){var e={main:"",sub:""};return t&&(t=t.split(bu),e.main=t[0]||"",e.sub=t[1]||""),e}function Tu(t){(t.$constructor=t).extend=function(i){var o=this;function r(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(i.$constructor)i.$constructor.apply(this,arguments);else{if("function"==typeof(t=o)&&/^class\s/.test(Function.prototype.toString.call(t)))return ct(r.prototype,new(o.bind.apply(o,a([void 0],e))));o.apply(this,arguments)}}return r[Su]=!0,D(r.prototype,i),r.extend=this.extend,r.superCall=Du,r.superApply=Au,T(r,this),r.superClass=o,r}}function Cu(t,e){t.extend=e.extend}var Iu=Math.round(10*Math.random());function Du(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function Au(t,e,n){return this.superClass.prototype[e].apply(t,n)}function ku(e,t){t=t||{};var n,o={};e.registerClass=function(t){var e,n=t.type||t.prototype.type;return n&&(it(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e=n),'componentType "'+e+'" illegal'),(n=Mu(t.prototype.type=n)).sub?n.sub!==wu&&(function(t){var e=o[t.main];e&&e[wu]||((e=o[t.main]={})[wu]=!0);return e}(n)[n.sub]=t):o[n.main]=t),t},e.getClass=function(t,e,n){var i=o[t];if(i&&i[wu]&&(i=e?i[e]:null),n&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},e.getClassesByMainType=function(t){var t=Mu(t),n=[],t=o[t.main];return t&&t[wu]?N(t,function(t,e){e!==wu&&n.push(t)}):n.push(t),n},e.hasClass=function(t){t=Mu(t);return!!o[t.main]},e.getAllClassMainTypes=function(){var n=[];return N(o,function(t,e){n.push(e)}),n},e.hasSubTypes=function(t){t=Mu(t),t=o[t.main];return t&&t[wu]},!t.registerWhenExtend||(n=e.extend)&&(e.extend=function(t){t=n.call(this,t);return e.registerClass(t)})}function Lu(a,s){for(var t=0;t<a.length;t++)a[t][1]||(a[t][1]=a[t][0]);return s=s||!1,function(t,e,n){for(var i={},o=0;o<a.length;o++){var r=a[o][1];e&&0<=k(e,r)||n&&k(n,r)<0||null!=(r=t.getShallow(r,s))&&(i[a[o][0]]=r)}return i}}var Pu=Lu([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Ou=(Ru.prototype.getAreaStyle=function(t,e){return Pu(this,t,e)},Ru);function Ru(){}var Nu=du(),Eu=1,zu={},Bu=du(),Vu=0,Fu=1,Hu=2,Gu=["emphasis","blur","select"],Wu=["normal","emphasis","blur","select"],Uu=10,Zu=9,Xu="highlight",Yu="downplay",qu="select",ju="unselect",Ku="toggleSelect";function $u(t){return null!=t&&"none"!==t}var Ju=new Ne(100);function Qu(t){if("string"!=typeof t)return t;var e=Ju.get(t);return e||(e=$e(t,-.1),Ju.put(t,e)),e}function th(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function eh(t){th(t,"emphasis",Hu)}function nh(t){th(t,"normal",Vu)}function ih(t){th(t,"blur",Fu)}function oh(t){th(t,"normal",Vu)}function rh(t){t.selected=!0}function ah(t){t.selected=!1}function sh(t,e,n){e(t,n)}function lh(t,e,n){sh(t,e,n),t.isGroup&&t.traverse(function(t){sh(t,e,n)})}function uh(t,e){switch(e){case"emphasis":t.hoverState=Hu;break;case"normal":t.hoverState=Vu;break;case"blur":t.hoverState=Fu;break;case"select":t.selected=!0}}function hh(t,e,n){var i=0<=k(t.currentStates,e),o=t.style.opacity,t=i?null:function(t,e,n,i){for(var o=t.style,r={},a=0;a<e.length;a++){var s=e[a],l=o[s];r[s]=null==l?i&&i[s]:l}for(a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveFinalToTarget(r,e)}return r}(t,["opacity"],e,{opacity:1}),e=(n=n||{}).style||{};return null==e.opacity&&(n=D({},n),e=D({opacity:i?o:.1*t.opacity},e),n.style=e),n}function ch(t,e){var n,i,o,r,a,s=this.states[t];if(this.style){if("emphasis"===t)return n=this,o=s,r=(i=e)&&0<=k(i,"select"),a=!1,n instanceof yr&&(e=Bu(n),i=r&&e.selectFill||e.normalFill,r=r&&e.selectStroke||e.normalStroke,($u(i)||$u(r))&&(!$u((e=(o=o||{}).style||{}).fill)&&$u(i)?(a=!0,o=D({},o),(e=D({},e)).fill=Qu(i)):!$u(e.stroke)&&$u(r)&&(a||(o=D({},o),e=D({},e)),e.stroke=Qu(r)),o.style=e)),o&&null==o.z2&&(a||(o=D({},o)),a=n.z2EmphasisLift,o.z2=n.z2+(null!=a?a:Uu)),o;if("blur"===t)return hh(this,t,s);if("select"===t)return a=this,(o=s)&&null==o.z2&&(o=D({},o),t=a.z2SelectLift,o.z2=a.z2+(null!=t?t:Zu)),o}return s}function ph(t){t.stateProxy=ch;var e=t.getTextContent(),t=t.getTextGuideLine();e&&(e.stateProxy=ch),t&&(t.stateProxy=ch)}function dh(t,e){t.__highByOuter|=1<<(e||0),lh(t,eh)}function fh(t,e){(t.__highByOuter&=~(1<<(e||0)))||lh(t,nh)}function gh(t){lh(t,ih)}function yh(t){lh(t,oh)}function mh(t){lh(t,rh)}function vh(t){lh(t,ah)}function _h(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function xh(t,r,a,s,e){var n,l,u,h,i=s.getModel();function c(t,e){for(var n=0;n<e.length;n++){var i=t.getItemGraphicEl(e[n]);i&&yh(i)}}a=a||"coordinateSystem",e?null!=t&&r&&"none"!==r&&(l=i.getSeriesByIndex(t),(u=l.coordinateSystem)&&u.master&&(u=u.master),h=[],i.eachSeries(function(t){var e=l===t,n=t.coordinateSystem;if(n&&n.master&&(n=n.master),!("series"===a&&!e||"coordinateSystem"===a&&!(n&&u?n===u:e)||"series"===r&&e)){if(s.getViewOfSeriesModel(t).group.traverse(function(t){ih(t)}),L(r))c(t.getData(),r);else if(U(r))for(var i=E(r),o=0;o<i.length;o++)c(t.getData(i[o]),r[i[o]]);h.push(t)}}),i.eachComponent(function(t,e){"series"===t||(e=s.getViewOfComponentModel(e))&&e.blurSeries&&e.blurSeries(h,i)})):(n=s).getModel().eachComponent(function(t,e){("series"===t?n.getViewOfSeriesModel(e):n.getViewOfComponentModel(e)).group.traverse(function(t){oh(t)})})}function bh(i){N(i.getAllData(),function(t){var e=t.data,n=t.type;e.eachItemGraphicEl(function(t,e){(i.isSelected(e,n)?mh:vh)(t)})})}function wh(t,e,n){!function(t,e){var n=!1===e,e=t;t.highDownSilentOnTouch&&(e.__highDownSilentOnTouch=t.highDownSilentOnTouch);n&&!e.__highDownDispatcher||(e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n)}(t,!0),lh(t,ph),function(t,e,n){{null!=e&&((t=Nu(t)).focus=e,t.blurScope=n)}}(t,e,n)}var Sh=["emphasis","blur","select"],Mh={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Th(t,e,n,i){n=n||"itemStyle";for(var o=0;o<Sh.length;o++){var r=Sh[o],a=e.getModel([r,n]);t.ensureState(r).style=i?i(a):a[Mh[n]]()}}function Ch(t){return!(!t||!t.__highDownDispatcher)}function Ih(t){t=t.type;return t===qu||t===ju||t===Ku}function Dh(t){t=t.type;return t===Xu||t===Yu}function Ah(){0}function kh(t){throw new Error(t)}var Lh={};function Ph(t,e){for(var n=0;n<Gu.length;n++){var i=Gu[n],o=e[i],i=t.ensureState(i);i.style=i.style||{},i.style.text=o}var r=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(r,!0)}function Oh(t,e,n){var i,o=t.labelFetcher,r=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;o&&(i=o.getFormattedLabel(r,"normal",null,a,s&&s.get("formatter"),null!=n?{value:n}:null)),null==i&&(i=F(t.defaultText)?t.defaultText(r,t,n):t.defaultText);for(var l={normal:i},u=0;u<Gu.length;u++){var h=Gu[u],c=e[h];l[h]=Q(o?o.getFormattedLabel(r,h,null,a,c&&c.get("formatter")):null,i)}return l}function Rh(t,e,n,i){n=n||Lh;for(var o=t instanceof is,r=!1,a=0;a<Wu.length;a++){if((p=e[Wu[a]])&&p.getShallow("show")){r=!0;break}}var s=o?t:t.getTextContent();if(r){o||(s||(s=new is,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var l=Oh(n,e),u=e.normal,h=!!u.getShallow("show"),c=Eh(u,i&&i.normal,n,!1,!o);c.text=l.normal,o||t.setTextConfig(zh(u,n,!1));for(a=0;a<Gu.length;a++){var p,d,f,g=Gu[a];(p=e[g])&&(d=s.ensureState(g),(f=!!Q(p.getShallow("show"),h))!=h&&(d.ignore=!f),d.style=Eh(p,i&&i[g],n,!0,!o),d.style.text=l[g],o||(t.ensureState(g).textConfig=zh(p,n,!0)))}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),n.enableTextSetter&&(Gh(s).setLabelText=function(t){t=Oh(n,e,t);Ph(s,t)})}else s&&(s.ignore=!0);t.dirty()}function Nh(t,e){e=e||"label";for(var n={normal:t.getModel(e)},i=0;i<Gu.length;i++){var o=Gu[i];n[o]=t.getModel([o,e])}return n}function Eh(t,e,n,i,o){var r={};return function(t,e,n,i,o){n=n||Lh;var r,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||Lh).rich;if(n){e=e||{};for(var i=E(n),o=0;o<i.length;o++){var r=i[o];e[r]=1}}t=t.parentModel}return e}(e);if(l)for(var u in r={},l){var h;l.hasOwnProperty(u)&&(h=e.getModel(["rich",u]),Hh(r[u]={},h,s,n,i,o))}r&&(t.rich=r);a=e.get("overflow");a&&(t.overflow=a);a=e.get("minMargin");null!=a&&(t.margin=a);Hh(t,e,s,n,i,o,!0)}(r,t,n,i,o),e&&D(r,e),r}function zh(t,e,n){e=e||{};var i={},o=t.getShallow("rotate"),r=Q(t.getShallow("distance"),n?null:5),a=t.getShallow("offset"),n=t.getShallow("position")||(n?null:"inside");return"outside"===n&&(n=e.defaultOutsidePosition||"top"),null!=n&&(i.position=n),null!=a&&(i.offset=a),null!=o&&(o*=Math.PI/180,i.rotation=o),null!=r&&(i.distance=r),i.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",i}var Bh=["fontStyle","fontWeight","fontSize","fontFamily","opacity","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Vh=["align","lineHeight","width","height","tag","verticalAlign"],Fh=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Hh(t,e,n,i,o,r,a){n=!o&&n||Lh;var s=i&&i.inheritColor,l=e.getShallow("color"),u=e.getShallow("textBorderColor");"inherit"!==l&&"auto"!==l||(l=s||null),"inherit"!==u&&"auto"!==u||(u=s||null),r||(l=l||n.color,u=u||n.textBorderColor),null!=l&&(t.fill=l),null!=u&&(t.stroke=u);u=Q(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=u&&(t.lineWidth=u);u=Q(e.getShallow("textBorderType"),n.textBorderType);null!=u&&(t.lineDash=u);u=Q(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=u&&(t.lineDashOffset=u),o||r||null==t.fill&&i.inheritColor&&(t.fill=i.inheritColor);for(var h=0;h<Bh.length;h++){var c=Bh[h];null!=(p=Q(e.getShallow(c),n[c]))&&(t[c]=p)}for(h=0;h<Vh.length;h++){c=Vh[h];null!=(p=e.getShallow(c))&&(t[c]=p)}if(null!=t.verticalAlign||null!=(r=e.getShallow("baseline"))&&(t.verticalAlign=r),!a||!i.disableBox){for(h=0;h<Fh.length;h++){var p,c=Fh[h];null!=(p=e.getShallow(c))&&(t[c]=p)}i=e.getShallow("borderType");null!=i&&(t.borderDash=i),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!s||(t.backgroundColor=s),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!s||(t.borderColor=s)}}var Gh=du(),Wh=["textStyle","color"],Uh=new is,Zh=(Xh.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Wh):null)},Xh.prototype.getFont=function(){return t={fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},e=(e=this.ecModel)&&e.getModel("textStyle"),ot([t.fontStyle||e&&e.getShallow("fontStyle")||"",t.fontWeight||e&&e.getShallow("fontWeight")||"",(t.fontSize||e&&e.getShallow("fontSize")||12)+"px",t.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "));var t,e},Xh.prototype.getTextRect=function(t){return Uh.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),Uh.update(),Uh.getBoundingRect()},Xh);function Xh(){}var Pi=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Yh=Lu(Pi),qh=(jh.prototype.getLineStyle=function(t){return Yh(this,t)},jh);function jh(){}var Kh=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],$h=Lu(Kh),Jh=(Qh.prototype.getItemStyle=function(t,e){return $h(this,t,e)},Qh);function Qh(){}var tc,ec,nc=(ic.prototype.init=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o]},ic.prototype.mergeOption=function(t,e){w(this.option,t,!0)},ic.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},ic.prototype.getShallow=function(t,e){var n=this.option,n=null==n?n:n[t];return null!=n||e||(e=this.parentModel)&&(n=e.getShallow(t)),n},ic.prototype.getModel=function(t,e){var n=null!=t,t=n?this.parsePath(t):null;return new ic(n?this._doGet(t):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(t)),this.ecModel)},ic.prototype.isEmpty=function(){return null==this.option},ic.prototype.restoreData=function(){},ic.prototype.clone=function(){return new this.constructor(I(this.option))},ic.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},ic.prototype.resolveParentPath=function(t){return t},ic.prototype.isAnimationEnabled=function(){if(!v.node&&this.option)return null!=this.option.animation?!!this.option.animation:this.parentModel?this.parentModel.isAnimationEnabled():void 0},ic.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&(!t[i]||null!=(n=n&&"object"==typeof n?n[t[i]]:null));i++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},ic);function ic(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}Tu(nc),tc=nc,ec=["__\0is_clz",Iu++].join("_"),tc.prototype[ec]=!0,tc.isInstance=function(t){return!(!t||!t[ec])},C(nc,qh),C(nc,Jh),C(nc,Ou),C(nc,Zh);var oc=Math.round(10*Math.random());function rc(t){return[t||"",oc++].join("_")}function ac(t,e){return w(w({},t,!0),e,!0)}var sc="ZH",lc="EN",uc=lc,hc={},cc={},pc=v.domSupported&&-1<(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(sc)?sc:uc;function dc(t,e){t=t.toUpperCase(),cc[t]=new nc(e),hc[t]=e}dc(lc,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),dc(sc,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});var fc=1e3,gc=60*fc,yc=60*gc,mc=24*yc,$i=365*mc,vc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},Sa="{yyyy}-{MM}-{dd}",_c={year:"{yyyy}",month:"{yyyy}:{MM}",day:Sa,hour:Sa+" "+vc.hour,minute:Sa+" "+vc.minute,second:Sa+" "+vc.second,millisecond:vc.none},xc=["year","month","day","hour","minute","second","millisecond"],bc=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function wc(t,e){return"0000".substr(0,e-(t+="").length)+t}function Sc(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Mc(t,e,n,i){var o=Ul(t),r=o[Ic(i)](),a=o[Dc(i)]()+1,s=Math.floor((a-1)/4)+1,l=o[Ac(i)](),u=o["get"+(i?"UTC":"")+"Day"](),h=o[kc(i)](),c=(h-1)%12+1,p=o[Lc(i)](),d=o[Pc(i)](),f=o[Oc(i)](),t=(n instanceof nc?n:cc[n||pc]||cc[uc]).getModel("time"),o=t.get("month"),i=t.get("monthAbbr"),n=t.get("dayOfWeek"),t=t.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,r+"").replace(/{yy}/g,r%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,o[a-1]).replace(/{MMM}/g,i[a-1]).replace(/{MM}/g,wc(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,wc(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,n[u]).replace(/{ee}/g,t[u]).replace(/{e}/g,u+"").replace(/{HH}/g,wc(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,wc(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,wc(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,wc(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,wc(f,3)).replace(/{S}/g,f+"")}function Tc(t,e){var n=Ul(t),i=n[Dc(e)]()+1,o=n[Ac(e)](),r=n[kc(e)](),a=n[Lc(e)](),t=n[Pc(e)](),e=0===n[Oc(e)](),t=e&&0===t,a=t&&0===a,r=a&&0===r,o=r&&1===o;return o&&1===i?"year":o?"month":r?"day":a?"hour":t?"minute":e?"second":"millisecond"}function Cc(t,e,n){var i="number"==typeof t?Ul(t):t;switch(e=e||Tc(t,n)){case"year":return i[Ic(n)]();case"half-year":return 6<=i[Dc(n)]()?1:0;case"quarter":return Math.floor((i[Dc(n)]()+1)/4);case"month":return i[Dc(n)]();case"day":return i[Ac(n)]();case"half-day":return i[kc(n)]()/24;case"hour":return i[kc(n)]();case"minute":return i[Lc(n)]();case"second":return i[Pc(n)]();case"millisecond":return i[Oc(n)]()}}function Ic(t){return t?"getUTCFullYear":"getFullYear"}function Dc(t){return t?"getUTCMonth":"getMonth"}function Ac(t){return t?"getUTCDate":"getDate"}function kc(t){return t?"getUTCHours":"getHours"}function Lc(t){return t?"getUTCMinutes":"getMinutes"}function Pc(t){return t?"getUTCSeconds":"getSeconds"}function Oc(t){return t?"getUTCSeconds":"getSeconds"}function Rc(t){return t?"setUTCMonth":"setMonth"}function Nc(t){return t?"setUTCDate":"setDate"}function Ec(t){return t?"setUTCHours":"setHours"}function zc(t){return t?"setUTCMinutes":"setMinutes"}function Bc(t){return t?"setUTCSeconds":"setSeconds"}function Vc(t){return t?"setUTCSeconds":"setSeconds"}var Fc=Math.max,Hc=Math.min,Gc={};var Wc=function(t,e){var n,i=Er(t,e);function o(t){t=n.call(this,t)||this;return t.applyTransform=i.applyTransform,t.buildPath=i.buildPath,t}return l(o,n=Or),o};function Uc(t,e){Gc[t]=e}function Zc(t){if(Gc.hasOwnProperty(t))return Gc[t]}function Xc(t,e,n,i){e=new Or(Er(t,e));return n&&("center"===i&&(n=qc(n,e.getBoundingRect())),jc(e,n)),e}function Yc(t,e,n){var i=new Wr({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){"center"===n&&(t={width:t.width,height:t.height},i.setStyle(qc(e,t)))}});return i}function qc(t,e){var n=e.width/e.height,e=t.height*n,n=e<=t.width?t.height:(e=t.width)/n;return{x:t.x+t.width/2-e/2,y:t.y+t.height/2-n/2,width:e,height:n}}qh=function(t,e){for(var n=[],i=t.length,o=0;o<i;o++){var r=t[o];r.path||r.createPathProxy(),r.shapeChanged()&&r.buildPath(r.path,r.shape,!0),n.push(r.path)}return(e=new yr(e)).createPathProxy(),e.buildPath=function(t){var e;Nr(t)&&(t.appendPath(n),(e=t.getContext())&&t.rebuildPath(e,1))},e};function jc(t,e){t.applyTransform&&(e=t.getBoundingRect().calculateTransform(e),t.applyTransform(e))}Jh=Jr;function Kc(t,e,n,i,o,r,a){var s=!1;"function"==typeof o?(a=r,r=o,o=null):U(o)&&(r=o.cb,a=o.during,s=o.isFrom,o=o.dataIndex);var l,u,h,c,p="update"===t,d="remove"===t;i&&i.ecModel&&(l=(c=i.ecModel.getUpdatePayload())&&c.animation),i&&i.isAnimationEnabled()?(c=h=u=void 0,l?(u=l.duration||0,h=l.easing||"cubicOut",c=l.delay||0):d?(u=200,h="cubicOut",c=0):(u=i.getShallow(p?"animationDurationUpdate":"animationDuration"),h=i.getShallow(p?"animationEasingUpdate":"animationEasing"),"function"==typeof(c=i.getShallow(p?"animationDelayUpdate":"animationDelay"))&&(c=c(o,i.getAnimationDelayParams?i.getAnimationDelayParams(e,o):null)),"function"==typeof u&&(u=u(o))),d||e.stopAnimation("remove"),0<u?s?e.animateFrom(n,{duration:u,delay:c||0,easing:h,done:r,force:!!r||!!a,scope:t,during:a}):e.animateTo(n,{duration:u,delay:c||0,easing:h,done:r,force:!!r||!!a,setToFinal:!0,scope:t,during:a}):(e.stopAnimation(),e.attr(n),r&&r())):(e.stopAnimation(),s||e.attr(n),a&&a(1),r&&r())}function $c(t,e,n,i,o,r){Kc("update",t,e,n,i,o,r)}function Jc(t,e,n,i,o,r){Kc("init",t,e,n,i,o,r)}function Qc(t,e,n,i,o,r){Kc("remove",t,e,n,i,o,r)}function tp(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),Qc(t,{style:{opacity:0}},e,n,i)}function ep(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(t){t.isGroup||tp(t,e,n,i)}):tp(t,e,n,i)}function np(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if("remove"===t.animators[e].scope)return!0}return!1}function ip(t,n,i,o,r,a,e,s){var l,u,h,c,p=r&&r.get("valueAnimation"),d=n.getTextContent();p&&d&&(l=r?r.get("precision"):null,u=Gh(d),h=u.prevValue,c=u.value,u.prevValue=c,Kc(t,n,{},e,o,null,function(t){var e=n.getTextContent();e&&u&&(t=xu(i,l,h,c,t),Ph(e,Oh({labelDataIndex:o,labelFetcher:a,defaultText:s?s(t):t+""},{normal:r},t)))}))}function op(t,e,n,i,o,r,a){ip("update",t,e,n,i,o,r,a)}function rp(t,e,n,i,o,r,a){ip("init",t,e,n,i,o,r,a)}function ap(t,e){for(var n=Zn([]);t&&t!==e;)Yn(n,t.getLocalTransform(),n),t=t.parent;return n}function sp(t,e,n){return e&&!L(e)&&(e=ri.getLocalTransform(e)),n&&(e=$n([],e)),Dt([],t,e)}function lp(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=sp(o=["left"===t?-i:"right"===t?i:0,"top"===t?-o:"bottom"===t?o:0],e,n);return Math.abs(o[0])>Math.abs(o[1])?0<o[0]?"right":"left":0<o[1]?"bottom":"top"}function up(t){return!t.isGroup}function hp(t,e,i){var o,n;function r(t){var e={x:t.x,y:t.y,rotation:t.rotation};return null!=t.shape&&(e.shape=D({},t.shape)),e}t&&e&&(n={},t.traverse(function(t){up(t)&&t.anid&&(n[t.anid]=t)}),o=n,e.traverse(function(t){var e,n;up(t)&&t.anid&&((e=o[t.anid])&&(n=r(t),t.attr(r(e)),$c(t,n,i,Nu(t).dataIndex)))}))}function cp(t,n){return P(t,function(t){var e=t[0],e=Fc(e,n.x);e=Hc(e,n.x+n.width);t=t[1],t=Fc(t,n.y);return[e,t=Hc(t,n.y+n.height)]})}function pp(t,e,n){var i=D({rectHover:!0},e),e=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(e.image=t.slice(8),A(e,n),new Wr(i)):Xc(t.replace("path://",""),i,n,"center")}function dp(t,e,n,i,o,r,a,s){var l=n-t,u=i-e,n=a-o,i=s-r,a=n*u-l*i;if((s=a)<=1e-6&&-1e-6<=s)return!1;o=t-o,r=e-r,l=(o*u-l*r)/a;if(l<0||1<l)return!1;a=(o*i-n*r)/a;return!(a<0||1<a)}Uc("circle",Yr),Uc("ellipse",aa),Uc("sector",ol),Uc("ring",n),Uc("polygon",ma),Uc("polyline",ba),Uc("rect",na),Uc("line",ca),Uc("bezierCurve",xs),Uc("arc",fs);var fp=Object.freeze({__proto__:null,extendShape:function(t){return yr.extend(t)},extendPath:function(t,e){return Wc(t,e)},registerShape:Uc,getShapeClass:Zc,makePath:Xc,makeImage:Yc,mergePath:qh,resizePath:jc,subPixelOptimizeLine:function(t){return Kr(t.shape,t.shape,t.style),t},subPixelOptimizeRect:function(t){return $r(t.shape,t.shape,t.style),t},subPixelOptimize:Jh,updateProps:$c,initProps:Jc,removeElement:Qc,removeElementWithFadeOut:ep,isElementRemoved:np,updateLabel:op,initLabel:rp,getTransform:ap,applyTransform:sp,transformDirection:lp,groupTransition:hp,clipPointsByRect:cp,clipRectByRect:function(t,e){var n=Fc(t.x,e.x),i=Hc(t.x+t.width,e.x+e.width),o=Fc(t.y,e.y),e=Hc(t.y+t.height,e.y+e.height);if(n<=i&&o<=e)return{x:n,y:o,width:i-n,height:e-o}},createIcon:pp,linePolygonIntersect:function(t,e,n,i,o){for(var r=0,a=o[o.length-1];r<o.length;r++){var s=o[r];if(dp(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}},lineLineIntersect:dp,Group:Br,Image:Wr,Text:is,Circle:Yr,Ellipse:aa,Sector:ol,Ring:n,Polygon:ma,Polyline:ba,Rect:na,Line:ca,BezierCurve:xs,Arc:fs,IncrementalDisplayable:za,CompoundPath:Oa,LinearGradient:Ca,RadialGradient:r,BoundingRect:mi,OrientedBoundingRect:Sl,Point:si,Path:yr});function gp(t){if(!jl(t))return H(t)?t:"-";t=(t+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")}function yp(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var mp=nt,vp=/([&<>"'])/g,_p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xp(t){return null==t?"":(t+"").replace(vp,function(t,e){return _p[e]})}function bp(t,e){function n(t){return t&&ot(t)?t:"-"}function i(t){return null!=t&&!isNaN(t)&&isFinite(t)}var o="time"===e,r=t instanceof Date;if(o||r){o=o?Ul(t):t;if(!isNaN(+o))return Mc(o,"yyyy-MM-dd hh:mm:ss");if(r)return"-"}if("ordinal"===e)return G(t)?n(t):W(t)&&i(t)?t+"":"-";e=ql(t);return i(e)?gp(e):G(t)?n(t):"-"}function wp(t,e){return"{"+t+(null==e?"":e)+"}"}var Sp=["a","b","c","d","e","f","g"];function Mp(t,e,n){V(e)||(e=[e]);var i=e.length;if(!i)return"";if(e[0].axisType&&0<=e[0].axisType.indexOf("time"))return Mc(Ul(e[0].data[e[0].axisIndex]),t);for(var o=e[0].$vars||[],r=0;r<o.length;r++){var a=Sp[r];t=t.replace(wp(a),wp(a,0))}for(var s=0;s<i;s++)for(var l=0;l<o.length;l++){var u=e[s][o[l]];t=t.replace(wp(Sp[l],s),n?xp(u):u)}return t}function Tp(t,e){var n=H(t)?{color:t,extraCssText:e}:t||{},i=n.color,o=n.type;e=n.extraCssText;t=n.renderMode||"html";return i?"html"===t?"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+xp(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+xp(i)+";"+(e||"")+'"></span>':{renderMode:t,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function Cp(t,e){return e=e||"transparent",H(t)?t:U(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function Ip(t,e){var n;"_blank"===e||"blank"===e?((n=window.open()).opener=null,n.location.href=t):window.open(t,e)}var Dp=Object.freeze({__proto__:null,addCommas:gp,toCamelCase:yp,normalizeCssArray:mp,encodeHTML:xp,makeValueReadable:bp,formatTpl:Mp,formatTplSimple:function(n,t,i){return N(t,function(t,e){n=n.replace("{"+e+"}",i?xp(t):t)}),n},getTooltipMarker:Tp,formatTime:function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=Ul(e),o=i["get"+(l=n?"UTC":"")+"FullYear"](),r=i["get"+l+"Month"]()+1,a=i["get"+l+"Date"](),s=i["get"+l+"Hours"](),e=i["get"+l+"Minutes"](),n=i["get"+l+"Seconds"](),l=i["get"+l+"Milliseconds"]();return t=t.replace("MM",wc(r,2)).replace("M",r).replace("yyyy",o).replace("yy",o%100+"").replace("dd",wc(a,2)).replace("d",a).replace("hh",wc(s,2)).replace("h",s).replace("mm",wc(e,2)).replace("m",e).replace("ss",wc(n,2)).replace("s",n).replace("SSS",wc(l,3))},capitalFirst:function(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)},convertToColorString:Cp,windowOpen:Ip,truncateText:Ua,getTextRect:function(t,e,n,i,o,r,a,s){return Ah(),new is({style:{text:t,font:e,align:n,verticalAlign:i,padding:o,rich:r,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}}),Ap=N,kp=["left","right","top","bottom","width","height"],Lp=[["width","left","right"],["height","top","bottom"]];function Pp(a,s,l,u,h){var c=0,p=0;null==u&&(u=1/0),null==h&&(h=1/0);var d=0;s.eachChild(function(t,e){var n,i,o=t.getBoundingRect(),r=s.childAt(e+1),e=r&&r.getBoundingRect();d="horizontal"===a?(r=o.width+(e?-e.x+o.x:0),u<(n=c+r)||t.newline?(c=0,n=r,p+=d+l,o.height):Math.max(d,o.height)):(e=o.height+(e?-e.y+o.y:0),h<(i=p+e)||t.newline?(c+=d+l,p=0,i=e,o.width):Math.max(d,o.width)),t.newline||(t.x=c,t.y=p,t.markRedraw(),"horizontal"===a?c=n+l:p=i+l)})}var Op=Pp;B(Pp,"vertical"),B(Pp,"horizontal");function Rp(t,e,n){n=mp(n||0);var i=e.width,o=e.height,r=Rl(t.left,i),a=Rl(t.top,o),s=Rl(t.right,i),l=Rl(t.bottom,o),u=Rl(t.width,i),h=Rl(t.height,o),c=n[2]+n[0],p=n[1]+n[3],e=t.aspect;switch(isNaN(u)&&(u=i-s-p-r),isNaN(h)&&(h=o-l-c-a),null!=e&&(isNaN(u)&&isNaN(h)&&(i/o<e?u=.8*i:h=.8*o),isNaN(u)&&(u=e*h),isNaN(h)&&(h=u/e)),isNaN(r)&&(r=i-s-u-p),isNaN(a)&&(a=o-l-h-c),t.left||t.right){case"center":r=i/2-u/2-n[3];break;case"right":r=i-u-p}switch(t.top||t.bottom){case"middle":case"center":a=o/2-h/2-n[0];break;case"bottom":a=o-h-c}r=r||0,a=a||0,isNaN(u)&&(u=i-p-r-(s||0)),isNaN(h)&&(h=o-c-a-(l||0));h=new mi(r+n[3],a+n[0],u,h);return h.margin=n,h}function Np(t,e,n,i,o){var r,a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";(a||s)&&("raw"===l?r="group"===t.type?new mi(0,0,+e.width||0,+e.height||0):t.getBoundingRect():(r=t.getBoundingRect(),t.needLocalTransform()&&(o=t.getLocalTransform(),(r=r.clone()).applyTransform(o))),i=Rp(A({width:r.width,height:r.height},e),n,i),a=a?i.x-r.x:0,r=s?i.y-r.y:0,"raw"===l?(t.x=a,t.y=r):(t.x+=a,t.y+=r),t.markRedraw())}function Ep(t){t=t.layoutMode||t.constructor.layoutMode;return U(t)?t:t?{type:t}:null}function zp(l,u,t){var h=t&&t.ignoreSize;V(h)||(h=[h,h]);var e=n(Lp[0],0),t=n(Lp[1],1);function n(t,e){var n={},i=0,o={},r=0;if(Ap(t,function(t){o[t]=l[t]}),Ap(t,function(t){c(u,t)&&(n[t]=o[t]=u[t]),p(n,t)&&i++,p(o,t)&&r++}),h[e])return p(u,t[1])?o[t[2]]=null:p(u,t[2])&&(o[t[1]]=null),o;if(2!==r&&i){if(2<=i)return n;for(var a=0;a<t.length;a++){var s=t[a];if(!c(n,s)&&c(l,s)){n[s]=l[s];break}}return n}return o}function c(t,e){return t.hasOwnProperty(e)}function p(t,e){return null!=t[e]&&"auto"!==t[e]}function i(t,e,n){Ap(t,function(t){e[t]=n[t]})}i(Lp[0],l,e),i(Lp[1],l,t)}function Bp(t){return Vp({},t)}function Vp(e,n){return n&&e&&Ap(kp,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var Fp,Hp,Gp,Wp,Up=du(),Zp=(l(Xp,Fp=nc),Xp.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},Xp.prototype.mergeDefaultAndTheme=function(t,e){var n=Ep(this),i=n?Bp(t):{};w(t,e.getTheme().get(this.mainType)),w(t,this.getDefaultOption()),n&&zp(t,i,n)},Xp.prototype.mergeOption=function(t,e){w(this.option,t,!0);var n=Ep(this);n&&zp(this.option,t,n)},Xp.prototype.optionUpdated=function(t,e){},Xp.prototype.getDefaultOption=function(){var t=this.constructor;if(!(e=t)||!e[Su])return t.defaultOption;var e=Up(this);if(!e.defaultOption){for(var n=[],i=t;i;){var o=i.prototype.defaultOption;o&&n.push(o),i=i.superClass}for(var r={},a=n.length-1;0<=a;a--)r=w(r,n[a],!0);e.defaultOption=r}return e.defaultOption},Xp.prototype.getReferringComponents=function(t,e){var n=t+"Index",i=t+"Id";return vu(this.ecModel,t,{index:this.get(n,!0),id:this.get(i,!0)},e)},Xp.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},Xp.protoInitialize=((Ou=Xp.prototype).type="component",Ou.id="",Ou.name="",Ou.mainType="",Ou.subType="",void(Ou.componentIndex=0)),Xp);function Xp(t,e,n){n=Fp.call(this,t,e,n)||this;return n.uid=rc("ec_cpt_model"),n}function Yp(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}Cu(Zp,nc),ku(Zp,{registerWhenExtend:!0}),Gp={},(Hp=Zp).registerSubTypeDefaulter=function(t,e){t=Mu(t);Gp[t.main]=e},Hp.determineSubType=function(t,e){var n,i=e.type;return i||(n=Mu(t).main,Hp.hasSubTypes(t)&&Gp[n]&&(i=Gp[n](e))),i},Wp=function(t){var e=[];N(Zp.getClassesByMainType(t),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=P(e,function(t){return Mu(t).main}),"dataset"!==t&&k(e,"dataset")<=0&&e.unshift("dataset");return e},Zp.topologicalTravel=function(t,e,n,i){if(t.length){var r,a,s,e=(a={},s=[],N(r=e,function(n){var e,i,o=Yp(a,n),t=o.originalDeps=Wp(n),t=(e=r,i=[],N(t,function(t){0<=k(e,t)&&i.push(t)}),i);o.entryCount=t.length,0===o.entryCount&&s.push(n),N(t,function(t){k(o.predecessor,t)<0&&o.predecessor.push(t);var e=Yp(a,t);k(e.successor,t)<0&&e.successor.push(n)})}),{graph:a,noEntryList:s}),o=e.graph,l=e.noEntryList,u={};for(N(t,function(t){u[t]=!0});l.length;){var h=l.pop(),c=o[h],p=!!u[h];p&&(n.call(i,h,c.originalDeps.slice()),delete u[h]),N(c.successor,p?f:d)}N(u,function(){throw new Error("Circle dependency may exists")})}function d(t){o[t].entryCount--,0===o[t].entryCount&&l.push(t)}function f(t){u[t]=!0,d(t)}};Zh="";"undefined"!=typeof navigator&&(Zh=navigator.platform||"");var qp={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Zh.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut",additive:!0},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},jp=du();var Kp=($p.prototype.clearColorPalette=function(){jp(this).colorIdx=0,jp(this).colorNameMap={}},$p.prototype.getColorFromPalette=function(t,e,n){var i=jp(e=e||this),o=i.colorIdx||0,r=i.colorNameMap=i.colorNameMap||{};if(r.hasOwnProperty(t))return r[t];var a=tu(this.get("color",!0)),e=this.get("colorLayer",!0),n=null!=n&&e?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(e,n):a;if((n=n||a)&&n.length){a=n[o];return t&&(r[t]=a),i.colorIdx=(o+1)%n.length,a}},$p);function $p(){}var Jp=ht(["tooltip","label","itemName","itemId","seriesName"]),Qp="original",td="arrayRows",ed="objectRows",nd="keyedColumns",id="typedArray",od="unknown",rd="column",ad="row",sd={Must:1,Might:2,Not:3},ld=du();function ud(t){return A(t.thisNew,t.parent)}function hd(n,t,e){var o={},i=pd(t);if(!i||!n)return o;var r,a,s=[],l=[],t=t.ecModel,t=ld(t).datasetMap,e=i.uid+"_"+e.seriesLayoutBy;N(n=n.slice(),function(t,e){t=U(t)?t:n[e]={name:t};"ordinal"===t.type&&null==r&&(r=e,a=c(t)),o[t.name]=[]});var u=t.get(e)||t.set(e,{categoryWayDim:a,valueWayDim:0});function h(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function c(t){t=t.dimsDef;return t?t.length:1}return N(n,function(t,e){var n,i=t.name,t=c(t);null==r?(n=u.valueWayDim,h(o[i],n,t),h(l,n,t),u.valueWayDim+=t):r===e?(h(o[i],0,t),h(s,0,t)):(n=u.categoryWayDim,h(o[i],n,t),h(l,n,t),u.categoryWayDim+=t)}),s.length&&(o.itemName=s),l.length&&(o.seriesName=l),o}function cd(t,l,u){var e={};if(!pd(t))return e;var h,c=l.sourceFormat,p=l.dimensionsDefine;c!==ed&&c!==nd||N(p,function(t,e){"name"===(U(t)?t.name:t)&&(h=e)});t=function(){for(var t={},e={},n=[],i=0,o=Math.min(5,u);i<o;i++){var r=dd(l.data,c,l.seriesLayoutBy,p,l.startIndex,i);n.push(r);var a=r===sd.Not;if(a&&null==t.v&&i!==h&&(t.v=i),null!=t.n&&t.n!==t.v&&(a||n[t.n]!==sd.Not)||(t.n=i),s(t)&&n[t.n]!==sd.Not)return t;a||(r===sd.Might&&null==e.v&&i!==h&&(e.v=i),null!=e.n&&e.n!==e.v||(e.n=i))}function s(t){return null!=t.v&&null!=t.n}return s(t)?t:s(e)?e:null}();return t&&(e.value=[t.v],t=null!=h?h:t.n,e.itemName=[t],e.seriesName=[t]),e}function pd(t){if(!t.get("data",!0))return vu(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},yu).models[0]}function dd(t,e,n,i,o,r){var a,s,l;if(X(t))return sd.Not;if(i&&(U(i=i[r])?(s=i.name,l=i.type):H(i)&&(s=i)),null!=l)return"ordinal"===l?sd.Must:sd.Not;if(e===td){var u=t;if(n===ad){for(var h=u[r],c=0;c<(h||[]).length&&c<5;c++)if(null!=(a=m(h[o+c])))return a}else for(c=0;c<u.length&&c<5;c++){var p=u[o+c];if(p&&null!=(a=m(p[r])))return a}}else if(e===ed){var d=t;if(!s)return sd.Not;for(c=0;c<d.length&&c<5;c++){if((g=d[c])&&null!=(a=m(g[s])))return a}}else if(e===nd){if(!s)return sd.Not;if(!(h=t[s])||X(h))return sd.Not;for(c=0;c<h.length&&c<5;c++)if(null!=(a=m(h[c])))return a}else if(e===Qp)for(var f=t,c=0;c<f.length&&c<5;c++){var g,y=iu(g=f[c]);if(!V(y))return sd.Not;if(null!=(a=m(y[r])))return a}function m(t){var e=H(t);return null!=t&&isFinite(t)&&""!==t?e?sd.Might:sd.Not:e&&"-"!==t?sd.Must:void 0}return sd.Not}var fd,gd,yd,md=ht();var vd,_d="\0_ec_inner",xd=(l(bd,vd=nc),bd.prototype.init=function(t,e,n,i,o,r){i=i||{},this.option=null,this._theme=new nc(i),this._locale=new nc(o),this._optionManager=r},bd.prototype.setOption=function(t,e,n){it(!(_d in t),"please use chart.getOption()");e=Md(e);this._optionManager.setOption(t,n,e),this._resetOption(null,e)},bd.prototype.resetOption=function(t,e){return this._resetOption(t,Md(e))},bd.prototype._resetOption=function(t,e){var n,i=!1,o=this._optionManager;return t&&"recreate"!==t||(n=o.mountOption("recreate"===t),this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(n,e)):yd(this,n),i=!0),"timeline"!==t&&"media"!==t||this.restoreData(),t&&"recreate"!==t&&"timeline"!==t||(n=o.getTimelineOption(this))&&(i=!0,this._mergeOption(n,e)),t&&"recreate"!==t&&"media"!==t||(o=o.getMediaOption(this)).length&&N(o,function(t){i=!0,this._mergeOption(t,e)},this),i},bd.prototype.mergeOption=function(t){this._mergeOption(t,null)},bd.prototype._mergeOption=function(i,t){var o=this.option,u=this._componentsMap,h=this._componentsCount,n=[],r=ht(),c=t&&t.replaceMergeMainTypeMap;ld(this).datasetMap=ht(),N(i,function(t,e){null!=t&&(Zp.hasClass(e)?e&&(n.push(e),r.set(e,!0)):o[e]=null==o[e]?I(t):w(o[e],t,!0))}),c&&c.each(function(t,e){r.get(e)||(n.push(e),r.set(e,!0))}),Zp.topologicalTravel(n,Zp.getAllClassMainTypes(),function(r){var t=function(t,e,n){return(e=md.get(e))&&(t=e(t))?n.concat(t):n}(this,r,tu(i[r])),e=u.get(r),n=e?c&&c.get(r)?"replaceMerge":"normalMerge":"replaceAll",n=ou(e,t,n);cu(n,r,Zp),o[r]=null,u.set(r,null),h.set(r,0);var a=[],s=[],l=0;N(n,function(t,e){var n,i=t.existing,o=t.newOption;o?(n=Zp.getClass(r,t.keyInfo.subType,!0),i&&i.constructor===n?(i.name=t.keyInfo.name,i.mergeOption(o,this),i.optionUpdated(o,!1)):(e=D({componentIndex:e},t.keyInfo),D(i=new n(o,this,this,e),e),t.brandNew&&(i.__requireNewView=!0),i.init(o,this,this),i.optionUpdated(null,!0))):i&&(i.mergeOption({},this),i.optionUpdated({},!1)),i?(a.push(i.option),s.push(i),l++):(a.push(void 0),s.push(void 0))},this),o[r]=a,u.set(r,s),h.set(r,l),"series"===r&&fd(this)},this),this._seriesIndices||fd(this)},bd.prototype.getOption=function(){var a=I(this.option);return N(a,function(t,e){if(Zp.hasClass(e)){for(var n=tu(t),i=n.length,o=!1,r=i-1;0<=r;r--)n[r]&&!hu(n[r])?o=!0:(n[r]=null,o||i--);n.length=i,a[e]=n}}),delete a[_d],a},bd.prototype.getTheme=function(){return this._theme},bd.prototype.getLocaleModel=function(){return this._locale},bd.prototype.getLocale=function(t){return this.getLocaleModel().get(t)},bd.prototype.setUpdatePayload=function(t){this._payload=t},bd.prototype.getUpdatePayload=function(){return this._payload},bd.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){t=n[e||0];if(t)return t;if(null==e)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},bd.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,o=t.id,r=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=i?(n=[],N(tu(i),function(t){a[t]&&n.push(a[t])})):n=null!=o?wd("id",o,a):null!=r?wd("name",r,a):R(a,function(t){return!!t}),Sd(n,t)):[]},bd.prototype.findComponents=function(t){var e,n,i,o,r,a=t.query,s=t.mainType,l=(n=s+"Index",i=s+"Id",o=s+"Name",!(e=a)||null==e[n]&&null==e[i]&&null==e[o]?null:{mainType:s,index:e[n],id:e[i],name:e[o]}),l=l?this.queryComponents(l):R(this._componentsMap.get(s),function(t){return!!t});return r=Sd(l,t),t.filter?R(r,t.filter):r},bd.prototype.eachComponent=function(t,e,n){var i=this._componentsMap;if(F(t)){var o=e,r=t;i.each(function(t,e){for(var n=0;t&&n<t.length;n++){var i=t[n];i&&r.call(o,e,i,i.componentIndex)}})}else for(var a=H(t)?i.get(t):U(t)?this.findComponents(t):null,s=0;a&&s<a.length;s++){var l=a[s];l&&e.call(n,l,l.componentIndex)}},bd.prototype.getSeriesByName=function(e){return R(this._componentsMap.get("series"),function(t){return!!t&&t.name===e})},bd.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},bd.prototype.getSeriesByType=function(e){return R(this._componentsMap.get("series"),function(t){return!!t&&t.subType===e})},bd.prototype.getSeries=function(){return R(this._componentsMap.get("series").slice(),function(t){return!!t})},bd.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},bd.prototype.eachSeries=function(n,i){gd(this),N(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];n.call(i,e,t)},this)},bd.prototype.eachRawSeries=function(e,n){N(this._componentsMap.get("series"),function(t){t&&e.call(n,t,t.componentIndex)})},bd.prototype.eachSeriesByType=function(n,i,o){gd(this),N(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];e.subType===n&&i.call(o,e,t)},this)},bd.prototype.eachRawSeriesByType=function(t,e,n){return N(this.getSeriesByType(t),e,n)},bd.prototype.isSeriesFiltered=function(t){return gd(this),null==this._seriesIndicesMap.get(t.componentIndex)},bd.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},bd.prototype.filterSeries=function(n,i){gd(this);var o=[];N(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];n.call(i,e,t)&&o.push(t)},this),this._seriesIndices=o,this._seriesIndicesMap=ht(o)},bd.prototype.restoreData=function(n){fd(this);var t=this._componentsMap,i=[];t.each(function(t,e){i.push(e)}),Zp.topologicalTravel(i,Zp.getAllClassMainTypes(),function(e){N(t.get(e),function(t){!t||"series"===e&&function(t,e){if(e){var n=e.seriesIndex,i=e.seriesId,e=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=e&&t.name!==e}}(t,n)||t.restoreData()})})},bd.internalField=(fd=function(t){var e=t._seriesIndices=[];N(t._componentsMap.get("series"),function(t){t&&e.push(t.componentIndex)}),t._seriesIndicesMap=ht(e)},gd=function(t){0},void(yd=function(t,e){var n,i,o;t.option={},t.option[_d]=1,t._componentsMap=ht({series:[]}),t._componentsCount=ht(),n=e,i=t._theme.option,o=n.color&&!n.colorLayer,N(i,function(t,e){"colorLayer"===e&&o||Zp.hasClass(e)||("object"==typeof t?n[e]=n[e]?w(n[e],t,!1):I(t):null==n[e]&&(n[e]=t))}),w(e,qp,!1),t._mergeOption(e,null)})),bd);function bd(){return null!==vd&&vd.apply(this,arguments)||this}function wd(e,n,t){if(V(n)){var i=ht(n);return N(n,function(t){null!=t&&i.set(t,!0)}),R(t,function(t){return t&&i.get(t[e])})}return R(t,function(t){return t&&t[e]===n+""})}function Sd(t,e){return e.hasOwnProperty("subType")?R(t,function(t){return t&&t.subType===e.subType}):t}function Md(t){var e=ht();return t&&N(tu(t.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}C(xd,Kp);function Td(e){N(Cd,function(t){this[t]=z(e[t],e)},this)}var Cd=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel","getId","updateLabelLayout"],Id={},Dd=(Ad.prototype.create=function(n,i){var o=[];N(Id,function(t,e){t=t.create(n,i);o=o.concat(t||[])}),this._coordinateSystems=o},Ad.prototype.update=function(e,n){N(this._coordinateSystems,function(t){t.update&&t.update(e,n)})},Ad.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},Ad.register=function(t,e){Id[t]=e},Ad.get=function(t){return Id[t]},Ad);function Ad(){this._coordinateSystems=[]}var kd=/^(min|max)?(.+)$/,Ld=(Pd.prototype.setOption=function(t,e,n){t&&(N(tu(t.series),function(t){t&&t.data&&X(t.data)&&at(t.data)}),N(tu(t.dataset),function(t){t&&t.source&&X(t.source)&&at(t.source)})),t=I(t);var i=this._optionBackup,e=function(t,n,i){var e,o,r=[],a=t.baseOption,s=t.timeline,l=t.options,u=t.media,h=!!t.media,c=!!(l||s||a&&a.timeline);a?(o=a).timeline||(o.timeline=s):((c||h)&&(t.options=t.media=null),o=t);h&&N(u,function(t){t&&t.option&&(t.query?r.push(t):e=e||t)});function p(e){N(n,function(t){t(e,i)})}return p(o),N(l,p),N(r,function(t){return p(t.option)}),{baseOption:o,timelineOptions:l||[],mediaDefault:e,mediaList:r}}(t,e,!i);this._newBaseOption=e.baseOption,i?(e.timelineOptions.length&&(i.timelineOptions=e.timelineOptions),e.mediaList.length&&(i.mediaList=e.mediaList),e.mediaDefault&&(i.mediaDefault=e.mediaDefault)):this._optionBackup=e},Pd.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],I(t?e.baseOption:this._newBaseOption)},Pd.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;return!n.length||(t=t.getComponent("timeline"))&&(e=I(n[t.getCurrentIndex()])),e},Pd.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,r=[],a=[];if(!i.length&&!o)return a;for(var s,l,u=0,h=i.length;u<h;u++)!function(t,e,n){var i={width:e,height:n,aspectratio:e/n},o=!0;return N(t,function(t,e){var n=e.match(kd);n&&n[1]&&n[2]&&(e=n[1],n=n[2].toLowerCase(),n=i[n],t=t,("min"===(e=e)?t<=n:"max"===e?n<=t:n===t)||(o=!1))}),o}(i[u].query,e,n)||r.push(u);return!r.length&&o&&(r=[-1]),r.length&&(s=r,l=this._currentMediaIndices,s.join(",")!==l.join(","))&&(a=P(r,function(t){return I((-1===t?o:i[t]).option)})),this._currentMediaIndices=r,a},Pd);function Pd(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}var Od=N,Rd=U,Nd=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Ed(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=Nd.length;n<i;n++){var o=Nd[n],r=e.normal,a=e.emphasis;r&&r[o]&&(t[o]=t[o]||{},t[o].normal?w(t[o].normal,r[o]):t[o].normal=r[o],r[o]=null),a&&a[o]&&(t[o]=t[o]||{},t[o].emphasis?w(t[o].emphasis,a[o]):t[o].emphasis=a[o],a[o]=null)}}function zd(t,e,n){var i,o;t&&t[e]&&(t[e].normal||t[e].emphasis)&&(i=t[e].normal,o=t[e].emphasis,i&&(n?(t[e].normal=t[e].emphasis=null,A(t[e],i)):t[e]=i),o&&(t.emphasis=t.emphasis||{},(t.emphasis[e]=o).focus&&(t.emphasis.focus=o.focus),o.blurScope&&(t.emphasis.blurScope=o.blurScope)))}function Bd(t){zd(t,"itemStyle"),zd(t,"lineStyle"),zd(t,"areaStyle"),zd(t,"label"),zd(t,"labelLine"),zd(t,"upperLabel"),zd(t,"edgeLabel")}function Vd(t,e){var n=Rd(t)&&t[e],i=Rd(n)&&n.textStyle;if(i){0;for(var o=0,r=nu.length;o<r;o++){var a=nu[o];i.hasOwnProperty(a)&&(n[a]=i[a])}}}function Fd(t){t&&(Bd(t),Vd(t,"label"),t.emphasis&&Vd(t.emphasis,"label"))}function Hd(t){return V(t)?t:t?[t]:[]}function Gd(t){return(V(t)?t[0]:t)||{}}function Wd(e,t){Od(Hd(e.series),function(t){Rd(t)&&function(t){if(Rd(t)){Ed(t),Bd(t),Vd(t,"label"),Vd(t,"upperLabel"),Vd(t,"edgeLabel"),t.emphasis&&(Vd(t.emphasis,"label"),Vd(t.emphasis,"upperLabel"),Vd(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Ed(e),Fd(e));var n=t.markLine;n&&(Ed(n),Fd(n));var i=t.markArea;i&&Fd(i);var o=t.data;if("graph"===t.type){o=o||t.nodes;var r=t.links||t.edges;if(r&&!X(r))for(var a=0;a<r.length;a++)Fd(r[a]);N(t.categories,function(t){Bd(t)})}if(o&&!X(o))for(a=0;a<o.length;a++)Fd(o[a]);if((e=t.markPoint)&&e.data)for(var s=e.data,a=0;a<s.length;a++)Fd(s[a]);if((n=t.markLine)&&n.data)for(var l=n.data,a=0;a<l.length;a++)V(l[a])?(Fd(l[a][0]),Fd(l[a][1])):Fd(l[a]);"gauge"===t.type?(Vd(t,"axisLabel"),Vd(t,"title"),Vd(t,"detail")):"treemap"===t.type?(zd(t.breadcrumb,"itemStyle"),N(t.levels,function(t){Bd(t)})):"tree"===t.type&&Bd(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Od(n,function(t){Od(Hd(e[t]),function(t){t&&(Vd(t,"axisLabel"),Vd(t.axisPointer,"label"))})}),Od(Hd(e.parallel),function(t){t=t&&t.parallelAxisDefault;Vd(t,"axisLabel"),Vd(t&&t.axisPointer,"label")}),Od(Hd(e.calendar),function(t){zd(t,"itemStyle"),Vd(t,"dayLabel"),Vd(t,"monthLabel"),Vd(t,"yearLabel")}),Od(Hd(e.radar),function(t){Vd(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)}),Od(Hd(e.geo),function(t){Rd(t)&&(Fd(t),Od(Hd(t.regions),function(t){Fd(t)}))}),Od(Hd(e.timeline),function(t){Fd(t),zd(t,"label"),zd(t,"itemStyle"),zd(t,"controlStyle",!0);t=t.data;V(t)&&N(t,function(t){U(t)&&(zd(t,"label"),zd(t,"itemStyle"))})}),Od(Hd(e.toolbox),function(t){zd(t,"iconStyle"),Od(t.feature,function(t){zd(t,"iconStyle")})}),Vd(Gd(e.axisPointer),"label"),Vd(Gd(e.tooltip).axisPointer,"label")}function Ud(e){e&&N(Zd,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Zd=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Xd=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Yd=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function qd(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Yd.length;n++){var i=Yd[n][1],o=Yd[n][0];null!=e[i]&&(e[o]=e[i])}}function jd(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function Kd(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function $d(e,t){Wd(e,t),e.series=tu(e.series),N(e.series,function(t){if(U(t)){var e,n,i=t.type;if("line"===i)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=t.clockWise&&(t.clockwise=t.clockWise),jd(t.label),(e=t.data)&&!X(e))for(var o=0;o<e.length;o++)jd(e[o]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===i){var r=function(t,e){for(var n=e.split(","),i=t,o=0;o<n.length&&null!=(i=i&&i[n[o]]);o++);return i}(t,"pointer.color");null!=r&&function(t,e,n,i){for(var o,r=e.split(","),a=t,s=0;s<r.length-1;s++)null==a[o=r[s]]&&(a[o]={}),a=a[o];!i&&null!=a[r[s]]||(a[r[s]]=n)}(t,"itemStyle.color",r)}else if("bar"===i){if(qd(t),qd(t.backgroundStyle),qd(t.emphasis),(e=t.data)&&!X(e))for(o=0;o<e.length;o++)"object"==typeof e[o]&&(qd(e[o]),qd(e[o]&&e[o].emphasis))}else{"sunburst"===i?((n=t.highlightPolicy)&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=n)),Kd(t),function t(e,n){if(e)for(var i=0;i<e.length;i++)n(e[i]),e[i]&&t(e[i].children,n)}(t.data,Kd)):"graph"===i||"sankey"===i?(n=t)&&null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency")):"map"===i&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&A(t,t.mapLocation))}null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),Ud(t)}}),e.dataRange&&(e.visualMap=e.dataRange),N(Xd,function(t){t=e[t];t&&(V(t)||(t=[t]),N(t,function(t){Ud(t)}))})}function Jd(g){N(g,function(u,h){var c=[],p=[NaN,NaN],t=[u.stackResultDimension,u.stackedOverDimension],d=u.data,f=u.isStackedByIndex,t=d.map(t,function(t,e,n){var i,o,r=d.get(u.stackedDimension,n);if(isNaN(r))return p;f?o=d.getRawIndex(n):i=d.get(u.stackedByDimension,n);for(var a=NaN,s=h-1;0<=s;s--){var l=g[s];if(f||(o=l.data.rawIndexOf(l.stackedByDimension,i)),0<=o){l=l.data.getByRawIndex(l.stackResultDimension,o);if(0<=r&&0<l||r<=0&&l<0){r+=l,a=l;break}}}return c[0]=r,c[1]=a,c});d.hostModel.setData(t),u.data=t})}var Qd,tf,ef=function(t){this.data=t.data||(t.sourceFormat===nd?{}:[]),this.sourceFormat=t.sourceFormat||od,this.seriesLayoutBy=t.seriesLayoutBy||rd,this.startIndex=t.startIndex||0,this.dimensionsDefine=t.dimensionsDefine,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.encodeDefine=t.encodeDefine,this.metaRawOption=t.metaRawOption};function nf(t){return t instanceof ef}function of(t,e,n,i){var o=function(t,e,n,i,o){var r,a;if(!t)return{dimensionsDefine:sf(o),startIndex:a,dimensionsDetectedCount:r};{var s;e===td?(s=t,"auto"===i||null==i?lf(function(t){null!=t&&"-"!==t&&(H(t)?null==a&&(a=1):a=0)},n,s,10):a=W(i)?i:i?1:0,o||1!==a||(o=[],lf(function(t,e){o[e]=null!=t?t+"":""},n,s,1/0)),r=o?o.length:n===ad?s.length:s[0]?s[0].length:null):e===ed?o=o||function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e){var i=[];return N(e,function(t,e){i.push(e)}),i}}(t):e===nd?o||(o=[],N(t,function(t,e){o.push(e)})):e===Qp&&(t=iu(t[0]),r=V(t)&&t.length||1)}return{startIndex:a,dimensionsDefine:sf(o),dimensionsDetectedCount:r}}(t,n=n||function(t){var e=od;if(X(t))e=id;else if(V(t)){0===t.length&&(e=td);for(var n=0,i=t.length;n<i;n++){var o=t[n];if(null!=o){if(V(o)){e=td;break}if(U(o)){e=ed;break}}}}else if(U(t)){for(var r in t)if(pt(t,r)&&L(t[r])){e=nd;break}}else if(null!=t)throw new Error("Invalid data");return e}(t),e.seriesLayoutBy,e.sourceHeader,e.dimensions);return new ef({data:t,sourceFormat:n,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,encodeDefine:af(i),metaRawOption:I(e)})}function rf(t){return new ef({data:t,sourceFormat:X(t)?id:Qp})}function af(t){return t?ht(t):null}function sf(t){if(t){var i=ht();return P(t,function(t,e){if(null==(t=D({},U(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var n=i.get(t.name);return n?t.name+="-"+n.count++:i.set(t.name,{count:1}),t})}}function lf(t,e,n,i){if(e===ad)for(var o=0;o<n.length&&o<i;o++)t(n[o]?n[o][0]:null,o);else for(var r=n[0]||[],o=0;o<r.length&&o<i;o++)t(r[o],o)}var uf=(hf.prototype.getSource=function(){return this._source},hf.prototype.count=function(){return 0},hf.prototype.getItem=function(t,e){},hf.prototype.appendData=function(t){},hf.prototype.clean=function(){},hf.protoInitialize=((Sa=hf.prototype).pure=!1,void(Sa.persistent=!0)),hf.internalField=function(){var t;tf=function(t,e,n){var i=n.sourceFormat,o=n.seriesLayoutBy,r=n.startIndex,a=n.dimensionsDefine,n=Qd[mf(i,o)];D(t,n),i===id?(t.getItem=s,t.count=u,t.fillStorage=l):(n=pf(i,o),t.getItem=z(n,null,e,r,a),o=ff(i,o),t.count=z(o,null,e,r,a))};var s=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,i=this._dimSize,o=i*t,r=0;r<i;r++)e[r]=n[o+r];return e},l=function(t,e,n,i){for(var o=this._data,r=this._dimSize,a=0;a<r;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],h=e-t,c=n[a],p=0;p<h;p++){var d=o[(t+p)*r+a];(c[t+p]=d)<l&&(l=d),u<d&&(u=d)}s[0]=l,s[1]=u}},u=function(){return this._data?this._data.length/this._dimSize:0};function e(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[td+"_"+rd]={pure:!0,appendData:e},t[td+"_"+ad]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[ed]={pure:!0,appendData:e},t[nd]={pure:!0,appendData:function(t){var o=this._data;N(t,function(t,e){for(var n=o[e]||(o[e]=[]),i=0;i<(t||[]).length;i++)n.push(t[i])})}},t[Qp]={appendData:e},t[id]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Qd=t}(),hf);function hf(t,e){var n=nf(t)?t:rf(t);this._source=n;t=this._data=n.data;n.sourceFormat===id&&(this._offset=0,this._dimSize=e,this._data=t),tf(this,t,n)}var qh=function(t,e,n,i){return t[i]},cf=((Jh={})[td+"_"+rd]=function(t,e,n,i){return t[i+e]},Jh[td+"_"+ad]=function(t,e,n,i){i+=e;for(var o=[],r=t,a=0;a<r.length;a++){var s=r[a];o.push(s?s[i]:null)}return o},Jh[ed]=qh,Jh[nd]=function(t,e,n,i){for(var o=[],r=0;r<n.length;r++){var a=n[r].name;0;a=t[a];o.push(a?a[i]:null)}return o},Jh[Qp]=qh,Jh);function pf(t,e){e=cf[mf(t,e)];return e}var aa=function(t,e,n){return t.length},df=((n={})[td+"_"+rd]=function(t,e,n){return Math.max(0,t.length-e)},n[td+"_"+ad]=function(t,e,n){t=t[0];return t?Math.max(0,t.length-e):0},n[ed]=aa,n[nd]=function(t,e,n){n=n[0].name;n=t[n];return n?n.length:0},n[Qp]=aa,n);function ff(t,e){e=df[mf(t,e)];return e}var Oa=function(t,e,n){return null!=e?t[e]:t},gf=((r={})[td]=Oa,r[ed]=function(t,e,n){return null!=e?t[n]:t},r[nd]=Oa,r[Qp]=function(t,e,n){t=iu(t);return null!=e&&t instanceof Array?t[e]:t},r[id]=Oa,r);function yf(t){t=gf[t];return t}function mf(t,e){return t===td?t+"_"+e:t}function vf(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var o,r,e=t.getProvider().getSource().sourceFormat,n=t.getDimensionInfo(n);return n&&(o=n.name,r=n.index),yf(e)(i,r,o)}}}var _f=/\{@(.+?)\}/g,Ou=(xf.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),o=n.getRawIndex(t),r=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),l=s&&s[n.getItemVisual(t,"drawType")||"fill"],u=s&&s.stroke,t=this.mainType,s="series"===t,n=n.userOutput;return{componentType:t,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:s?this.subType:null,seriesIndex:this.seriesIndex,seriesId:s?this.id:null,seriesName:s?this.name:null,name:r,dataIndex:o,data:a,dataType:e,value:i,color:l,borderColor:u,dimensionNames:n?n.dimensionNames:null,encode:n?n.encode:null,$vars:["seriesName","name","value"]}},xf.prototype.getFormattedLabel=function(i,t,e,n,o,r){t=t||"normal";var a=this.getData(e),e=this.getDataParams(i,e);return r&&D(e,r),null!=n&&e.value instanceof Array&&(e.value=e.value[n]),"function"==typeof(o=o||a.getItemModel(i).get("normal"===t?["label","formatter"]:[t,"label","formatter"]))?(e.status=t,e.dimensionIndex=n,o(e)):"string"==typeof o?Mp(o,e).replace(_f,function(t,e){var n=e.length;return"["===e.charAt(0)&&"]"===e.charAt(n-1)&&(e=+e.slice(1,n-1)),vf(a,i,e)}):void 0},xf.prototype.getRawValue=function(t,e){return vf(this.getData(e),t)},xf.prototype.formatTooltip=function(t,e,n){},xf);function xf(){}function bf(t){var e,n;return U(t)?t.type&&(n=t):e=t,{markupText:e,markupFragment:n}}function wf(t){return new Sf(t)}var Sf=(Mf.prototype.perform=function(t){var e,n=this._upstream,i=t&&t.skip;this._dirty&&n&&((r=this.context).data=r.outputData=n.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var o=l(this._modBy),r=this._modDataCount||0,a=l(t&&t.modBy),s=t&&t.modDataCount||0;function l(t){return 1<=t||(t=1),t}o===a&&r===s||(e="reset"),!this._dirty&&"reset"!==e||(this._dirty=!1,d=this._doReset(i)),this._modBy=a,this._modDataCount=s;t=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var u=this._dueIndex,h=Math.min(null!=t?this._dueIndex+t:1/0,this._dueEnd);if(!i&&(d||u<h)){var c=this._progress;if(V(c))for(var p=0;p<c.length;p++)this._doProgress(c[p],u,h,a,s);else this._doProgress(c,u,h,a,s)}this._dueIndex=h;var d=null!=this._settedOutputEnd?this._settedOutputEnd:h;0,this._outputDueEnd=d}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Mf.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Mf.prototype._doProgress=function(t,e,n,i,o){Lf.reset(e,n,i,o),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:Lf.next},this.context)},Mf.prototype._doReset=function(t){var e;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((n=this._reset(this.context))&&n.progress&&(e=n.forceFirstProgress,n=n.progress),V(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var n=this._downstream;return n&&n.dirty(),e},Mf.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Mf.prototype.pipe=function(t){this._downstream===t&&!this._dirty||((this._downstream=t)._upstream=this,t.dirty())},Mf.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Mf.prototype.getUpstream=function(){return this._upstream},Mf.prototype.getDownstream=function(){return this._downstream},Mf.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},Mf);function Mf(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}var Tf,Cf,If,Df,Af,kf,Lf=kf={reset:function(t,e,n,i){Cf=t,Tf=e,If=n,Df=i,Af=Math.ceil(Df/If),kf.next=1<If&&0<Df?Of:Pf}};function Pf(){return Cf<Tf?Cf++:null}function Of(){var t=Cf%Af*If+Math.ceil(Cf/Af),t=Tf<=Cf?null:t<Df?t:Cf;return Cf++,t}function Rf(t,e){var n=e&&e.type;if("ordinal"!==n)return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Ul(t)),null==t||""===t?NaN:+t;e=e&&e.ordinalMeta;return e?e.parseAndCollect(t):t}ht({number:function(t){return parseFloat(t)},time:function(t){return+Ul(t)},trim:function(t){return"string"==typeof t?ot(t):t}});var Nf=(Ef.prototype.evaluate=function(t,e){var n=typeof t,i=typeof e,o="number"==n?t:ql(t),r="number"==i?e:ql(e),a=isNaN(o),s=isNaN(r);return a&&(o=this._incomparable),s&&(r=this._incomparable),a&&s&&(i="string"==i,(n="string"==n)&&(o=i?t:0),i&&(r=n?e:0)),o<r?this._resultLT:r<o?-this._resultLT:0},Ef);function Ef(t,e){t="desc"===t;this._resultLT=t?1:-1,null==e&&(e=t?"min":"max"),this._incomparable="min"===e?-1/0:1/0}var zf=(Bf.prototype.getDimensionInfo=function(t){},Bf.prototype.getDimensionInfoAll=function(){},Bf.prototype.getRawDataItem=function(t){},Bf.prototype.getRawHeaderItem=function(t){},Bf.prototype.count=function(){},Bf.prototype.retrieveItemValue=function(t,e){},Bf.prototype.convertDataValue=Rf,Bf);function Bf(){}function Vf(t){var e=new zf,n=e.data=t.data,i=e.sourceFormat=t.sourceFormat,o=e.sourceHeaderCount=t.startIndex,r=[],a={},s=t.dimensionsDefine;if(s)N(s,function(t,e){var n=t.name,e={index:e,name:n,displayName:t.displayName};r.push(e),null!=n&&(t="",pt(a,n)&&kh(t),a[n]=e)});else for(var l=0;l<t.dimensionsDetectedCount;l++)r.push({index:l});var u=pf(i,rd);e.getRawDataItem=z(u,null,n,o,r),e.getRawHeaderItem=function(t){if(t<o)return u(n,0,r,t)};s=ff(i,rd);e.count=z(s,null,n,o,r);var h=yf(i);return e.retrieveItemValue=function(t,e){if(null!=t){var n=r[e];return n?h(t,e,n.name):void 0}},e.getDimensionInfo=z(Ff,null,r,a),e.getDimensionInfoAll=z(Hf,null,r),e}function Ff(t,e,n){if(null!=n)return"number"==typeof n||!isNaN(n)&&!pt(e,n)?t[n]:pt(e,n)?e[n]:void 0}function Hf(t){return t}var Gf=ht();function Wf(t,e){var n=tu(t),i=n.length,t="";i||kh(t);for(var o=0,r=i;o<r;o++){e=function(t,n){var e="";n.length||kh(e);U(t)||kh(e);var i=t.type,i=Gf.get(i);i||kh(e);e=P(n,Vf),t=tu(i.transform({source:e[0],sourceList:e,config:I(t.config)}));{}return P(t,function(t){var e="";U(t)||kh(e),U(t.data)||L(t.data)||kh(e);e=ud({parent:n[0].metaRawOption,thisNew:{seriesLayoutBy:rd,sourceHeader:t.sourceHeader,dimensions:t.dimensions}});return of(t.data,e,null,null)})}(n[o],e),o!==r-1&&(e.length=Math.max(e.length,1))}return e}var Uf=(Zf.prototype.dirty=function(){this._setLocalSource([],[])},Zf.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,9e10<this._versionSignBase&&(this._versionSignBase=0)},Zf.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},Zf.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},Zf.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n,i,o,r=this._sourceHost,a=this._getUpstreamSourceManagers(),s=!!a.length;Yf(r)?(o=r,n=e=t=void 0,i=s?((i=a[0]).prepareSource(),t=(n=i.getSource()).data,e=n.sourceFormat,[i._getVersionSign()]):(e=X(t=o.get("data",!0))?id:Qp,[]),o=[of(t,ud({parent:n?n.metaRawOption:null,thisNew:this._createSourceMetaRawOption()}),e,o.get("encode",!0))]):(r=r,i=s?(o=(a=this._applyTransform(a)).sourceList,a.upstreamSignList):(o=[of(r.get("source",!0),this._createSourceMetaRawOption(),null,null)],[])),this._setLocalSource(o,i)},Zf.prototype._applyTransform=function(t){var e,n,i=this._sourceHost,o=i.get("transform",!0),r=i.get("fromTransformResult",!0);null!=r&&(e="",1!==t.length&&qf(e));var a=[],s=[];return N(t,function(t){t.prepareSource();var e=t.getSource(r||0),n="";null==r||e||qf(n),a.push(e),s.push(t._getVersionSign())}),o?n=Wf(o,a,i.componentIndex):null!=r&&(n=[(i=a[0],new ef({data:i.data,sourceFormat:i.sourceFormat,seriesLayoutBy:i.seriesLayoutBy,dimensionsDefine:I(i.dimensionsDefine),startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,encodeDefine:af(i.encodeDefine)}))]),{sourceList:n,upstreamSignList:s}},Zf.prototype._isDirty=function(){if(!this._sourceList.length)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},Zf.prototype.getSource=function(t){return this._sourceList[t||0]},Zf.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Yf(t)){var e=pd(t);return e?[e.getSourceManager()]:[]}return P((t=t).get("transform",!0)||t.get("fromTransformResult",!0)?vu(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},yu).models:[],function(t){return t.getSourceManager()})},Zf.prototype._createSourceMetaRawOption=function(){var t,e,n,i=this._sourceHost;return Yf(i)?(t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(t=(i=i).get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)),{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},Zf);function Zf(t){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=t}function Xf(t){t.option.transform&&at(t.option.transform)}function Yf(t){return"series"===t.mainType}function qf(t){throw new Error(t)}var jf="font-size:12px;color:#6e7079",Kf={fontSize:12,fill:"#6e7079"},$f={fontSize:14,fill:"#464646",fontWeight:900},Jf="line-height:1",Qf=[0,10,20,30],tg=["","\n","\n\n","\n\n\n"];function eg(t,e){return e.type=t,e}function ng(t){return pt(ig,t.type)&&ig[t.type]}var ig={section:{planLayout:function(t){var e=t.blocks.length,n=1<e||0<e&&!t.noHeader,i=0;N(t.blocks,function(t){ng(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;i<=e&&(i=e+(!n||e&&("section"!==t.type||t.noHeader)?0:1))}),t.__gapLevelBetweenSubBlocks=i},build:function(t,e,n){var i=e.noHeader,o=rg(e),r=function(n,t,e){var i=[],o=t.blocks||[];it(!o||V(o)),o=o||[];var r=n.orderMode;{var a,s;t.sortBlocks&&r&&(o=o.slice(),pt(a={valueAsc:"asc",valueDesc:"desc"},r)?(s=new Nf(a[r],null),o.sort(function(t,e){return s.evaluate(t.sortParam,e.sortParam)})):"seriesDesc"===r&&o.reverse())}var l=rg(t);return N(o,function(t,e){e=ng(t).build(n,t,0<e?l.html:0);null!=e&&i.push(e)}),i.length?"richText"===n.renderMode?i.join(l.richText):ag(i.join(""),e):void 0}(t,e,i?n:o.html);if(i)return r;e=bp(e.header,"ordinal");return"richText"===t.renderMode?sg(t,e)+o.richText+r:ag('<div style="'+jf+";"+Jf+';">'+xp(e)+"</div>"+r,n)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,n){var i=t.renderMode,o=e.noName,r=e.noValue,a=!e.markerType,s=e.name,l=e.value;if(!o||!r){var u=a?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),h=o?"":bp(s,"ordinal"),c=e.valueType,p=r?[]:V(l)?P(l,function(t,e){return bp(t,V(c)?c[e]:c)}):[bp(l,V(c)?c[0]:c)],d=!a||!o,s=!a&&o;return"richText"===i?(a?"":u)+(o?"":sg(t,h))+(r?"":(e=t,l=p,i=[$f],t=(t=s)?10:20,d&&i.push({padding:[0,0,0,t],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(l.join("  "),i))):ag((a?"":u)+(o?"":'<span style="'+jf+";"+(!a?"margin-left:2px":"")+'">'+xp(h)+"</span>")+(r?"":function(t,e,n){n=n?"10px":"20px";return'<span style="'+(e?"float:right;margin-left:"+n:"")+';font-size:14px;color:#464646;font-weight:900">'+P(t,xp).join("&nbsp;&nbsp;")+"</span>"}(p,d,s)),n)}}}};function og(t,e,n,i){if(t){var o=ng(t);o.planLayout(t);e={renderMode:n,orderMode:i,markupStyleCreator:e};return o.build(e,t,0)}}function rg(t){t=t.__gapLevelBetweenSubBlocks;return{html:Qf[t],richText:tg[t]}}function ag(t,e){return'<div style="'+("margin: "+e+"px 0 0")+";"+Jf+';">'+t+'<div style="clear:both"></div></div>'}function sg(t,e){return t.markupStyleCreator.wrapRichTextStyle(e,Kf)}function lg(t,e){t=t.get("padding");return null!=t?t:"richText"===e?[8,10]:10}var ug=(hg.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},hg.prototype.makeTooltipMarker=function(t,e,n){var i="richText"===n?this._generateStyleName():null,n=Tp({color:e,type:t,renderMode:n,markerId:i});return H(n)?n:(this.richTextStyles[i]=n.style,n.content)},hg.prototype.wrapRichTextStyle=function(t,e){var n={};V(e)?N(e,function(t){return D(n,t)}):D(n,e);e=this._generateStyleName();return this.richTextStyles[e]=n,"{"+e+"|"+t+"}"},hg);function hg(){this.richTextStyles={},this._nextStyleNameId=Kl()}function cg(t){var e,n,i,o,r,a,s,l,u,h,c,p,d=t.series,f=t.dataIndex,g=t.multipleSeries,y=d.getData(),m=y.mapDimensionsAll("defaultedTooltip"),v=m.length,_=d.getRawValue(f),x=V(_),t=(e=f,Cp((t=d).getData().getItemVisual(e,"style")[t.visualDrawType]));function b(t,e){e=l.getDimensionInfo(e);e&&!1!==e.otherDims.tooltip&&(u?p.push(eg("nameValue",{markerType:"subItem",markerColor:s,name:e.displayName,value:t,valueType:e.type})):(h.push(t),c.push(e.type)))}1<v||x&&!v?(n=(i=(o=_,r=f,a=m,s=t,l=d.getData(),u=O(o,function(t,e,n){n=l.getDimensionInfo(n);return t||n&&!1!==n.tooltip&&null!=n.displayName},!1),h=[],c=[],p=[],a.length?N(a,function(t){b(vf(l,r,t),t)}):N(o,b),{inlineValues:h,inlineValueTypes:c,blocks:p})).inlineValueTypes,a=i.blocks,i=(o=i.inlineValues)[0]):v?(v=y.getDimensionInfo(m[0]),i=o=vf(y,f,m[0]),n=v.type):i=o=x?_[0]:_;_=uu(d),d=_&&d.name||"",f=y.getName(f),f=g?d:f;return eg("section",{header:d,noHeader:g||!_,sortParam:i,blocks:[eg("nameValue",{markerType:"item",markerColor:t,name:f,noName:!ot(f),value:o,valueType:n})].concat(a||[])})}var pg=du();function dg(t,e){return t.getName(e)||t.getId(e)}var fg,gg=(l(yg,fg=Zp),yg.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=wf({count:vg,reset:_g}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(pg(this).sourceManager=new Uf(this)).prepareSource();n=this.getInitialData(t,n);bg(n,this),this.dataTask.context.data=n,pg(this).dataBeforeProcessed=n,mg(this),this._initSelectedMapFromData(n)},yg.prototype.mergeDefaultAndTheme=function(t,e){var n=Ep(this),i=n?Bp(t):{},o=this.subType;Zp.hasClass(o),w(t,e.getTheme().get(this.subType)),w(t,this.getDefaultOption()),eu(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&zp(t,i,n)},yg.prototype.mergeOption=function(t,e){t=w(this.option,t,!0),this.fillDataTextStyle(t.data);var n=Ep(this);n&&zp(this.option,t,n);n=pg(this).sourceManager;n.dirty(),n.prepareSource();e=this.getInitialData(t,e);bg(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,pg(this).dataBeforeProcessed=e,mg(this),this._initSelectedMapFromData(e)},yg.prototype.fillDataTextStyle=function(t){if(t&&!X(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&eu(t[n],"label",e)},yg.prototype.getInitialData=function(t,e){},yg.prototype.appendData=function(t){this.getRawData().appendData(t.data)},yg.prototype.getData=function(t){var e=Sg(this);if(e){e=e.context.data;return null==t?e:e.getLinkedData(t)}return pg(this).data},yg.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},yg.prototype.setData=function(t){var e,n=Sg(this);n&&((e=n.context).outputData=t,n!==this.dataTask&&(e.data=t)),pg(this).data=t},yg.prototype.getSource=function(){return pg(this).sourceManager.getSource()},yg.prototype.getRawData=function(){return pg(this).dataBeforeProcessed},yg.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},yg.prototype.formatTooltip=function(t,e,n){return cg({series:this,dataIndex:t,multipleSeries:e})},yg.prototype.isAnimationEnabled=function(){if(v.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},yg.prototype.restoreData=function(){this.dataTask.dirty()},yg.prototype.getColorFromPalette=function(t,e,n){var i=this.ecModel;return Kp.prototype.getColorFromPalette.call(this,t,e,n)||i.getColorFromPalette(t,e,n)},yg.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},yg.prototype.getProgressive=function(){return this.get("progressive")},yg.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},yg.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},yg.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n)for(var i=this.getData(e),o=0;o<t.length;o++){var r=dg(i,t[o]);n[r]=!1,this._selectedDataIndicesMap[r]=-1}},yg.prototype.toggleSelect=function(t,e){for(var n=[],i=0;i<t.length;i++)n[0]=t[i],this.isSelected(t[i],e)?this.unselect(n,e):this.select(n,e)},yg.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,e=E(t),n=[],i=0;i<e.length;i++){var o=t[e[i]];0<=o&&n.push(o)}return n},yg.prototype.isSelected=function(t,e){var n=this.option.selectedMap;return n&&n[dg(this.getData(e),t)]||!1},yg.prototype._innerSelect=function(t,e){var n,i=this.option.selectedMode,o=e.length;if(i&&o)if("multiple"===i)for(var r=this.option.selectedMap||(this.option.selectedMap={}),a=0;a<o;a++){var s,l=e[a];r[s=dg(t,l)]=!0,this._selectedDataIndicesMap[s]=t.getRawIndex(l)}else"single"!==i&&!0!==i||(s=dg(t,n=e[o-1]),this.option.selectedMap=((i={})[s]=!0,i),this._selectedDataIndicesMap=((i={})[s]=t.getRawIndex(n),i))},yg.prototype._initSelectedMapFromData=function(n){var i;this.option.selectedMap||(i=[],n.hasItemOption&&n.each(function(t){var e=n.getRawDataItem(t);"object"==typeof e&&e.selected&&i.push(t)}),0<i.length&&this._innerSelect(n,i))},yg.registerClass=function(t){return Zp.registerClass(t)},yg.protoInitialize=((Zh=yg.prototype).type="series.__base__",Zh.seriesIndex=0,Zh.useColorPaletteOnData=!1,Zh.ignoreStyleOnData=!1,Zh.hasSymbolVisual=!1,Zh.defaultSymbol="circle",Zh.visualStyleAccessPath="itemStyle",void(Zh.visualDrawType="fill")),yg);function yg(){var t=null!==fg&&fg.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}function mg(t){var e,n,i=t.name;uu(t)||(t.name=(t=(e=(t=t).getRawData()).mapDimensionsAll("seriesName"),n=[],N(t,function(t){t=e.getDimensionInfo(t);t.displayName&&n.push(t.displayName)}),n.join(" ")||i))}function vg(t){return t.model.getRawData().count()}function _g(t){t=t.model;return t.setData(t.getRawData().cloneShallow()),xg}function xg(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function bg(e,n){N(a(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(t){e.wrapMethod(t,B(wg,n))})}function wg(t,e){t=Sg(t);return t&&t.setOutputEnd((e||this).count()),e}function Sg(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){e=n.currentTask;return!e||(n=e.agentStubMap)&&(e=n.get(t.uid)),e}}C(gg,Ou),C(gg,Kp),Cu(gg,Zp);var Mg=(Tg.prototype.init=function(t,e){},Tg.prototype.render=function(t,e,n,i){},Tg.prototype.dispose=function(t,e){},Tg.prototype.updateView=function(t,e,n,i){},Tg.prototype.updateLayout=function(t,e,n,i){},Tg.prototype.updateVisual=function(t,e,n,i){},Tg.prototype.blurSeries=function(t,e){},Tg);function Tg(){this.group=new Br,this.uid=rc("viewComponent")}function Cg(){var r=du();return function(t){var e=r(t),n=t.pipelineContext,i=!!e.large,o=!!e.progressiveRender,t=e.large=!(!n||!n.large),n=e.progressiveRender=!(!n||!n.progressiveRender);return!(i==t&&o==n)&&"reset"}}Tu(Mg),ku(Mg,{registerWhenExtend:!0});var Ig=du(),Dg=Cg(),Ag=(kg.prototype.init=function(t,e){},kg.prototype.render=function(t,e,n,i){},kg.prototype.highlight=function(t,e,n,i){Pg(t.getData(),i,"emphasis")},kg.prototype.downplay=function(t,e,n,i){Pg(t.getData(),i,"normal")},kg.prototype.remove=function(t,e){this.group.removeAll()},kg.prototype.dispose=function(t,e){},kg.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},kg.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},kg.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},kg.markUpdateMethod=function(t,e){Ig(t).updateMethod=e},kg.protoInitialize=void(kg.prototype.type="chart"),kg);function kg(){this.group=new Br,this.uid=rc("viewChart"),this.renderTask=wf({plan:Og,reset:Rg}),this.renderTask.context={view:this}}function Lg(t,e,n){t&&("emphasis"===e?dh:fh)(t,n)}function Pg(e,t,n){var i,o=pu(e,t),r=t&&null!=t.highlightKey?(i=t.highlightKey,null==(t=zu[i])&&Eu<=32&&(t=zu[i]=Eu++),t):null;null!=o?N(tu(o),function(t){Lg(e.getItemGraphicEl(t),n,r)}):e.eachItemGraphicEl(function(t){Lg(t,n,r)})}function Og(t){return Dg(t.model)}function Rg(t){var e=t.model,n=t.ecModel,i=t.api,o=t.payload,r=e.pipelineContext.progressiveRender,a=t.view,t=o&&Ig(o).updateMethod,t=r?"incrementalPrepareRender":t&&a[t]?t:"render";return"render"!==t&&a[t](e,n,i,o),Ng[t]}Tu(Ag),ku(Ag,{registerWhenExtend:!0});var Ng={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Eg="\0__throttleOriginMethod",zg="\0__throttleRate",Bg="\0__throttleType";function Vg(t,o,r){var a,s,l,u,h,c=0,p=0,d=null;function f(){p=(new Date).getTime(),d=null,t.apply(l,u||[])}o=o||0;function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a=(new Date).getTime(),l=this,u=t;var n=h||o,i=h||r;h=null,s=a-(i?c:p)-n,clearTimeout(d),i?d=setTimeout(f,n):0<=s?f():d=setTimeout(f,-s),c=a}return e.clear=function(){d&&(clearTimeout(d),d=null)},e.debounceNextCall=function(t){h=t},e}function Fg(t,e,n,i){var o=t[e];if(o){var r=o[Eg]||o,a=o[Bg];if(o[zg]!==n||a!==i){if(null==n||!i)return t[e]=r;(o=t[e]=Vg(r,n,"debounce"===i))[Eg]=r,o[Bg]=i,o[zg]=n}return o}}var Hg=du(),Gg={itemStyle:Lu(Kh,!0),lineStyle:Lu(Pi,!0)},Wg={lineStyle:"stroke",itemStyle:"fill"};function Ug(t,e){t=t.visualStyleMapper||Gg[e];return t||(console.warn("Unkown style type '"+e+"'."),Gg.itemStyle)}function Zg(t,e){t=t.visualDrawType||Wg[e];return t||(console.warn("Unkown style type '"+e+"'."),"fill")}var Sa={createOnAllSeries:!0,performRawSeries:!0,reset:function(o,t){var e=o.getData(),n=o.visualStyleAccessPath||"itemStyle",i=o.getModel(n),r=Ug(o,n)(i),a=Zg(o,n),n=r[a],s=F(n)?n:null;if(r[a]&&!s||(r[a]=o.getColorFromPalette(o.name,null,t.getSeriesCount()),e.setVisual("colorFromPalette",!0)),e.setVisual("style",r),e.setVisual("drawType",a),!t.isSeriesFiltered(o)&&s)return e.setVisual("colorFromPalette",!1),{dataEach:function(t,e){var n=o.getDataParams(e),i=D({},r);i[a]=s(n),t.setItemVisual(e,"style",i)}}}},Xg=new nc,qh={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var e=t.getData(),i=t.visualStyleAccessPath||"itemStyle",o=Ug(t,i),r=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(t,e){var n=t.getRawDataItem(e);n&&n[i]&&(Xg.option=n[i],n=o(Xg),D(t.ensureUniqueItemVisual(e,"style"),n),r in n&&t.setItemVisual(e,"colorFromPalette",!1))}:null}}}},Jh={createOnAllSeries:!0,performRawSeries:!0,overallReset:function(e){var n=ht();e.eachSeries(function(t){var e;t.useColorPaletteOnData&&((e=n.get(t.type))||(e={},n.set(t.type,e)),Hg(t).scope=e)}),e.eachSeries(function(n){var i,o,r,a,t,s;n.useColorPaletteOnData&&!e.isSeriesFiltered(n)&&(i=n.getRawData(),o={},r=n.getData(),a=Hg(n).scope,t=n.visualStyleAccessPath||"itemStyle",s=Zg(n,t),r.each(function(t){var e=r.getRawIndex(t);o[e]=t}),i.each(function(t){var e=o[t];r.getItemVisual(e,"colorFromPalette")&&(r.ensureUniqueItemVisual(e,"style")[s]=n.getColorFromPalette(i.getName(t)||t+"",a,i.count()))}))})}};function Yg(t,u){var h,c,p,e,d,r=u.getModel("aria");function f(t,e){if("string"!=typeof t)return t;var n=t;return N(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function g(t){var e=r.get(t);if(null!=e)return e;for(var n=t.split("."),i=u.getLocale("aria"),o=0;o<n.length;++o)i=i[n[o]];return i}r.get("show")&&(r.get("description")?t.setAttribute("aria-label",r.get("description")):(h=0,u.eachSeries(function(t,e){++h},this),c=r.get("data.maxCount")||10,e=r.get("series.maxCount")||10,p=Math.min(h,e),h<1||(e=(e=function(){var t=u.getModel("title").option;t&&t.length&&(t=t[0]);return t&&t.text}())?f(g("general.withTitle"),{title:e}):g("general.withoutTitle"),d=[],e+=f(g(1<h?"series.multiple.prefix":"series.single.prefix"),{seriesCount:h}),u.eachSeries(function(t,e){if(e<p){var n=void 0,i=t.get("name"),e="series."+(1<h?"multiple":"single")+".";n=f(n=g(i?e+"withName":e+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(e=t.subType,u.getLocale(["series","typeNames"])[e]||"自定义图")});var o=t.getData();(window.data=o).count()>c?n+=f(g("data.partialData"),{displayCnt:c}):n+=g("data.allData");for(var r,a,s=[],l=0;l<o.count();l++){l<c&&(r=o.getName(l),a=vf(o,l),s.push(f(g(r?"data.withName":"data.withoutName"),{name:r,value:a})))}n+=s.join(g("data.separator.middle"))+g("data.separator.end"),d.push(n)}}),e+=d.join(g("series.multiple.separator.middle"))+g("series.multiple.separator.end"),t.setAttribute("aria-label",e))))}var qg=Math.PI;var jg=(Kg.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){t=t.overallTask;t&&t.dirty()})},Kg.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,n=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,i=i&&i.modDataCount;return{step:n,modBy:null!=i?Math.ceil(i/n):null,modDataCount:i}}},Kg.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},Kg.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,e=t.get("large")&&i>=t.get("largeThreshold"),i="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:i,large:e}},Kg.prototype.restorePipelines=function(t){var i=this,o=i._pipelineMap=ht();t.eachSeries(function(t){var e=t.getProgressive(),n=t.uid;o.set(n,{id:n,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:e&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),i._pipe(t,t.dataTask)})},Kg.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.ecInstance.getModel(),o=this.api;N(this._allHandlers,function(t){var e=n.get(t.uid)||n.set(t.uid,{});t.reset&&this._createSeriesStageTask(t,e,i,o),t.overallReset&&this._createOverallStageTask(t,e,i,o)},this)},Kg.prototype.prepareView=function(t,e,n,i){var o=t.renderTask,r=o.context;r.model=e,r.ecModel=n,r.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},Kg.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},Kg.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},Kg.prototype._performStageTasks=function(t,s,l,u){u=u||{};var h=!1,c=this;function p(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}N(t,function(i,t){var e,n,o,r,a;u.visualType&&u.visualType!==i.visualType||(e=(r=c._stageTaskMap.get(i.uid)).seriesTaskMap,(n=r.overallTask)?((r=n.agentStubMap).each(function(t){p(u,t)&&(t.dirty(),o=!0)}),o&&n.dirty(),c.updatePayload(n,l),a=c.getPerformArgs(n,u.block),r.each(function(t){t.perform(a)}),n.perform(a)&&(h=!0)):e&&e.each(function(t,e){p(u,t)&&t.dirty();var n=c.getPerformArgs(t,u.block);n.skip=!i.performRawSeries&&s.isSeriesFiltered(t.context.model),c.updatePayload(t,l),t.perform(n)&&(h=!0)}))}),this.unfinished=h||this.unfinished},Kg.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e=t.dataTask.perform()||e}),this.unfinished=e||this.unfinished},Kg.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}}while(e=e.getUpstream())})},Kg.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},Kg.prototype._createSeriesStageTask=function(n,t,i,o){var r=this,a=t.seriesTaskMap||(t.seriesTaskMap=ht()),e=n.seriesType,t=n.getTargetSeries;function s(t){var e=t.uid,e=a.get(e)||a.set(e,wf({plan:ey,reset:ny,count:ry}));e.context={model:t,ecModel:i,api:o,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:r},r._pipe(t,e)}n.createOnAllSeries?i.eachRawSeries(s):e?i.eachRawSeriesByType(e,s):t&&t(i,o).each(s);var l=r._pipelineMap;a.each(function(t,e){l.get(e)||(t.dispose(),a.removeKey(e))})},Kg.prototype._createOverallStageTask=function(t,e,n,i){var o=this,r=e.overallTask=e.overallTask||wf({reset:$g});r.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:o};var a=r.agentStubMap=r.agentStubMap||ht(),e=t.seriesType,t=t.getTargetSeries,s=!0;function l(t){var e=t.uid,n=a.get(e);n||(n=a.set(e,wf({reset:Jg,onDirty:ty})),r.dirty()),n.context={model:t,overallProgress:s},n.agent=r,n.__block=s,o._pipe(t,n)}e?n.eachRawSeriesByType(e,l):t?t(n,i).each(l):(s=!1,N(n.getSeries(),l));var u=o._pipelineMap;a.each(function(t,e){u.get(e)||(t.dispose(),r.dirty(),a.removeKey(e))})},Kg.prototype._pipe=function(t,e){t=t.uid,t=this._pipelineMap.get(t);t.head||(t.head=e),t.tail&&t.tail.pipe(e),(t.tail=e).__idxInPipeline=t.count++,e.__pipeline=t},Kg.wrapStageHandler=function(t,e){return F(t)&&(t={overallReset:t,seriesType:function(t){ay=null;try{t(sy,ly)}catch(t){}return ay}(t)}),t.uid=rc("stageHandler"),e&&(t.visualType=e),t},Kg);function Kg(t,e,n,i){this._stageTaskMap=ht(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}function $g(t){t.overallReset(t.ecModel,t.api,t.payload)}function Jg(t){return t.overallProgress&&Qg}function Qg(){this.agent.dirty(),this.getDownstream().dirty()}function ty(){this.agent&&this.agent.dirty()}function ey(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function ny(t){t.useClearVisual&&t.data.clearAllVisual();t=t.resetDefines=tu(t.reset(t.model,t.ecModel,t.api,t.payload));return 1<t.length?P(t,function(t,e){return oy(e)}):iy}var iy=oy(0);function oy(r){return function(t,e){var n=e.data,i=e.resetDefines[r];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(n,o);else i&&i.progress&&i.progress(t,n)}}function ry(t){return t.data.count()}var ay,sy={},ly={};function uy(t,e){for(var n in e.prototype)t[n]=dt}uy(sy,xd),uy(ly,Td),sy.eachSeriesByType=sy.eachRawSeriesByType=function(t){ay=t},sy.eachComponent=function(t){"series"===t.mainType&&t.subType&&(ay=t.subType)};var aa=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],n={color:aa,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],aa]},hy="#B9B8CE",Oa="#100C2A",r=function(){return{axisLine:{lineStyle:{color:hy}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Zh=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Kh={darkMode:!0,color:Zh,backgroundColor:Oa,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:hy}},textStyle:{color:hy},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:hy}},dataZoom:{borderColor:"#71708A",textStyle:{color:hy},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:hy}},timeline:{lineStyle:{color:hy},label:{textStyle:{color:hy}},controlStyle:{color:hy,borderColor:hy}},calendar:{itemStyle:{color:Oa},dayLabel:{color:hy},monthLabel:{color:hy},yearLabel:{color:hy}},timeAxis:r(),logAxis:r(),valueAxis:r(),categoryAxis:r(),line:{symbol:"circle"},graph:{color:Zh},gauge:{title:{textStyle:{color:hy}}},candlestick:{itemStyle:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}};Kh.categoryAxis.splitLine.show=!1;var cy,Pi=(l(py,cy=Zp),py.prototype.init=function(t,e,n){cy.prototype.init.call(this,t,e,n),this._sourceManager=new Uf(this),Xf(this)},py.prototype.mergeOption=function(t,e){cy.prototype.mergeOption.call(this,t,e),Xf(this)},py.prototype.optionUpdated=function(){this._sourceManager.dirty()},py.prototype.getSourceManager=function(){return this._sourceManager},py.type="dataset",py.defaultOption={seriesLayoutBy:rd},py);function py(){var t=null!==cy&&cy.apply(this,arguments)||this;return t.type="dataset",t}Zp.registerClass(Pi);var dy,aa=(l(fy,dy=Mg),fy.type="dataset",fy);function fy(){var t=null!==dy&&dy.apply(this,arguments)||this;return t.type="dataset",t}Mg.registerClass(aa);var gy=ht(),yy=function(t,e,n){var i,n=V(e)?e:e.svg?[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:((i=e.geoJson||e.geoJSON)&&!e.features&&(n=e.specialAreas,e=i),[{type:"geoJSON",source:e,specialAreas:n}]);return N(n,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");e=vy[e];e(t)}),gy.set(t,n)},my=function(t){return gy.get(t)},vy={geoJSON:function(t){var e=t.source;t.geoJSON=H(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=function(t){H(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var e=t;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}(t.source)}},_y=(xy.prototype.normalizeQuery=function(t){var e,a,s,l={},u={},h={};return H(t)?(e=Mu(t),l.mainType=e.main||null,l.subType=e.sub||null):(a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1},N(t,function(t,e){for(var n=!1,i=0;i<a.length;i++){var o=a[i],r=e.lastIndexOf(o);0<r&&r===e.length-o.length&&("data"!==(r=e.slice(0,r))&&(l.mainType=r,l[o.toLowerCase()]=t,n=!0))}s.hasOwnProperty(e)&&(u[e]=t,n=!0),n||(h[e]=t)})),{cptQuery:l,dataQuery:u,otherQuery:h}},xy.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,o=n.packedEvent,r=n.model,a=n.view;if(!r||!a)return!0;var s=e.cptQuery,n=e.dataQuery;return l(s,r,"mainType")&&l(s,r,"subType")&&l(s,r,"index","componentIndex")&&l(s,r,"name")&&l(s,r,"id")&&l(n,o,"name")&&l(n,o,"dataIndex")&&l(n,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,i,o));function l(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},xy.prototype.afterTrigger=function(){this.eventInfo=null},xy);function xy(){}Oa={createOnAllSeries:!0,performRawSeries:!0,reset:function(o,t){var e=o.getData();if(o.legendSymbol&&e.setVisual("legendSymbol",o.legendSymbol),o.hasSymbolVisual){var r=o.get("symbol"),a=o.get("symbolSize"),n=o.get("symbolKeepAspect"),s=o.get("symbolRotate"),l=F(r),u=F(a),h=F(s),i=l||u||h,c=!l&&r?r:o.defaultSymbol,p=u?null:a,d=h?null:s;if(e.setVisual({legendSymbol:o.legendSymbol||c,symbol:c,symbolSize:p,symbolKeepAspect:n,symbolRotate:d}),!t.isSeriesFiltered(o))return{dataEach:i?function(t,e){var n=o.getRawValue(e),i=o.getDataParams(e);l&&t.setItemVisual(e,"symbol",r(n,i)),u&&t.setItemVisual(e,"symbolSize",a(n,i)),h&&t.setItemVisual(e,"symbolRotate",s(n,i))}:null}}}},r={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){var n=(r=t.getItemModel(e)).getShallow("symbol",!0),i=r.getShallow("symbolSize",!0),o=r.getShallow("symbolRotate",!0),r=r.getShallow("symbolKeepAspect",!0);null!=n&&t.setItemVisual(e,"symbol",n),null!=i&&t.setItemVisual(e,"symbolSize",i),null!=o&&t.setItemVisual(e,"symbolRotate",o),null!=r&&t.setItemVisual(e,"symbolKeepAspect",r)}:null}}};function by(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}var wy=2*Math.PI,Sy=Jo.CMD,My=["top","right","bottom","left"];function Ty(t,e,n,i,o,r,a,s){var l=o-t,u=r-e,h=n-t,n=i-e,i=Math.sqrt(h*h+n*n),u=(l*(h/=i)+u*(n/=i))/i;s&&(u=Math.min(Math.max(u,0),1)),u*=i;h=a[0]=t+u*h,n=a[1]=e+u*n;return Math.sqrt((h-o)*(h-o)+(n-r)*(n-r))}function Cy(t,e,n,i,o,r,a){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i);n=t+n,i=e+i,n=a[0]=Math.min(Math.max(o,t),n),i=a[1]=Math.min(Math.max(r,e),i);return Math.sqrt((n-o)*(n-o)+(i-r)*(i-r))}var Iy=[];function Dy(t,e,n){for(var i=0,o=0,r=0,a=0,s=1/0,l=e.data,u=t.x,h=t.y,c=0;c<l.length;){var p=l[c++];1===c&&(r=i=l[c],a=o=l[c+1]);var d=s;switch(p){case Sy.M:i=r=l[c++],o=a=l[c++];break;case Sy.L:d=Ty(i,o,l[c],l[c+1],u,h,Iy,!0),i=l[c++],o=l[c++];break;case Sy.C:d=yo(i,o,l[c++],l[c++],l[c++],l[c++],l[c],l[c+1],u,h,Iy),i=l[c++],o=l[c++];break;case Sy.Q:d=bo(i,o,l[c++],l[c++],l[c],l[c+1],u,h,Iy),i=l[c++],o=l[c++];break;case Sy.A:var f=l[c++],g=l[c++],y=l[c++],m=l[c++],v=l[c++],_=l[c++];c+=1;var x=!!(1-l[c++]),b=Math.cos(v)*y+f,p=Math.sin(v)*m+g;c<=1&&(r=b,a=p);d=function(t,e,n,i,o,r,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s),h=(a/=u)*n+t,c=(s/=u)*n+e;if(Math.abs(i-o)%wy<1e-4)return l[0]=h,l[1]=c,u-n;(o=r?(p=i,i=nr(o),nr(p)):(i=nr(i),nr(o)))<i&&(o+=wy);var p=Math.atan2(s,a);return p<0&&(p+=wy),i<=p&&p<=o||i<=p+wy&&p+wy<=o?(l[0]=h,l[1]=c,u-n):(u=n*Math.cos(i)+t,i=n*Math.sin(i)+e,t=n*Math.cos(o)+t,o=n*Math.sin(o)+e,(e=(u-a)*(u-a)+(i-s)*(i-s))<(s=(t-a)*(t-a)+(o-s)*(o-s))?(l[0]=u,l[1]=i,Math.sqrt(e)):(l[0]=t,l[1]=o,Math.sqrt(s)))}(f,g,m,v,v+_,x,(u-f)*m/y+f,h,Iy),i=Math.cos(v+_)*y+f,o=Math.sin(v+_)*m+g;break;case Sy.R:d=Cy(r=i=l[c++],a=o=l[c++],l[c++],l[c++],u,h,Iy);break;case Sy.Z:d=Ty(i,o,r,a,u,h,Iy,!0),i=r,o=a}d<s&&(s=d,n.set(Iy[0],Iy[1]))}return s}var Ay=new si,ky=new si,Ly=new si,Py=new si,Oy=new si;function Ry(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var o=t.textGuideLineConfig||{},r=[[0,0],[0,0],[0,0]],a=o.candidates||My,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=o.anchor,h=t.getComputedTransform(),c=h&&$n([],h),p=e.get("length2")||0;u&&Ly.copy(u);for(var d,f=0;f<a.length;f++){!function(t,e,n,i,o){var r=n.width,a=n.height;switch(t){case"top":i.set(n.x+r/2,n.y-e),o.set(0,-1);break;case"bottom":i.set(n.x+r/2,n.y+a+e),o.set(0,1);break;case"left":i.set(n.x-e,n.y+a/2),o.set(-1,0);break;case"right":i.set(n.x+r+e,n.y+a/2),o.set(1,0)}}(a[f],0,s,Ay,Py),si.scaleAndAdd(ky,Ay,Py,p),ky.transform(c);var g=t.getBoundingRect(),y=u?u.distance(ky):t instanceof yr?Dy(ky,t.path,Ly):(y=ky,d=Ly,y=Cy((g=g).x,g.y,g.width,g.height,y.x,y.y,Iy),d.set(Iy[0],Iy[1]),y);y<l&&(l=y,ky.transform(h),Ly.transform(h),Ly.toArray(r[0]),ky.toArray(r[1]),Ay.toArray(r[2]))}zy(r,e.get("minTurnAngle")),n.setShape({points:r})}}}var Ny=[],Ey=new si;function zy(t,e){var n,i;e<=180&&0<e&&(e=e/180*Math.PI,Ay.fromArray(t[0]),ky.fromArray(t[1]),Ly.fromArray(t[2]),si.sub(Py,Ay,ky),si.sub(Oy,Ly,ky),n=Py.len(),i=Oy.len(),n<.001||i<.001||(Py.scale(1/n),Oy.scale(1/i),i=Py.dot(Oy),Math.cos(e)<i&&(i=Ty(ky.x,ky.y,Ly.x,Ly.y,Ay.x,Ay.y,Ny,!1),Ey.fromArray(Ny),Ey.scaleAndAdd(Oy,i/Math.tan(Math.PI-e)),e=Ly.x!==ky.x?(Ey.x-ky.x)/(Ly.x-ky.x):(Ey.y-ky.y)/(Ly.y-ky.y),isNaN(e)||(e<0?si.copy(Ey,ky):1<e&&si.copy(Ey,Ly),Ey.toArray(t[1])))))}function By(t,e,n,i){var o="normal"===n,n=o?t:t.ensureState(n);n.ignore=e;e=i.get("smooth");e&&!0===e&&(e=.3),n.shape=n.shape||{},0<e&&(n.shape.smooth=e);i=i.getModel("lineStyle").getLineStyle();o?t.useStyle(i):n.style=i}function Vy(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),0<n&&3<=i.length){var o=Mt(i[0],i[1]),e=Mt(i[1],i[2]);if(!o||!e)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);n=Math.min(o,e)*n,o=It([],i[1],i[0],n/o),n=It([],i[1],i[2],n/e),e=It([],o,n,.5);t.bezierCurveTo(o[0],o[1],o[0],o[1],e[0],e[1]),t.bezierCurveTo(n[0],n[1],n[0],n[1],i[2][0],i[2][1])}else for(var r=1;r<i.length;r++)t.lineTo(i[r][0],i[r][1])}function Fy(t,e,n){var i=t.getTextGuideLine(),o=t.getTextContent();if(o){for(var r=e.normal,a=r.get("show"),s=o.ignore,l=0;l<Wu.length;l++){var u,h=Wu[l],c=e[h],p="normal"===h;c&&(u=c.get("show"),!(p?s:Q(o.states[h]&&o.states[h].ignore,s))&&Q(u,a)?(i||(i=new ba,t.setTextGuideLine(i),p||!s&&a||By(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),By(i,!1,h,c)):(p=p?i:i&&i.states.normal)&&(p.ignore=!0))}i&&(A(i.style,n),i.style.fill=null,r=r.get("showAbove"),(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=r||!1,i.buildPath=Vy)}else i&&t.removeTextGuideLine()}function Hy(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},i=0;i<Gu.length;i++){var o=Gu[i];n[o]=t.getModel([o,e])}return n}function Gy(s,l,u,t,e,n){var h=s.length;if(!(h<2)){s.sort(function(t,e){return t.rect[l]-e.rect[l]});for(var i=0,r=!1,o=0,a=0;a<h;a++){var c,p=s[a],d=p.rect;(c=d[l]-i)<0&&(d[l]-=c,p.label[l]-=c,r=!0),o+=Math.max(-c,0),i=d[l]+d[u]}0<o&&n&&x(-o/h,0,h);var f,g,y=s[0],m=s[h-1];return v(),f<0&&b(-f,.8),g<0&&b(g,.8),v(),_(f,g,1),_(g,f,-1),v(),f<0&&w(-f),g<0&&w(g),r}function v(){f=y.rect[l]-t,g=e-m.rect[l]-m.rect[u]}function _(t,e,n){t<0&&(0<(e=Math.min(e,-t))?(x(e*n,0,h),(e=e+t)<0&&b(-e*n,1)):b(-t*n,1))}function x(t,e,n){0!==t&&(r=!0);for(var i=e;i<n;i++){var o=s[i];o.rect[l]+=t,o.label[l]+=t}}function b(t,e){for(var n=[],i=0,o=1;o<h;o++){var r=s[o-1].rect,r=Math.max(s[o].rect[l]-r[l]-r[u],0);n.push(r),i+=r}if(i){var a=Math.min(Math.abs(t)/i,e);if(0<t)for(o=0;o<h-1;o++){x(n[o]*a,0,o+1)}else for(o=h-1;0<o;o--){x(-(n[o-1]*a),o,h)}}}function w(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(h-1)),i=0;i<h-1;i++)if(0<e?x(n,0,i+1):x(-n,h-i-1,h),(t-=n)<=0)return}}function Wy(t,e,n,i){return Gy(t,"y","height",e,n,i)}function Uy(t,e){var n=t.label,e=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:function(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}(e&&e.shape.points)}}var Zy=["align","verticalAlign","width","height","fontSize"],Xy=new ri,Yy=du(),qy=du();function jy(t,e,n){for(var i=0;i<n.length;i++){var o=n[i];null!=e[o]&&(t[o]=e[o])}}var Ky=["x","y","rotation"],$y=(Jy.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},Jy.prototype._addLabel=function(t,e,n,i,o){var r=i.style,a=i.__hostTarget.textConfig||{},s=i.getComputedTransform(),l=i.getBoundingRect().plain();mi.applyTransform(l,l,s),s?Xy.setLocalTransform(s):(Xy.x=Xy.y=Xy.rotation=Xy.originX=Xy.originY=0,Xy.scaleX=Xy.scaleY=1);var u,h=i.__hostTarget;h&&(u=h.getBoundingRect().plain(),s=h.getComputedTransform(),mi.applyTransform(u,u,s));h=u&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:h,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:h&&h.ignore,x:Xy.x,y:Xy.y,rotation:Xy.rotation,style:{x:r.x,y:r.y,align:r.align,verticalAlign:r.verticalAlign,width:r.width,height:r.height,fontSize:r.fontSize},cursor:i.cursor,attachedPos:a.position,attachedRot:a.rotation}})},Jy.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var i=t.__model,o=i.get("labelLayout");(F(o)||E(o).length)&&t.group.traverse(function(t){if(t.ignore)return!0;var e=t.getTextContent(),t=Nu(t);e&&!e.disableLabelLayout&&n._addLabel(t.dataIndex,t.dataType,i,e,o)})},Jy.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],r=o.label,a=r.__hostTarget,s=o.defaultAttr,l=void 0;l=(l="function"==typeof o.layoutOption?o.layoutOption(Uy(o,a)):o.layoutOption)||{},o.computedLayoutOption=l;var u=Math.PI/180;a&&a.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:s.attachedPos,rotation:null!=l.rotate?l.rotate*u:s.attachedRot,offset:[l.dx||0,l.dy||0]});var h,c=!1;null!=l.x?(r.x=Rl(l.x,e),r.setStyle("x",0),c=!0):(r.x=s.x,r.setStyle("x",s.style.x)),null!=l.y?(r.y=Rl(l.y,n),r.setStyle("y",0),c=!0):(r.y=s.y,r.setStyle("y",s.style.y)),!l.labelLinePoints||(h=a.getTextGuideLine())&&(h.setShape({points:l.labelLinePoints}),c=!1),Yy(r).needsUpdateLabelLine=c,r.rotation=null!=l.rotate?l.rotate*u:s.rotation;for(var p=0;p<Zy.length;p++){var d=Zy[p];r.setStyle(d,(null!=l[d]?l:s.style)[d])}l.draggable?(r.draggable=!0,r.cursor="move",a&&(u=o.seriesModel,null!=o.dataIndex&&(u=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),r.on("drag",function(t,e){return function(){Ry(t,e)}}(a,u.getModel("labelLine"))))):(r.off("drag"),r.cursor=s.cursor)}},Jy.prototype.layout=function(t){var e,n=t.getWidth(),i=t.getHeight(),o=function(t){for(var e=[],n=0;n<t.length;n++){var i,o,r,a,s,l,u=t[n];u.defaultAttr.ignore||(o=(i=u.label).getComputedTransform(),r=i.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,l=i.style.margin||0,(s=r.clone()).applyTransform(o),s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l,l=a?new Sl(r,o):null,e.push({label:i,labelLine:u.labelLine,rect:s,localRect:r,obb:l,priority:u.priority,defaultAttr:u.defaultAttr,layoutOption:u.computedLayoutOption,axisAligned:a,transform:o}))}return e}(this._labelList),r=R(o,function(t){return"shiftX"===t.layoutOption.moveOverlap}),t=R(o,function(t){return"shiftY"===t.layoutOption.moveOverlap});Gy(r,"x","width",0,n,e),Wy(t,0,i),function(t){var e=[];t.sort(function(t,e){return e.priority-t.priority});var n=new mi(0,0,0,0);function i(t){var e;t.ignore||null==(e=t.ensureState("emphasis")).ignore&&(e.ignore=!1),t.ignore=!0}for(var o=0;o<t.length;o++){var r=t[o],a=r.axisAligned,s=r.localRect,l=r.transform,u=r.label,h=r.labelLine;n.copy(r.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var c=r.obb,p=!1,d=0;d<e.length;d++){var f=e[d];if(n.intersect(f.rect)){if(a&&f.axisAligned){p=!0;break}if(f.obb||(f.obb=new Sl(f.localRect,f.transform)),(c=c||new Sl(s,l)).intersect(f.obb)){p=!0;break}}}p?(i(u),h&&i(h)):(u.attr("ignore",r.defaultAttr.ignore),h&&h.attr("ignore",r.defaultAttr.labelGuideIgnore),e.push(r))}}(R(o,function(t){return t.layoutOption.hideOverlap}))},Jy.prototype.processLabelsOverall=function(){var a=this;N(this._chartViewList,function(t){var i=t.__model,o=t.ignoreLabelLineUpdate,r=i.isAnimationEnabled();t.group.traverse(function(t){if(t.ignore)return!0;var e=!o,n=t.getTextContent();!e&&n&&(e=Yy(n).needsUpdateLabelLine),e&&a._updateLabelLine(t,i),r&&a._animateLabels(t,i)})})},Jy.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=Nu(t),o=i.dataIndex;n&&null!=o&&(e=(n=e.getData(i.dataType)).getItemModel(o),i={},o=n.getItemVisual(o,"style"),n=n.getVisual("drawType"),i.stroke=o[n],n=e.getModel("labelLine"),Fy(t,Hy(e),i),Ry(t,n))},Jy.prototype._animateLabels=function(t,e){var n,i,o,r,a,s,l=t.getTextContent(),u=t.getTextGuideLine();!l||l.ignore||l.invisible||t.disableLabelAnimation||(s=(a=Yy(l)).oldLayout,n=Nu(t).dataIndex,i={x:l.x,y:l.y,rotation:l.rotation},s?(l.attr(s),(o=t.prevStates)&&(0<=k(o,"select")&&l.attr(a.oldLayoutSelect),0<=k(o,"emphasis")&&l.attr(a.oldLayoutEmphasis)),$c(l,i,e,n)):(l.attr(i),o=Q(l.style.opacity,1),l.style.opacity=0,Jc(l,{style:{opacity:o}},e,n)),a.oldLayout=i,l.states.select&&(jy(r=a.oldLayoutSelect={},i,Ky),jy(r,l.states.select,Ky)),l.states.emphasis&&(jy(r=a.oldLayoutEmphasis={},i,Ky),jy(r,l.states.emphasis,Ky))),!u||u.ignore||u.invisible||(s=(a=qy(u)).oldLayout,l={points:u.shape.points},s?(u.attr({shape:s}),$c(u,{shape:l},e)):(u.setShape(l),u.style.strokePercent=0,Jc(u,{style:{strokePercent:1}},e)),a.oldLayout=l)},Jy);function Jy(){this._labelList=[],this._chartViewList=[]}function Qy(t,e,a,s){var l=t+e;a.isSilent(l)||a.getModel().eachComponent({mainType:"series",subType:"pie"},function(t){for(var e,n,i=t.seriesIndex,o=s.selected,r=0;r<o.length;r++){o[r].seriesIndex===i&&(n=pu(e=t.getData(),s.fromActionPayload),a.trigger(l,{type:l,seriesId:t.id,name:V(n)?e.getName(n[0]):e.getName(n),selected:D({},t.option.selectedMap)}))}})}function tm(t,e,n){for(var i,o,r,a,s,l,u,h,c,p="radial"===e.type?(i=t,o=e,a=(r=n).width,s=r.height,l=Math.min(a,s),u=null==o.x?.5:o.x,h=null==o.y?.5:o.y,c=null==o.r?.5:o.r,o.global||(u=u*a+r.x,h=h*s+r.y,c*=l),i.createRadialGradient(u,h,0,u,h,c)):(l=t,i=n,h=null==(u=e).x?0:u.x,c=null==u.x2?1:u.x2,t=null==u.y?0:u.y,n=null==u.y2?0:u.y2,u.global||(h=h*i.width+i.x,c=c*i.width+i.x,t=t*i.height+i.y,n=n*i.height+i.y),h=isNaN(h)?0:h,c=isNaN(c)?1:c,t=isNaN(t)?0:t,n=isNaN(n)?0:n,l.createLinearGradient(h,t,c,n)),d=e.colorStops,f=0;f<d.length;f++)p.addColorStop(d[f].offset,d[f].color);return p}function em(t,e){return t&&"solid"!==t&&0<e?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:W(t)?[t]:V(t)?t:null):null}var nm=new Jo(!0);function im(t){var e=t.stroke;return!(null==e||"none"===e||!(0<t.lineWidth))}function om(t){t=t.fill;return null!=t&&"none"!==t}function rm(t,e){var n;null!=e.fillOpacity&&1!==e.fillOpacity?(n=t.globalAlpha,t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n):t.fill()}function am(t,e){var n;null!=e.strokeOpacity&&1!==e.strokeOpacity?(n=t.globalAlpha,t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n):t.stroke()}function sm(t,e,n){n=Fa(e.image,e.__image,n);if(Ga(n))return t.createPattern(n,e.repeat||"repeat")}var lm=["shadowBlur","shadowOffsetX","shadowOffsetY"],um=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function hm(t,e,n,i,o){var r=!1;if(!i&&e===(n=n||{}))return!1;!i&&e.opacity===n.opacity||(r||(_m(t,o),r=!0),t.globalAlpha=(null==e.opacity?Yi:e).opacity),!i&&e.blend===n.blend||(r||(_m(t,o),r=!0),t.globalCompositeOperation=e.blend||Yi.blend);for(var a=0;a<lm.length;a++){var s=lm[a];!i&&e[s]===n[s]||(r||(_m(t,o),r=!0),t[s]=t.dpr*(e[s]||0))}return!i&&e.shadowColor===n.shadowColor||(r||(_m(t,o),r=!0),t.shadowColor=e.shadowColor||Yi.shadowColor),r}function cm(t,e,n,i,o){var r=xm(e,o.inHover),a=i?null:n&&xm(n,o.inHover)||{};if(r!==a){var s=hm(t,r,a,i,o);!i&&r.fill===a.fill||(s||(_m(t,o),s=!0),t.fillStyle=r.fill),!i&&r.stroke===a.stroke||(s||(_m(t,o),s=!0),t.strokeStyle=r.stroke),!i&&r.opacity===a.opacity||(s||(_m(t,o),s=!0),t.globalAlpha=null==r.opacity?1:r.opacity),e.hasStroke()&&(e=r.lineWidth/(r.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1),t.lineWidth!==e&&(s||(_m(t,o),s=!0),t.lineWidth=e));for(var l=0;l<um.length;l++){var u=um[l],h=u[0];!i&&r[h]===a[h]||(s||(_m(t,o),s=!0),t[h]=r[h]||u[1])}return s}}function pm(t,e){var n=e.transform,e=t.dpr||1;n?t.setTransform(e*n[0],e*n[1],e*n[2],e*n[3],e*n[4],e*n[5]):t.setTransform(e,0,0,e,0,0)}var dm=new mi(0,0,0,0),fm=new mi(0,0,0,0);var gm=1,ym=2,mm=3,vm=4;function _m(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function xm(t,e){return e&&t.__hoverStyle||t.style}function bm(t,e,n,i){var o,r,a,s,l,u,h,c,p,d,f,g,y,m,v,_,x,b=e.transform;e.invisible||0===e.style.opacity||e.culling&&(r=e,s=n.viewWidth,p=n.viewHeight,s&&p&&(dm.copy(r.getBoundingRect()),r.transform&&dm.applyTransform(r.transform),fm.width=s,fm.height=p,!dm.intersect(fm)))||b&&!b[0]&&!b[3]?e.__dirty&=~Hi.REDARAW_BIT:(l=e.__clipPaths,r=o=!1,(s=n.prevElClipPaths)&&!function(t,e){if(t!==e&&(t||e)){if(!t||!e||t.length!==e.length)return 1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return 1}}(l,s)||(s&&s.length&&(_m(t,n),t.restore(),r=o=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),l&&l.length&&(_m(t,n),t.save(),function(t,e,n){for(var i=!1,o=0;o<t.length;o++){var r=t[o],i=i||r.isZeroArea();pm(e,r),e.beginPath(),r.buildPath(e,r.shape),e.clip()}n.allClipped=i}(l,t,n),o=!0),n.prevElClipPaths=l),n.allClipped||(e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush(),(p=n.prevEl)||(r=o=!0),a=e instanceof yr&&e.autoBatch&&(a=e.style,s=om(a),l=im(a),!(a.lineDash||!(+s^+l)||s&&"string"!=typeof a.fill||l&&"string"!=typeof a.stroke||a.strokePercent<1||a.strokeOpacity<1||a.fillOpacity<1)),o||(u=b,f=p.transform,u&&f?u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||u[4]!==f[4]||u[5]!==f[5]:u||f)?(_m(t,n),pm(t,e)):a||_m(t,n),u=xm(e,n.inHover),e instanceof yr?(n.lastDrawType!==gm&&(r=!0,n.lastDrawType=gm),cm(t,e,p,r,n),a&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,i){var o=im(n),r=om(n),a=n.strokePercent,s=a<1,l=!e.path;e.silent&&!s||!l||e.createPathProxy();var u,h,c,p,d,f,g,y=e.path||nm;i||(u=n.fill,h=n.stroke,c=r&&!!u.colorStops,v=o&&!!h.colorStops,p=r&&!!u.image,x=o&&!!h.image,g=b=f=_=d=void 0,(c||v)&&(g=e.getBoundingRect()),c&&(d=e.__dirty?tm(t,u,g):e.__canvasFillGradient,e.__canvasFillGradient=d),v&&(_=e.__dirty?tm(t,h,g):e.__canvasStrokeGradient,e.__canvasStrokeGradient=_),p&&(f=e.__dirty||!e.__canvasFillPattern?sm(t,u,e):e.__canvasFillPattern,e.__canvasFillPattern=f),x&&(b=e.__dirty||!e.__canvasStrokePattern?sm(t,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=f),c?t.fillStyle=d:p&&(f?t.fillStyle=f:r=!1),v?t.strokeStyle=_:x&&(b?t.strokeStyle=b:o=!1));var m,v=n.lineDash&&0<n.lineWidth&&em(n.lineDash,n.lineWidth),_=n.lineDashOffset,x=!!t.setLineDash,b=e.getGlobalScale();y.setScale(b[0],b[1],e.segmentIgnoreThreshold),!v||(m=n.strokeNoScale&&e.getLineScale?e.getLineScale():1)&&1!==m&&(v=P(v,function(t){return t/m}),_/=m),b=!0,(l||e.__dirty&yr.SHAPE_CHANGED_BIT||v&&!x&&o)&&(y.setDPR(t.dpr),s?y.setContext(null):(y.setContext(t),b=!1),y.reset(),v&&!x&&(y.setLineDash(v),y.setLineDashOffset(_)),e.buildPath(y,e.shape,i),y.toStatic(),e.pathUpdated()),b&&y.rebuildPath(t,s?a:1),v&&x&&(t.setLineDash(v),t.lineDashOffset=_),i||(n.strokeFirst?(o&&am(t,n),r&&rm(t,n)):(r&&rm(t,n),o&&am(t,n))),v&&x&&t.setLineDash([])}(t,e,u,a),a&&(n.batchFill=u.fill||"",n.batchStroke=u.stroke||"")):e instanceof ka?(n.lastDrawType!==mm&&(r=!0,n.lastDrawType=mm),cm(t,e,p,r,n),d=t,f=e,null!=(x=(g=u).text)&&(x+=""),x&&(d.font=g.font||wi,d.textAlign=g.textAlign,d.textBaseline=g.textBaseline,y=void 0,d.setLineDash&&(m=g.lineDash&&0<g.lineWidth&&em(g.lineDash,g.lineWidth),v=g.lineDashOffset,m&&((_=g.strokeNoScale&&f.getLineScale?f.getLineScale():1)&&1!==_&&(m=P(m,function(t){return t/_}),v/=_),d.setLineDash(m),d.lineDashOffset=v,y=!0)),g.strokeFirst?(im(g)&&d.strokeText(x,g.x,g.y),om(g)&&d.fillText(x,g.x,g.y)):(om(g)&&d.fillText(x,g.x,g.y),im(g)&&d.strokeText(x,g.x,g.y)),y&&d.setLineDash([]))):e instanceof Wr?(n.lastDrawType!==ym&&(r=!0,n.lastDrawType=ym),m=p,v=r,hm(t,xm(e,(x=n).inHover),m&&xm(m,x.inHover),v,x),g=t,y=u,(p=(d=e).__image=Fa(y.image,d.__image,d,d.onload))&&Ga(p)&&(m=y.x||0,v=y.y||0,x=y.width,u=y.height,d=p.width/p.height,null==x&&null!=u?x=u*d:null==u&&null!=x?u=x/d:null==x&&null==u&&(x=p.width,u=p.height),y.sWidth&&y.sHeight?(h=y.sx||0,c=y.sy||0,g.drawImage(p,h,c,y.sWidth,y.sHeight,m,v,x,u)):y.sx&&y.sy?(d=x-(h=y.sx),y=u-(c=y.sy),g.drawImage(p,h,c,d,y,m,v,x,u)):g.drawImage(p,m,v,x,u))):e instanceof za&&(n.lastDrawType!==vm&&(r=!0,n.lastDrawType=vm),function(t,e,n){var i=e.getDisplayables(),o=e.getTemporalDisplayables();t.save();var r,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(r=e.getCursor(),a=i.length;r<a;r++){(h=i[r]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),bm(t,h,s,r===a-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}for(var l=0,u=o.length-1;l<u;l++){var h;(h=o[l]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),bm(t,h,s,l===u-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),a&&i&&_m(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),(n.prevEl=e).__dirty=0))}function wm(){return!1}function Sm(t,e,n){var i=M(),o=e.getWidth(),r=e.getHeight(),e=i.style;return e&&(e.position="absolute",e.left="0",e.top="0",e.width=o+"px",e.height=r+"px",i.setAttribute("data-zr-dom-id",t)),i.width=o*n,i.height=r*n,i}var Mm,Tm=(l(Cm,Mm=Nt),Cm.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Cm.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Cm.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Sm("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},Cm.prototype.resize=function(t,e){var n=this.dpr,i=this.dom,o=i.style,r=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),i.width=t*n,i.height=e*n,r&&(r.width=t*n,r.height=e*n,1!==n&&this.ctxBack.scale(n,n))},Cm.prototype.clear=function(t,e){var n=this.dom,i=this.ctx,o=n.width,r=n.height;e=e||this.clearColor;var a=this.motionBlur&&!t,s=this.lastFrameAlpha,t=this.dpr,l=this;a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,o/t,r/t)),i.clearRect(0,0,o,r),e&&"transparent"!==e&&(t=void 0,q(e)?(t=e.__canvasGradient||tm(i,e,{x:0,y:0,width:o,height:r}),e.__canvasGradient=t):j(e)&&(t=sm(i,e,{dirty:function(){l.__painter.refresh()}})),i.save(),i.fillStyle=t||e,i.fillRect(0,0,o,r),i.restore()),a&&(a=this.domBack,i.save(),i.globalAlpha=s,i.drawImage(a,0,0,o,r),i.restore())},Cm);function Cm(t,e,n){var i,o=Mm.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.__dirty=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,n=n||Oi,"string"==typeof t?i=Sm(t,e,n):U(t)&&(t=(i=t).id),o.id=t;t=(o.dom=i).style;return t&&(i.onselectstart=wm,t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none",t.padding="0",t.margin="0",t.borderWidth="0"),o.domBack=null,o.ctxBack=null,o.painter=e,o.config=null,o.dpr=n,o}var Im=314159;function Dm(t){return parseInt(t,10)}function Am(t,e,n,i){this.type="canvas",this._zlevelList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=D({},n||{}),this.dpr=n.devicePixelRatio||Oi,this._singleCanvas=o;var r=(this.root=t).style;r&&(r.webkitTapHighlightColor="transparent",r.webkitUserSelect="none",r.userSelect="none",r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a,s=this._zlevelList,r=this._layers;o?(e=(a=t).width,o=a.height,null!=n.width&&(e=n.width),null!=n.height&&(o=n.height),this.dpr=n.devicePixelRatio||1,a.width=e*this.dpr,a.height=o*this.dpr,this._width=e,this._height=o,(a=new Tm(a,this,this.dpr)).__builtin__=!0,a.initContext(),(r[Im]=a).zlevel=Im,s.push(Im),this._domRoot=t):(this._width=this._getSize(0),this._height=this._getSize(1),s=this._domRoot=(r=this._width,a=this._height,(s=document.createElement("div")).style.cssText=["position:relative","width:"+r+"px","height:"+a+"px","padding:0","margin:0","border-width:0"].join(";")+";",s),t.appendChild(s))}function km(t,e,n){for(var i;t&&(!e(t)||(i=t,!n));)t=t.__hostTarget||t.parent;return i}Ll("canvas",(Am.prototype.getType=function(){return"canvas"},Am.prototype.isSingleCanvas=function(){return this._singleCanvas},Am.prototype.getViewportRoot=function(){return this._domRoot},Am.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},Am.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var o=n[i],r=this._layers[o];!r.__builtin__&&r.refresh&&(o=0===i?this._backgroundColor:null,r.refresh(o))}return this},Am.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},Am.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var i,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},r=0;r<e;r++){var a=t[r];a.__inHover&&(n=n||(this._hoverlayer=this.getLayer(1e5)),i||(i=n.ctx).save(),bm(i,a,o,r===e-1))}i&&i.restore()}},Am.prototype.getHoverLayer=function(){return this.getLayer(1e5)},Am.prototype._paintList=function(t,e,n){var i,o,r;this._redrawId===n&&(e=e||!1,this._updateLayerStatus(t),i=(o=this._doPaintList(t,e)).finished,o=o.needsRefreshHover,this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),i||(r=this,De(function(){r._paintList(t,e,n)})))},Am.prototype._compositeManually=function(){var e=this.getLayer(Im).ctx,n=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,n,i),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,n,i)})},Am.prototype._doPaintList=function(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(l=this._layers[o]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||e)&&n.push(l)}for(var r=!0,a=!1,s=0;s<n.length;s++){var l,u=(l=n[s]).ctx,h={inHover:!1,allClipped:!1,prevEl:null,viewWidth:this._width,viewHeight:this._height};u.save();var c,p=e?l.__startIndex:l.__drawIndex,d=!e&&l.incremental&&Date.now,f=d&&Date.now(),g=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;l.__startIndex===l.__endIndex?l.clear(!1,g):p===l.__startIndex&&((c=t[p]).incremental&&c.notClear&&!e||l.clear(!1,g)),-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=l.__startIndex);for(var y=void 0,y=p;y<l.__endIndex;y++){var m=t[y];if(m.__inHover&&(a=!0),bm(u,m,h,y===l.__endIndex-1),d)if(15<Date.now()-f)break}l.__drawIndex=y,l.__drawIndex<l.__endIndex&&(r=!1),h.prevElClipPaths&&u.restore(),u.restore()}return v.wxa&&N(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:r,needsRefreshHover:a}},Am.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Im);var n=this._layers[t];return n||((n=new Tm("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?w(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&w(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},Am.prototype.insertLayer=function(t,e){var n,i=this._layers,o=this._zlevelList,r=o.length,a=this._domRoot,s=null,l=-1;if(i[t])b("ZLevel "+t+" has been used already");else if((n=e)&&(n.__builtin__||"function"==typeof n.resize&&"function"==typeof n.refresh)){if(0<r&&t>o[0]){for(l=0;l<r-1&&!(o[l]<t&&o[l+1]>t);l++);s=i[o[l]]}o.splice(l+1,0,t),(i[t]=e).virtual||(s?(s=s.dom).nextSibling?a.insertBefore(e.dom,s.nextSibling):a.appendChild(e.dom):a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom)),e.__painter=this}else b("Layer of zlevel "+t+" is not valid")},Am.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i];t.call(e,this._layers[o],o)}},Am.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],r=this._layers[o];r.__builtin__&&t.call(e,r,o)}},Am.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],r=this._layers[o];r.__builtin__||t.call(e,r,o)}},Am.prototype.getLayers=function(){return this._layers},Am.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}for(var i,o=null,r=0,a=0;a<t.length;a++){var s,l=(s=t[a]).zlevel,u=void 0;i!==l&&(i=l,r=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,r=1):u=this.getLayer(l+(0<r?.01:0),this._needsManuallyCompositing),u.__builtin__||b("ZLevel "+l+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==a&&(u.__dirty=!0),u.__startIndex=a,u.incremental?u.__drawIndex=-1:u.__drawIndex=a,e(a),o=u),s.__dirty&Hi.REDARAW_BIT&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=a))}e(a),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},Am.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},Am.prototype._clearLayer=function(t){t.clear()},Am.prototype.setBackgroundColor=function(t){this._backgroundColor=t},Am.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?w(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];o!==t&&o!==t+.01||w(this._layers[o],n[t],!0)}}},Am.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(k(n,t),1))},Am.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Im).resize(t,e)}return this},Am.prototype.clearLayer=function(t){t=this._layers[t];t&&t.clear()},Am.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},Am.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Im].dom;var e=new Tm("image",this,t.pixelRatio||this.dpr),n=e.ctx;if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,o=e.dom.height,r=e.ctx;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,i,o):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){bm(n,s[l],a,l===u-1)}return e.dom},Am.prototype.getWidth=function(){return this._width},Am.prototype.getHeight=function(){return this._height},Am.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);t=this.root,e=document.defaultView.getComputedStyle(t);return(t[i]||Dm(e[n])||Dm(t.style[n]))-(Dm(e[o])||0)-(Dm(e[r])||0)|0},Am.prototype.pathToImage=function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=t.getBoundingRect(),r=t.style,a=r.shadowBlur*e,s=r.shadowOffsetX*e,l=r.shadowOffsetY*e,u=t.hasStroke()?r.lineWidth:0,h=Math.max(u/2,a-s),r=Math.max(u/2,s+a),s=Math.max(u/2,a-l),a=Math.max(u/2,l+a),r=o.width+h+r,a=o.height+s+a;n.width=r*e,n.height=a*e,i.scale(e,e),i.clearRect(0,0,r,a),i.dpr=e;e={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=h-o.x,t.y=s-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&bm(i,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);n=new Wr({style:{x:0,y:0,image:n}});return D(t,e),n},Am));var Lm=it,Pm=N,Om=F,Rm=U,Zh={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500}},Nm="__flagInMainProcess",Em="__optionUpdated",zm="__needsUpdateStatus",Bm=/^[a-zA-Z0-9_]+$/,Vm="__connectUpdateStatus";function Fm(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return Gm(this,n,t);xv(this.id)}}function Hm(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gm(this,n,t)}}function Gm(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),Nt.prototype[e].apply(t,n)}var Wm,Um=(l(Zm,Wm=Nt),Zm);function Zm(){return null!==Wm&&Wm.apply(this,arguments)||this}var Xm,Ym,qm,jm,Km,$m,Jm,Qm,tv,ev,nv,iv,ov,rv,av,sv,lv,uv,hv,cv,Pi=Um.prototype;Pi.on=Hm("on"),Pi.off=Hm("off");var pv,dv=(l(fv,pv=Nt),fv.prototype._onframe=function(){if(!this._disposed){cv(this);var t=this._scheduler;if(this[Em]){var e=this[Em].silent;this[Nm]=!0,Xm(this),jm.update.call(this),this[Nm]=!1,this[Em]=!1,Qm.call(this,e),tv.call(this,e)}else if(t.unfinished){var n=1,i=this._model,o=this._api;t.unfinished=!1;do{var r=+new Date}while(t.performSeriesTasks(i),t.performDataProcessorTasks(i),$m(this,i),t.performVisualTasks(i),av(this,this._model,o,"remain"),0<(n-=+new Date-r)&&t.unfinished);t.unfinished||this._zr.flush()}}},fv.prototype.getDom=function(){return this._dom},fv.prototype.getId=function(){return this.id},fv.prototype.getZr=function(){return this._zr},fv.prototype.setOption=function(t,e,n){var i,o,r,a;this._disposed?xv(this.id):(Rm(e)&&(n=e.lazyUpdate,i=e.silent,o=e.replaceMerge,e=e.notMerge),this[Nm]=!0,this._model&&!e||(r=new Ld(this._api),a=this._theme,(e=this._model=new xd).scheduler=this._scheduler,e.init(null,null,null,a,this._locale,r)),this._model.setOption(t,{replaceMerge:o},Mv),n?(this[Em]={silent:i},this[Nm]=!1):(Xm(this),jm.update.call(this),this._zr.flush(),this[Em]=!1,this[Nm]=!1,Qm.call(this,i),tv.call(this,i)))},fv.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},fv.prototype.getModel=function(){return this._model},fv.prototype.getOption=function(){return this._model&&this._model.getOption()},fv.prototype.getWidth=function(){return this._zr.getWidth()},fv.prototype.getHeight=function(){return this._zr.getHeight()},fv.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},fv.prototype.getRenderedCanvas=function(t){if(v.canvasSupported)return(t=D({},t||{})).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},fv.prototype.getSvgDataURL=function(){if(v.svgSupported){var t=this._zr;return N(t.storage.getDisplayList(),function(t){t.stopAnimation(null,!0)}),t.painter.toDataURL()}},fv.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],o=this;Pm(e,function(t){n.eachComponent({mainType:t},function(t){t=o._componentsMap[t.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});t="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Pm(i,function(t){t.group.ignore=!1}),t}xv(this.id)},fv.prototype.getConnectedDataURL=function(i){if(this._disposed)xv(this.id);else if(v.canvasSupported){var o="svg"===i.type,r=this.group,a=Math.min,s=Math.max;if(Lv[r]){var l=1/0,u=1/0,h=-1/0,c=-1/0,p=[],e=i&&i.pixelRatio||1;N(kv,function(t,e){var n;t.group===r&&(n=o?t.getZr().painter.getSvgDom().innerHTML:t.getRenderedCanvas(I(i)),t=t.getDom().getBoundingClientRect(),l=a(t.left,l),u=a(t.top,u),h=s(t.right,h),c=s(t.bottom,c),p.push({dom:n,left:t.left,top:t.top}))});var t=(h*=e)-(l*=e),n=(c*=e)-(u*=e),d=M(),f=kl(d,{renderer:o?"svg":"canvas"});if(f.resize({width:t,height:n}),o){var g="";return Pm(p,function(t){var e=t.left-l,n=t.top-u;g+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"}),f.painter.getSvgRoot().innerHTML=g,i.connectedBackgroundColor&&f.painter.setBackgroundColor(i.connectedBackgroundColor),f.refreshImmediately(),f.painter.toDataURL()}return i.connectedBackgroundColor&&f.add(new na({shape:{x:0,y:0,width:t,height:n},style:{fill:i.connectedBackgroundColor}})),Pm(p,function(t){t=new Wr({style:{x:t.left*e-l,y:t.top*e-u,image:t.dom}});f.add(t)}),f.refreshImmediately(),d.toDataURL("image/"+(i&&i.type||"png"))}return this.getDataURL(i)}},fv.prototype.convertToPixel=function(t,e){return Km(this,"convertToPixel",t,e)},fv.prototype.convertFromPixel=function(t,e){return Km(this,"convertFromPixel",t,e)},fv.prototype.containPixel=function(t,o){var r;if(!this._disposed)return N(gu(this._model,t),function(t,i){0<=i.indexOf("Models")&&N(t,function(t){var e,n=t.coordinateSystem;n&&n.containPoint?r=r||!!n.containPoint(o):"seriesModels"===i&&(e=this._chartsMap[t.__viewId])&&e.containPoint&&(r=r||e.containPoint(o,t))},this)},this),!!r;xv(this.id)},fv.prototype.getVisual=function(t,e){var n=gu(this._model,t,{defaultMainType:"series"}),t=n.seriesModel;t=t.getData(),n=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?t.indexOfRawIndex(n.dataIndex):null;return null!=n?function(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n);default:0}}(t,n,e):by(t,e)},fv.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},fv.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},fv.prototype._initEvents=function(){var t,e,s=this;Pm(_v,function(a){function t(t){var n,e,i=s.getModel(),o=t.target,r="globalout"===a;r?n={}:o&&km(o,function(t){var e=Nu(t);if(e&&null!=e.dataIndex){t=e.dataModel||i.getSeriesByIndex(e.seriesIndex);return n=t&&t.getDataParams(e.dataIndex,e.dataType)||{},1}return e.eventData&&(n=D({},e.eventData),1)},!0),n&&(e=n.componentType,r=n.componentIndex,"markLine"!==e&&"markPoint"!==e&&"markArea"!==e||(e="series",r=n.seriesIndex),r=(e=e&&null!=r&&i.getComponent(e,r))&&s["series"===e.mainType?"_chartsMap":"_componentsMap"][e.__viewId],n.event=t,n.type=a,s._$eventProcessor.eventInfo={targetEl:o,packedEvent:n,model:e,view:r},s.trigger(a,n))}t.zrEventfulCallAtLast=!0,s._zr.on(a,t,s)}),Pm(wv,function(t,e){s._messageCenter.on(e,function(t){this.trigger(e,t)},s)}),Pm(["selectchanged"],function(e){s._messageCenter.on(e,function(t){this.trigger(e,t)},s)}),t=this._messageCenter,e=this,t.on("selectchanged",function(t){t.isFromClick?(Qy("map","selectchanged",e,t),Qy("pie","selectchanged",e,t)):"select"===t.fromAction?(Qy("map","selected",e,t),Qy("pie","selected",e,t)):"unselect"===t.fromAction&&(Qy("map","unselected",e,t),Qy("pie","unselected",e,t))})},fv.prototype.isDisposed=function(){return this._disposed},fv.prototype.clear=function(){this._disposed?xv(this.id):this.setOption({series:[]},!0)},fv.prototype.dispose=function(){var e,n;this._disposed?xv(this.id):(this._disposed=!0,_u(this.getDom(),Rv,""),e=this._api,n=this._model,Pm(this._componentsViews,function(t){t.dispose(n,e)}),Pm(this._chartsViews,function(t){t.dispose(n,e)}),this._zr.dispose(),delete kv[this.id])},fv.prototype.resize=function(t){var e;this._disposed?xv(this.id):(this._zr.resize(t),e=this._model,this._loadingFX&&this._loadingFX.resize(),e&&(e=e.resetOption("media"),t=t&&t.silent,this[Nm]=!0,e&&Xm(this),jm.update.call(this,{type:"resize",animation:{duration:0}}),this[Nm]=!1,Qm.call(this,t),tv.call(this,t)))},fv.prototype.showLoading=function(t,e){this._disposed?xv(this.id):(Rm(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Av[t]&&(t=Av[t](this._api,e),e=this._zr,this._loadingFX=t,e.add(t)))},fv.prototype.hideLoading=function(){this._disposed?xv(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},fv.prototype.makeActionFromEvent=function(t){var e=D({},t);return e.type=wv[t.type],e},fv.prototype.dispatchAction=function(t,e){var n;this._disposed?xv(this.id):(Rm(e)||(e={silent:!!e}),bv[t.type]&&this._model&&(this[Nm]?this._pendingActions.push(t):(n=e.silent,Jm.call(this,t,n),(e=e.flush)?this._zr.flush():!1!==e&&v.browser.weChat&&this._throttledZrFlush(),Qm.call(this,n),tv.call(this,n))))},fv.prototype.updateLabelLayout=function(){var t=this._labelManager;t.updateLayoutConfig(this._api),t.layout(this._api),t.processLabelsOverall()},fv.prototype.appendData=function(t){var e;this._disposed?xv(this.id):(e=t.seriesIndex,this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp())},fv.internalField=(Xm=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),Ym(t,!0),Ym(t,!1),e.plan()},Ym=function(t,o){for(var r=t._model,a=t._scheduler,s=o?t._componentsViews:t._chartsViews,l=o?t._componentsMap:t._chartsMap,u=t._zr,h=t._api,e=0;e<s.length;e++)s[e].__alive=!1;function n(t){var e=t.__requireNewView;t.__requireNewView=!1;var n="_ec_"+t.id+"_"+t.type,i=!e&&l[n];i||(e=Mu(t.type),(i=new(o?Mg.getClass(e.main,e.sub):Ag.getClass(e.sub))).init(r,h),l[n]=i,s.push(i),u.add(i.group)),t.__viewId=i.__id=n,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},o||a.prepareView(i,t,r,h)}o?r.eachComponent(function(t,e){"series"!==t&&n(e)}):r.eachSeries(n);for(e=0;e<s.length;){var i=s[e];i.__alive?e++:(o||i.renderTask.dispose(),u.remove(i.group),i.dispose(r,h),s.splice(e,1),l[i.__id]===i&&delete l[i.__id],i.__id=i.group.__ecComponentInfo=null)}},qm=function(r,e,a,s,t){var n,l,i=r._model;function u(t){t&&t.__alive&&t[e]&&t[e](t.__model,i,r._api,a)}i.setUpdatePayload(a),s?((n={})[s+"Id"]=a[s+"Id"],n[s+"Index"]=a[s+"Index"],n[s+"Name"]=a[s+"Name"],n={mainType:s,query:n},t&&(n.subType=t),null!=(t=a.excludeSeriesId)&&(l=ht(tu(t))),i&&i.eachComponent(n,function(t){var e,n,i,o;l&&null!=l.get(t.id)||(Dh(a)&&!a.notBlur?t instanceof gg&&function(t,e,n){if(Dh(e)){var i,o=e.type===Xu,r=t.seriesIndex,a=t.getData(e.dataType),e=(V(e=pu(a,e))?e[0]:e)||0,s=a.getItemGraphicEl(e);if(!s)for(var l=a.count(),u=0;!s&&u<l;)s=a.getItemGraphicEl(u++);s?xh(r,(i=Nu(s)).focus,i.blurScope,n,o):(i=t.get(["emphasis","focus"]),t=t.get(["emphasis","blurScope"]),null!=i&&xh(r,i,t,n,o))}}(t,a,r):Ih(a)&&t instanceof gg&&(e=t,Ih(n=a)&&(i=n.dataType,V(o=pu(e.getData(i),n))||(o=[o]),e[n.type===Ku?"toggleSelect":n.type===qu?"select":"unselect"](o,i)),bh(t),hv(r)),u(r["series"===s?"_chartsMap":"_componentsMap"][t.__viewId]))},r)):Pm([].concat(r._componentsViews).concat(r._chartsViews),u)},jm={prepareAndUpdate:function(t){Xm(this),jm.update.call(this,t)},update:function(t){var e=this._model,n=this._api,i=this._zr,o=this._coordSysMgr,r=this._scheduler;e&&(e.setUpdatePayload(t),r.restoreData(e,t),r.performSeriesTasks(e),o.create(e,n),r.performDataProcessorTasks(e,t),$m(this,e),o.update(e,n),iv(e),r.performVisualTasks(e,t),ov(this,e,n,t),r=e.get("backgroundColor")||"transparent",t=e.get("darkMode"),v.canvasSupported?(i.setBackgroundColor(r),null!=t&&"auto"!==t&&i.setDarkMode(t)):(r=nn(t=je(r),"rgb"),0===t[3]&&(r="transparent")),sv(e,n))},updateTransform:function(n){var i,o,r=this,a=this._model,s=this._api;a&&(a.setUpdatePayload(n),i=[],a.eachComponent(function(t,e){"series"===t||(t=r.getViewOfComponentModel(e))&&t.__alive&&(!t.updateTransform||(e=t.updateTransform(e,a,s,n))&&e.update)&&i.push(t)}),o=ht(),a.eachSeries(function(t){var e=r._chartsMap[t.__viewId];(!e.updateTransform||(e=e.updateTransform(t,a,s,n))&&e.update)&&o.set(t.uid,1)}),iv(a),this._scheduler.performVisualTasks(a,n,{setDirty:!0,dirtyMap:o}),av(this,a,s,n,o),sv(a,this._api))},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),Ag.markUpdateMethod(t,"updateView"),iv(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),ov(this,this._model,this._api,t),sv(e,this._api))},updateVisual:function(n){var i=this,o=this._model;o&&(o.setUpdatePayload(n),o.eachSeries(function(t){t.getData().clearAllVisual()}),Ag.markUpdateMethod(n,"updateVisual"),iv(o),this._scheduler.performVisualTasks(o,n,{visualType:"visual",setDirty:!0}),o.eachComponent(function(t,e){"series"===t||(t=i.getViewOfComponentModel(e))&&t.__alive&&t.updateVisual(e,o,i._api,n)}),o.eachSeries(function(t){i._chartsMap[t.__viewId].updateVisual(t,o,i._api,n)}),sv(o,this._api))},updateLayout:function(t){jm.update.call(this,t)}},Km=function(t,e,n,i){if(t._disposed)xv(t.id);else{for(var o,r=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=gu(r,n),l=0;l<a.length;l++){var u=a[l];if(u[e]&&null!=(o=u[e](r,s,i)))return o}0}},$m=function(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,n[t.__viewId])})},Jm=function(e,t){var n=this,i=this.getModel(),o=e.type,r=e.escapeConnect,a=bv[o],s=a.actionInfo,l=(s.update||"update").split(":"),u=l.pop(),h=null!=l[0]&&Mu(l[0]);this[Nm]=!0;var c=[e],p=!1;e.batch&&(p=!0,c=P(e.batch,function(t){return(t=A(D({},t),e)).batch=null,t}));var d,f,g=[],l=Ih(e),y=Dh(e)||l;Pm(c,function(t){(d=(d=a.action(t,n._model,n._api))||D({},t)).type=s.event||d.type,g.push(d),y?(qm(n,u,t,"series"),hv(n)):h&&qm(n,u,t,h.main,h.sub)}),e.statusChanged&&hv(this),"none"===u||y||h||(this[Em]?(Xm(this),jm.update.call(this,e),this[Em]=!1):jm[u].call(this,e)),d=p?{type:s.event||o,escapeConnect:r,batch:g}:g[0],this[Nm]=!1,t||((t=this._messageCenter).trigger(d.type,d),l&&(i={type:"selectchanged",escapeConnect:r,selected:(f=[],i.eachSeries(function(n){N(n.getAllData(),function(t){t.data;var e=t.type,t=n.getSelectedDataIndices();0<t.length&&(t={dataIndex:t,seriesIndex:n.seriesIndex},null!=e&&(t.dataType=e),f.push(t))})}),f),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e},t.trigger(i.type,i)))},Qm=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Jm.call(this,n,t)}},tv=function(t){t||this.trigger("updated")},ev=function(e,n){e.on("rendered",function(t){n.trigger("rendered",t),!e.animation.isFinished()||n[Em]||n._scheduler.unfinished||n._pendingActions.length||n.trigger("finished")})},nv=function(t,i){t.on("mouseover",function(t){var e,n=km(t.target,Ch);n&&(xh((e=Nu(n)).seriesIndex,e.focus,e.blurScope,i,!0),_h(n=n,t)||n.__highByOuter||lh(n,eh),hv(i))}).on("mouseout",function(t){var e,n=km(t.target,Ch);n&&(xh((e=Nu(n)).seriesIndex,e.focus,e.blurScope,i,!1),_h(n=n,t)||n.__highByOuter||lh(n,nh),hv(i))}).on("click",function(t){var e=km(t.target,function(t){return null!=Nu(t).dataIndex},!0);e&&(t=e.selected?"unselect":"select",e=Nu(e),i._api.dispatchAction({type:t,dataType:e.dataType,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex,isFromClick:!0}))})},iv=function(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})},ov=function(t,e,n,i){rv(t,e,n,i),Pm(t._chartsViews,function(t){t.__alive=!1}),av(t,e,n,i),Pm(t._chartsViews,function(t){t.__alive||t.remove(e,n)})},rv=function(t,n,i,o,e){Pm(e||t._componentsViews,function(t){var e=t.__model;mv(0,t),t.render(e,n,i,o),yv(e,t),vv(e,t)})},av=function(i,t,e,o,r){var a=i._scheduler,s=i._labelManager;s.clearLabels();var n,l,u,h=!1;t.eachSeries(function(t){var e=i._chartsMap[t.__viewId];e.__alive=!0;var n=e.renderTask;a.updatePayload(n,o),mv(0,e),r&&r.get(t.uid)&&n.dirty(),n.perform(a.getPerformArgs(n))&&(h=!0),e.group.silent=!!t.get("silent"),function(t,e){var n=t.get("blendMode")||null;0;e.group.traverse(function(t){t.isGroup||(t.style.blend=n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.style.blend=n})})}(t,e),bh(t),s.addLabelsOfSeries(e)}),a.unfinished=h||a.unfinished,s.updateLayoutConfig(e),s.layout(e),s.processLabelsOverall(),t.eachSeries(function(t){var e=i._chartsMap[t.__viewId];yv(t,e),vv(t,e)}),l=t,e=(n=i)._zr.storage,u=0,e.traverse(function(t){t.isGroup||u++}),u>l.get("hoverLayerThreshold")&&!v.node&&!v.worker&&l.eachSeries(function(t){t.preventUsingHoverLayer||(t=n._chartsMap[t.__viewId]).__alive&&t.group.traverse(function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)})}),Yg(i._zr.dom,t)},sv=function(e,n){Pm(Cv,function(t){t(e,n)})},hv=function(t){t[zm]=!0,t.getZr().wakeUp()},cv=function(t){t[zm]&&(t.getZr().storage.traverse(function(t){np(t)||gv(t)}),t[zm]=!1)},lv=function(n){return l(t,e=Td),t.prototype.getCoordinateSystems=function(){return n._coordSysMgr.getCoordinateSystems()},t.prototype.getComponentByElement=function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return n._model.getComponent(e.mainType,e.index);t=t.parent}},t.prototype.enterEmphasis=function(t,e){dh(t,e),hv(n)},t.prototype.leaveEmphasis=function(t,e){fh(t,e),hv(n)},t.prototype.enterBlur=function(t){gh(t),hv(n)},t.prototype.leaveBlur=function(t){yh(t),hv(n)},t.prototype.enterSelect=function(t){mh(t),hv(n)},t.prototype.leaveSelect=function(t){vh(t),hv(n)},new t(n);function t(){return null!==e&&e.apply(this,arguments)||this}var e},void(uv=function(i){function o(t,e){for(var n=0;n<t.length;n++){t[n][Vm]=e}}Pm(wv,function(t,e){i._messageCenter.on(e,function(t){var e,n;Lv[i.group]&&0!==i[Vm]&&(t&&t.escapeConnect||(e=i.makeActionFromEvent(t),n=[],Pm(kv,function(t){t!==i&&t.group===i.group&&n.push(t)}),o(n,0),Pm(n,function(t){1!==t[Vm]&&t.dispatchAction(e)}),o(n,2)))})})})),fv);function fv(t,e,n){var i=pv.call(this,new _y)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],n=n||{},"string"==typeof e&&(e=Dv[e]),i._dom=t;var o="canvas";o=i._zr=kl(t,{renderer:n.renderer||o,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});i._throttledZrFlush=Vg(z(o.flush,o),17),(e=I(e))&&$d(e,!0),i._theme=e,i._locale=function(t){if(H(t)){var e=hc[t.toUpperCase()]||{};return t===sc||t===lc?I(e):w(I(e),I(hc[uc]),!1)}return w(I(t),I(hc[uc]),!1)}(n.locale||pc),i._coordSysMgr=new Dd;n=i._api=lv(i);function r(t,e){return t.__prio-e.__prio}return we(Iv,r),we(Sv,r),i._scheduler=new jg(i,n,Sv,Iv),i._messageCenter=new Um,i._labelManager=new $y,i._initEvents(),i.resize=z(i.resize,i),o.animation.on("frame",i._onframe,i),ev(o,i),nv(o,i),at(i),i}function gv(t){for(var e=[],n=t.currentStates,i=0;i<n.length;i++){var o=n[i];"emphasis"!==o&&"blur"!==o&&"select"!==o&&e.push(o)}t.selected&&t.states.select&&e.push("select"),t.hoverState===Hu&&t.states.emphasis?e.push("emphasis"):t.hoverState===Fu&&t.states.blur&&e.push("blur"),t.useStates(e)}function yv(t,e){var i,o;t.preventAutoZ||(i=t.get("z"),o=t.get("zlevel"),e.group.traverse(function(t){var e,n;t.isGroup||(null!=i&&(t.z=i),null!=o&&(t.zlevel=o),n=t.getTextContent(),e=t.getTextGuideLine(),n&&(n.z=t.z,n.zlevel=t.zlevel,n.z2=t.z2+2),e&&(n=t.textGuideLineConfig&&t.textGuideLineConfig.showAbove,e.z=t.z,e.zlevel=t.zlevel,e.z2=t.z2+(n?1:-1)))}))}function mv(t,e){e.group.traverse(function(t){var e,n;np(t)||(e=t.getTextContent(),n=t.getTextGuideLine(),t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null))})}function vv(t,e){var n=t.getModel("stateAnimation"),o=t.isAnimationEnabled(),t=n.get("duration"),r=0<t?{duration:t,delay:n.get("delay"),easing:n.get("easing"),additive:n.get("additive")}:null;e.group.traverse(function(t){var e,n,i;t.states&&t.states.emphasis&&(np(t)||(t instanceof yr&&((i=Bu(n=t)).normalFill=n.style.fill,i.normalStroke=n.style.stroke,n=n.states.select||{},i.selectFill=n.style&&n.style.fill||null,i.selectStroke=n.style&&n.style.stroke||null),!t.__dirty||(e=t.prevStates)&&t.useStates(e),o&&(t.stateTransition=r,n=t.getTextContent(),e=t.getTextGuideLine(),n&&(n.stateTransition=r),e&&(e.stateTransition=r)),t.__dirty&&gv(t)))})}aa=dv.prototype;aa.on=Fm("on"),aa.off=Fm("off"),aa.one=function(i,o,t){var r=this;Ah(),this.on.call(this,i,function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o&&o.apply&&o.apply(this,e),r.off(i,t)},t)};var _v=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function xv(){0}var bv={},wv={},Sv=[],Mv=[],Tv=[],Cv=[],Iv=[],Dv={},Av={},kv={},Lv={},Pv=+new Date,Ov=+new Date,Rv="_echarts_instance_";function Nv(t){Lv[t]=!1}Pi=Nv;function Ev(t){return kv[e=Rv,(t=t).getAttribute?t.getAttribute(e):t[e]];var e}function zv(t,e){Dv[t]=e}function Bv(t){Mv.push(t)}function Vv(t,e){Wv(Sv,t,e,2e3)}function Fv(t,e,n){"function"==typeof e&&(n=e,e="");var i=Rm(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Lm(Bm.test(i)&&Bm.test(e)),bv[i]||(bv[i]={action:n,actionInfo:t}),wv[e]=i}function Hv(t,e){Wv(Iv,t,e,1e3,"layout")}function Gv(t,e){Wv(Iv,t,e,3e3,"visual")}function Wv(t,e,n,i,o){(Om(e)||Rm(e))&&(n=e,e=i);o=jg.wrapStageHandler(n,o);o.__prio=e,o.__raw=n,t.push(o)}function Uv(t,e){Av[t]=e}function Zv(t){return Zp.extend(t)}function Xv(t){return Mg.extend(t)}aa=function(t){var e=(t=I(t)).type,n="";e||kh(n);var i=e.split(":");2!==i.length&&kh(n),"echarts"===i[0]&&(e=i[1]),Gf.set(e,t)};Gv(2e3,Sa),Gv(4500,qh),Gv(4500,Jh),Gv(2e3,Oa),Gv(4500,r),Bv($d),Vv(900,function(t){var i=ht();t.eachSeries(function(t){var e,n=t.get("stack");n&&(e=i.get(n)||i.set(n,[]),(t={stackResultDimension:(n=t.getData()).getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:t}).stackedDimension&&(t.isStackedByIndex||t.stackedByDimension)&&(e.length&&n.setCalculationInfo("stackedOnSeries",e[e.length-1].seriesModel),e.push(t)))}),i.each(Jd)}),Uv("default",function(i,o){A(o=o||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Br,r=new na({style:{fill:o.maskColor},zlevel:o.zlevel,z:1e4});t.add(r);var a,s=o.fontSize+" sans-serif",l=new na({style:{fill:"none"},textContent:new is({style:{text:o.text,fill:o.textColor,font:s}}),textConfig:{position:"right",distance:10},zlevel:o.zlevel,z:10001});return t.add(l),o.showSpinner&&((a=new fs({shape:{startAngle:-qg/2,endAngle:-qg/2+.1,r:o.spinnerRadius},style:{stroke:o.color,lineCap:"round",lineWidth:o.lineWidth},zlevel:o.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*qg/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*qg/2}).delay(300).start("circularInOut"),t.add(a)),t.resize=function(){var t=Mi(o.text,s),e=o.showSpinner?o.spinnerRadius:0,n=(i.getWidth()-2*e-(o.showSpinner&&t?10:0)-t)/2-(o.showSpinner?0:t/2),t=i.getHeight()/2;o.showSpinner&&a.setShape({cx:n,cy:t}),l.setShape({x:n-e,y:t-e,width:2*e,height:2*e}),r.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},t.resize(),t}),Fv({type:Xu,event:Xu,update:Xu},dt),Fv({type:Yu,event:Yu,update:Yu},dt),Fv({type:qu,event:qu,update:qu},dt),Fv({type:ju,event:ju,update:ju},dt),Fv({type:Ku,event:Ku,update:Ku},dt),zv("light",n),zv("dark",Kh);function Yv(t){return t}var qv=(jv.prototype.add=function(t){return this._add=t,this},jv.prototype.update=function(t){return this._update=t,this},jv.prototype.remove=function(t){return this._remove=t,this},jv.prototype.execute=function(){var t,e=this._old,n=this._new,i={},o=[],r=[];for(this._initIndexMap(e,{},o,"_oldKeyGetter"),this._initIndexMap(n,i,r,"_newKeyGetter"),t=0;t<e.length;t++){null!=(a=i[s=o[t]])?((u=a.length)?(1===u&&(i[s]=null),a=a.shift()):i[s]=null,this._update&&this._update(a,t)):this._remove&&this._remove(t)}for(t=0;t<r.length;t++){var a,s=r[t];if(i.hasOwnProperty(s))if(null!=(a=i[s]))if(a.length)for(var l=0,u=a.length;l<u;l++)this._add&&this._add(a[l]);else this._add&&this._add(a)}},jv.prototype._initIndexMap=function(t,e,n,i){for(var o=0;o<t.length;o++){var r="_ec_"+this[i](t[o],o),a=e[r];null==a?(n.push(r),e[r]=o):(a.length||(e[r]=a=[a]),a.push(o))}},jv);function jv(t,e,n,i,o){this._old=t,this._new=e,this._oldKeyGetter=n||Yv,this._newKeyGetter=i||Yv,this.context=o}function Kv(r){var t={},a=t.encode={},s=ht(),l=[],u=[],h=t.userOutput={dimensionNames:r.dimensions.slice(),encode:{}};N(r.dimensions,function(t){var e,n,i=r.getDimensionInfo(t),o=i.coordDim;o&&(e=i.coordDimIndex,$v(a,o)[e]=t,i.isExtraCoord||(s.set(o,1),"ordinal"===(n=i.type)||"time"===n||(l[0]=t),$v(h.encode,o)[e]=i.index),i.defaultTooltip&&u.push(t)),Jp.each(function(t,e){var n=$v(a,e),e=i.otherDims[e];null!=e&&!1!==e&&(n[e]=i.name)})});var i=[],o={};s.each(function(t,e){var n=a[e];o[e]=n[0],i=i.concat(n)}),t.dataDimsOnCoord=i,t.encodeFirstDimNotExtra=o;var e=a.label;e&&e.length&&(l=e.slice());e=a.tooltip;return e&&e.length?u=e.slice():u.length||(u=l.slice()),a.defaultedLabel=l,a.defaultedTooltip=u,t}function $v(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}var Jv,Qv,t_,e_,n_,i_,o_,r_,a_,s_,l_,u_,h_,c_,p_=function(t){this.otherDims={},null!=t&&D(this,t)},d_=Math.floor,f_=U,g_=P,qh="undefined",y_={float:typeof Float64Array==qh?Array:Float64Array,int:typeof Int32Array==qh?Array:Int32Array,ordinal:Array,number:Array,time:Array},m_=typeof Uint32Array==qh?Array:Uint32Array,v_=typeof Int32Array==qh?Array:Int32Array,__=typeof Uint16Array==qh?Array:Uint16Array,x_=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],b_=["_extent","_approximateExtent","_rawExtent"],w_=(S_.prototype.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},S_.prototype.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},S_.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},S_.prototype.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];t=n.encode[t];return t?t[e]:null},S_.prototype.mapDimensionsAll=function(t){return(this._dimensionsSummary.encode[t]||[]).slice()},S_.prototype.initData=function(t,e,n){var i=nf(t)||L(t);i&&(t=new uf(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=Jv[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=Jv.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},S_.prototype.getProvider=function(){return this._rawData},S_.prototype.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);t=e.count();e.persistent||(t+=n),this._initDataFromProvider(n,t,!0)},S_.prototype.appendValues=function(t,e){for(var n=this._storage,i=this.dimensions,o=i.length,r=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e?e.length:0),l=0;l<o;l++){var u=i[l];r[u]||(r[u]=u_()),n_(n,this._dimensionInfos[u],s,!0)}for(var h=g_(i,function(t){return r[t]}),c=this._storageArr=g_(i,function(t){return n[t]}),p=[],d=a;d<s;d++){for(var f=d-a,g=0;g<o;g++){var u=i[g],y=this._dimValueGetterArrayRows(t[f]||p,u,f,g);c[g][d]=y;var m=h[g];y<m[0]&&(m[0]=y),y>m[1]&&(m[1]=y)}e&&(this._nameList[d]=e[f])}this._rawCount=this._count=s,this._extent={},Qv(this)},S_.prototype._initDataFromProvider=function(t,e,n){if(!(e<=t)){var i,o=this._rawData,r=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,u=this._nameList,h=this._idList,c=this._rawExtent;this._nameRepeatCount={};for(var p=0;p<s;p++){var d=a[p];c[d]||(c[d]=u_());var f=l[d];0===f.otherDims.itemName&&(i=this._nameDimIdx=p),0===f.otherDims.itemId&&(this._idDimIdx=p),n_(r,f,e,n)}var g=this._storageArr=g_(a,function(t){return r[t]}),y=g_(a,function(t){return c[t]});if(o.fillStorage)o.fillStorage(t,e,g,y);else for(var m=[],v=t;v<e;v++){m=o.getItem(v,m);for(var _,x,b,w=0;w<s;w++){var d=a[w],S=g[w],M=this._dimValueGetter(m,d,v,w);S[v]=M;S=y[w];M<S[0]&&(S[0]=M),M>S[1]&&(S[1]=M)}o.pure||(x=u[v],m&&null==x&&(null!=m.name?u[v]=x=su(m.name,null):null!=i&&(_=a[i],(b=r[_])&&(x=su((_=l[_].ordinalMeta)&&_.categories.length?_.categories[b[v]]:b[v],null)))),null==(b=null==m?null:su(m.id,null))&&null!=x&&(b=r_(this,x)),null!=b&&(h[v]=b))}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={},Qv(this)}},S_.prototype.count=function(){return this._count},S_.prototype.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){o=new e(n);for(var i=0;i<n;i++)o[i]=t[i]}else o=new e(t.buffer,0,n)}else for(var o=new(e=e_(this))(this.count()),i=0;i<o.length;i++)o[i]=i;return o},S_.prototype.getByDimIdx=function(t,e){if(!(0<=e&&e<this._count))return NaN;t=this._storageArr[t];return t?t[this.getRawIndex(e)]:NaN},S_.prototype.get=function(t,e){if(!(0<=e&&e<this._count))return NaN;t=this._storage[t];return t?t[this.getRawIndex(e)]:NaN},S_.prototype.getByRawIndex=function(t,e){if(!(0<=e&&e<this._rawCount))return NaN;t=this._storage[t];return t?t[e]:NaN},S_.prototype.getValues=function(t,e){var n=[];V(t)||(e=t,t=this.dimensions);for(var i=0,o=t.length;i<o;i++)n.push(this.get(t[i],e));return n},S_.prototype.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},S_.prototype.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=u_();if(!e)return n;var i,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var r=(i=n)[0],a=i[1],s=0;s<o;s++){var l=e[this.getRawIndex(s)];l<r&&(r=l),a<l&&(a=l)}return i=[r,a],this._extent[t]=i},S_.prototype.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},S_.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},S_.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},S_.prototype.setCalculationInfo=function(t,e){f_(t)?D(this._calculationInfo,t):this._calculationInfo[t]=e},S_.prototype.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,i=this.count();n<i;n++){var o=this.get(t,n);isNaN(o)||(e+=o)}return e},S_.prototype.getMedian=function(t){var e=[];this.each(t,function(t){isNaN(t)||e.push(t)});var n=e.sort(function(t,e){return t-e}),t=this.count();return 0===t?0:t%2==1?n[(t-1)/2]:(n[t/2]+n[t/2-1])/2},S_.prototype.rawIndexOf=function(t,e){t=t&&this._invertedIndicesMap[t];e=t[e];return null==e||isNaN(e)?-1:e},S_.prototype.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},S_.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,o=this._count-1;i<=o;){var r=(i+o)/2|0;if(e[r]<t)i=1+r;else{if(!(e[r]>t))return r;o=r-1}}return-1},S_.prototype.indicesOfNearest=function(t,e,n){var i=this._storage[t],o=[];if(!i)return o;null==n&&(n=1/0);for(var r=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var h=e-i[this.getRawIndex(l)],c=Math.abs(h);c<=n&&((c<r||c===r&&0<=h&&a<0)&&(r=c,a=h,s=0),h===a&&(o[s++]=l))}return o.length=s,o},S_.prototype.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},S_.prototype.getName=function(t){t=this.getRawIndex(t);return this._nameList[t]||su(t_(this,this._nameDimIdx,t),"")||""},S_.prototype.getId=function(t){return a_(this,this.getRawIndex(t))},S_.prototype.each=function(t,e,n,i){var o=this;if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]);var r=n||i||this,t=g_(s_(t),this.getDimension,this);0;for(var a=t.length,s=g_(t,function(t){return o._dimensionInfos[t].index}),l=this._storageArr,u=0,h=this.count();u<h;u++){var c=this.getRawIndex(u);switch(a){case 0:e.call(r,u);break;case 1:e.call(r,l[s[0]][c],u);break;case 2:e.call(r,l[s[0]][c],l[s[1]][c],u);break;default:for(var p=0,d=[];p<a;p++)d[p]=l[s[p]][c];d[p]=u,e.apply(r,d)}}}},S_.prototype.filterSelf=function(t,e,n,i){var o=this;if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]);var r=n||i||this,t=g_(s_(t),this.getDimension,this);0;for(var a=this.count(),s=new(e_(this))(a),l=[],u=t.length,h=0,c=g_(t,function(t){return o._dimensionInfos[t].index}),p=c[0],d=this._storageArr,f=0;f<a;f++){var g=void 0,y=this.getRawIndex(f);if(0===u)g=e.call(r,f);else if(1===u)var m=d[p][y],g=e.call(r,m,f);else{for(var v=0;v<u;v++)l[v]=d[c[v]][y];l[v]=f,g=e.apply(r,l)}g&&(s[h++]=y)}return h<a&&(this._indices=s),this._count=h,this._extent={},this.getRawIndex=this._indices?o_:i_,this}},S_.prototype.selectRange=function(t){var e=this,n=this._count;if(n){var i,o=[];for(i in t)t.hasOwnProperty(i)&&o.push(i);0;var r=o.length;if(r){var a=this.count(),s=new(e_(this))(a),l=0,u=o[0],h=g_(o,function(t){return e._dimensionInfos[t].index}),c=t[u][0],p=t[u][1],d=this._storageArr,u=!1;if(!this._indices){var f=0;if(1===r){for(var g=d[h[0]],y=0;y<n;y++){(c<=(x=g[y])&&x<=p||isNaN(x))&&(s[l++]=f),f++}u=!0}else if(2===r){for(var g=d[h[0]],m=d[h[1]],v=t[o[1]][0],_=t[o[1]][1],y=0;y<n;y++){var x=g[y],b=m[y];(c<=x&&x<=p||isNaN(x))&&(v<=b&&b<=_||isNaN(b))&&(s[l++]=f),f++}u=!0}}if(!u)if(1===r)for(y=0;y<a;y++){var w=this.getRawIndex(y);(c<=(x=d[h[0]][w])&&x<=p||isNaN(x))&&(s[l++]=w)}else for(y=0;y<a;y++){for(var S=!0,w=this.getRawIndex(y),M=0;M<r;M++){var T=o[M];((x=d[h[M]][w])<t[T][0]||x>t[T][1])&&(S=!1)}S&&(s[l++]=this.getRawIndex(y))}return l<a&&(this._indices=s),this._count=l,this._extent={},this.getRawIndex=this._indices?o_:i_,this}}},S_.prototype.mapArray=function(t,e,n,i){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},n),o},S_.prototype.map=function(t,e,n,i){var o=n||i||this,r=g_(s_(t),this.getDimension,this);var t=l_(this,r),a=t._storage;t._indices=this._indices,t.getRawIndex=t._indices?o_:i_;for(var s=[],l=r.length,u=this.count(),h=[],c=t._rawExtent,p=0;p<u;p++){for(var d=0;d<l;d++)h[d]=this.get(r[d],p);h[l]=p;var f=e&&e.apply(o,h);if(null!=f){"object"!=typeof f&&(s[0]=f,f=s);for(var g=this.getRawIndex(p),y=0;y<f.length;y++){var m=r[y],v=f[y],_=c[m],m=a[m];m&&(m[g]=v),v<_[0]&&(_[0]=v),v>_[1]&&(_[1]=v)}}}return t},S_.prototype.downSample=function(t,e,n,i){for(var o=l_(this,[t]),r=o._storage,a=[],s=d_(1/e),l=r[t],u=this.count(),h=o._rawExtent[t],c=new(e_(this))(u),p=0,d=0;d<u;d+=s){u-d<s&&(s=u-d,a.length=s);for(var f=0;f<s;f++){var g=this.getRawIndex(d+f);a[f]=l[g]}var y=n(a),m=this.getRawIndex(Math.min(d+i(a,y)||0,u-1));(l[m]=y)<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),c[p++]=m}return o._count=p,o._indices=c,o.getRawIndex=o_,o},S_.prototype.lttbDownSample=function(t,e){var n,i=l_(this,[]),o=i._storage[t],r=this.count(),a=new(e_(this))(r),s=0,l=d_(1/e),u=this.getRawIndex(0);a[s++]=u;for(var h=1;h<r-1;h+=l){for(var c=Math.min(h+l,r-1),p=Math.min(h+2*l,r),d=(p+c)/2,f=0,g=c;g<p;g++){var y=o[w=this.getRawIndex(g)];isNaN(y)||(f+=y)}f/=p-c;for(var c=h,m=Math.min(h+l,r),v=h-1,_=o[u],x=-1,b=c,g=c;g<m;g++){var w,y=o[w=this.getRawIndex(g)];isNaN(y)||x<(n=Math.abs((v-d)*(y-_)-(v-g)*(f-_)))&&(x=n,b=w)}u=a[s++]=b}return a[s++]=this.getRawIndex(r-1),i._count=s,i._indices=a,i.getRawIndex=o_,i},S_.prototype.getItemModel=function(t){var e=this.hostModel,t=this.getRawDataItem(t);return new nc(t,e,e&&e.ecModel)},S_.prototype.diff=function(e){var n=this;return new qv(e?e.getIndices():[],this.getIndices(),function(t){return a_(e,t)},function(t){return a_(n,t)})},S_.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},S_.prototype.setVisual=function(t,e){this._visual=this._visual||{},f_(t)?D(this._visual,t):this._visual[t]=e},S_.prototype.getItemVisual=function(t,e){t=this._itemVisuals[t],t=t&&t[e];return null==t?this.getVisual(e):t},S_.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t],t=(i=i||(n[t]={}))[e];return t||(V(t=this.getVisual(e))?t=t.slice():f_(t)&&(t=D({},t)),i[e]=t),t},S_.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,f_(e)?D(i,e):i[e]=n},S_.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},S_.prototype.setLayout=function(t,e){if(f_(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},S_.prototype.getLayout=function(t){return this._layout[t]},S_.prototype.getItemLayout=function(t){return this._itemLayouts[t]},S_.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?D(this._itemLayouts[t]||{},e):e},S_.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},S_.prototype.setItemGraphicEl=function(t,e){var n,i=this.hostModel;e&&((n=Nu(e)).dataIndex=t,n.dataType=this.dataType,n.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(h_,e)),this._graphicEls[t]=e},S_.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},S_.prototype.eachItemGraphicEl=function(n,i){N(this._graphicEls,function(t,e){t&&n&&n.call(i,t,e)})},S_.prototype.cloneShallow=function(t){if((t=t||new S_(g_(this.dimensions,this.getDimensionInfo,this),this.hostModel))._storage=this._storage,t._storageArr=this._storageArr,c_(t,this),this._indices){var e=this._indices.constructor;if(e===Array){var n=this._indices.length;t._indices=new e(n);for(var i=0;i<n;i++)t._indices[i]=this._indices[i]}else t._indices=new e(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?o_:i_,t},S_.prototype.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(et(arguments)))})},S_.internalField=(Jv={arrayRows:M_,objectRows:function(t,e,n,i){return Rf(t[e],this._dimensionInfos[e])},keyedColumns:M_,original:function(t,e,n,i){var o=t&&(null==t.value?t:t.value);return this._rawData.pure||(!U(t=t)||t instanceof Array)||(this.hasItemOption=!0),Rf(o instanceof Array?o[i]:o,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}},Qv=function(o){var r=o._invertedIndicesMap;N(r,function(t,e){var n=o._dimensionInfos[e].ordinalMeta;if(n){t=r[e]=new v_(n.categories.length);for(var i=0;i<t.length;i++)t[i]=-1;for(i=0;i<o._count;i++)t[o.get(e,i)]=i}})},t_=function(t,e,n){var i,o;return null!=e&&(o=t.dimensions[e],(e=t._storage[o])&&(i=e[n],(o=t._dimensionInfos[o].ordinalMeta)&&o.categories.length&&(i=o.categories[i]))),i},e_=function(t){return 65535<t._rawCount?m_:__},n_=function(t,e,n,i){var o=y_[e.type],e=e.name;if(i){var r=t[e],a=r&&r.length;if(a!==n){for(var s=new o(n),l=0;l<a;l++)s[l]=r[l];t[e]=s}}else t[e]=new o(n)},i_=function(t){return t},o_=function(t){return t<this._count&&0<=t?this._indices[t]:-1},r_=function(t,e){var n=t._nameRepeatCount;n[e]=n[e]||0;t=e;return 0<n[e]&&(t+="__ec__"+n[e]),n[e]++,t},a_=function(t,e){var n=t._idList[e];return null==n&&(n=su(t_(t,t._idDimIdx,e),null)),null==n&&(null!=(n=su(t_(t,t._nameDimIdx,e),null))?(n=r_(t,n),t._idList[e]=n):n="e\0\0"+e),n},s_=function(t){return V(t)||(t=[t]),t},l_=function(t,e){var n=t.dimensions,i=new S_(g_(n,t.getDimensionInfo,t),t.hostModel);c_(i,t);for(var o,r,a=i._storage={},s=t._storage,l=i._storageArr=[],u=0;u<n.length;u++){var h=n[u];s[h]&&(0<=k(e,h)?(a[h]=(o=s[h],r=void 0,(r=o.constructor)===Array?o.slice():new r(o)),i._rawExtent[h]=u_(),i._extent[h]=null):a[h]=s[h],l.push(a[h]))}return i},u_=function(){return[1/0,-1/0]},h_=function(t){var e=Nu(t),t=Nu(this);e.seriesIndex=t.seriesIndex,e.dataIndex=t.dataIndex,e.dataType=t.dataType},void(c_=function(e,n){N(x_.concat(n.__wrappedMethods||[]),function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e.__wrappedMethods=n.__wrappedMethods,N(b_,function(t){e[t]=I(n[t])}),e._calculationInfo=D({},n._calculationInfo)})),S_);function S_(t,e){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=i_,t=t||["x","y"];for(var n={},i=[],o={},r=0;r<t.length;r++){var a=t[r],s=H(a)?new p_({name:a}):a instanceof p_?a:new p_(a),a=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=a,s.coordDimIndex=0),s.otherDims=s.otherDims||{},i.push(a),(n[a]=s).index=r,s.createInvertedIndices&&(o[a]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this._dimensionsSummary=Kv(this),this._invertedIndicesMap=o,this.userOutput=this._dimensionsSummary.userOutput}function M_(t,e,n,i){return Rf(t[i],this._dimensionInfos[e])}function T_(t,e,n){nf(e)||(e=rf(e)),n=n||{},t=(t||[]).slice();for(var i,o,r,a,s=(n.dimsDef||[]).slice(),l=ht(),u=ht(),h=[],c=(i=e,y=t,o=s,r=n.dimCount,a=Math.max(i.dimensionsDetectedCount||1,y.length,o.length,r||0),N(y,function(t){var e;U(t)&&(e=t.dimsDef)&&(a=Math.max(a,e.length))}),a),p=0;p<c;p++){var d=s[p],f=s[p]=D({},U(d)?d:{name:d}),d=f.name,g=h[p]=new p_;null!=d&&null==l.get(d)&&(g.name=g.displayName=d,l.set(d,p)),null!=f.type&&(g.type=f.type),null!=f.displayName&&(g.displayName=f.displayName)}var y=n.encodeDef;!y&&n.encodeDefaulter&&(y=n.encodeDefaulter(e,c));var m=ht(y);m.each(function(t,n){var i,t=tu(t).slice();1===t.length&&!H(t[0])&&t[0]<0?m.set(n,!1):(i=m.set(n,[]),N(t,function(t,e){t=H(t)?l.get(t):t;null!=t&&t<c&&(i[e]=t,_(h[t],n,e))}))});var v=0;function _(t,e,n){null!=Jp.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,u.set(e,!0))}N(t,function(t){var n,i,o,r;H(t)?(n=t,r={}):(n=(r=t).name,t=r.ordinalMeta,r.ordinalMeta=null,(r=I(r)).ordinalMeta=t,i=r.dimsDef,o=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null);var e=m.get(n);if(!1!==e){if(!(e=tu(e)).length)for(var a=0;a<(i&&i.length||1);a++){for(;v<h.length&&null!=h[v].coordDim;)v++;v<h.length&&e.push(v++)}N(e,function(t,e){t=h[t];_(A(t,r),n,e),null==t.name&&i&&(U(e=i[e])||(e={name:e}),t.name=t.displayName=e.name,t.defaultTooltip=e.defaultTooltip),o&&A(t.otherDims,o)})}});for(var x,b,w=n.generateCoord,S=null!=(M=n.generateCoordCount),M=w?M||1:0,T=w||"value",C=0;C<c;C++){null==(g=h[C]=h[C]||new p_).coordDim&&(g.coordDim=C_(T,u,S),g.coordDimIndex=0,(!w||M<=0)&&(g.isExtraCoord=!0),M--),null==g.name&&(g.name=C_(g.coordDim,l,!1)),null==g.type&&(b=C,dd((x=e).data,x.sourceFormat,x.seriesLayoutBy,x.dimensionsDefine,x.startIndex,b)===sd.Must||g.isExtraCoord&&(null!=g.otherDims.itemName||null!=g.otherDims.seriesName))&&(g.type="ordinal")}return h}function C_(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function I_(t,e){return T_((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}var D_=function(t){this.coordSysDims=[],this.axisMap=ht(),this.categoryAxisMap=ht(),this.coordSysName=t};var A_={cartesian2d:function(t,e,n,i){var o=t.getReferringComponents("xAxis",yu).models[0],t=t.getReferringComponents("yAxis",yu).models[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",t),k_(o)&&(i.set("x",o),e.firstCategoryDimIndex=0),k_(t)&&(i.set("y",t),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){t=t.getReferringComponents("singleAxis",yu).models[0];e.coordSysDims=["single"],n.set("single",t),k_(t)&&(i.set("single",t),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var o=t.getReferringComponents("polar",yu).models[0],t=o.findAxisModel("radiusAxis"),o=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",t),n.set("angle",o),k_(t)&&(i.set("radius",t),e.firstCategoryDimIndex=0),k_(o)&&(i.set("angle",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,i,o,r){var a=t.ecModel,t=a.getComponent("parallel",t.get("parallelIndex")),s=i.coordSysDims=t.dimensions.slice();N(t.parallelAxisIndex,function(t,e){var n=a.getComponent("parallelAxis",t),t=s[e];o.set(t,n),k_(n)&&null==i.firstCategoryDimIndex&&(r.set(t,n),i.firstCategoryDimIndex=e)})}};function k_(t){return"category"===t.get("type")}function L_(t,n,e){var i,o,r,a,s,l,u=(e=e||{}).byIndex,h=e.stackedCoordDimension,c=!(!t||!t.get("stack"));return N(n,function(t,e){H(t)&&(n[e]=t={name:t}),c&&!t.isExtraCoord&&(u||i||!t.ordinalMeta||(i=t),o||"ordinal"===t.type||"time"===t.type||h&&h!==t.coordDim||(o=t))}),!o||u||i||(u=!0),o&&(r="__\0ecstackresult",a="__\0ecstackedover",i&&(i.createInvertedIndices=!0),s=o.coordDim,t=o.type,l=0,N(n,function(t){t.coordDim===s&&l++}),n.push({name:r,coordDim:s,coordDimIndex:l,type:t,isExtraCoord:!0,isCalculationCoord:!0}),l++,n.push({name:a,coordDim:a,coordDimIndex:l,type:t,isExtraCoord:!0,isCalculationCoord:!0})),{stackedDimension:o&&o.name,stackedByDimension:i&&i.name,isStackedByIndex:u,stackedOverDimension:a,stackResultDimension:r}}function P_(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function O_(t,e){return P_(t,e)?t.getCalculationInfo("stackResultDimension"):e}function R_(t,e,n){n=n||{},nf(t)||(t=rf(t));var i=e.get("coordinateSystem"),i=Dd.get(i),o=function(t){var e=t.get("coordinateSystem"),n=new D_(e);if(e=A_[e])return e(t,n,n.axisMap,n.categoryAxisMap),n}(e);o&&o.coordSysDims&&(s=P(o.coordSysDims,function(t){var e={name:t},t=o.axisMap.get(t);return t&&(t=t.get("type"),e.type="category"===(t=t)?"ordinal":"time"===t?"time":"float"),e})),s=s||(i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]);var r,a,i=n.useEncodeDefaulter,i=I_(t,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefaulter:F(i)?i:i?B(hd,s,e):null});o&&N(i,function(t,e){var n=t.coordDim,n=o.categoryAxisMap.get(n);n&&(null==r&&(r=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(a=!0)}),a||null==r||(i[r].otherDims.itemName=0);var s=L_(e,i),e=new w_(i,e);e.setCalculationInfo(s);s=null!=r&&function(t){if(t.sourceFormat===Qp){t=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=t&&!V(iu(t))}}(t)?function(t,e,n,i){return i===r?n:this.defaultDimValueGetter(t,e,n,i)}:null;return e.hasItemOption=!1,e.initData(t,null,s),e}var N_=(E_.prototype.getSetting=function(t){return this._setting[t]},E_.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},E_.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},E_.prototype.getExtent=function(){return this._extent.slice()},E_.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},E_.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},E_.prototype.isBlank=function(){return this._isBlank},E_.prototype.setBlank=function(t){this._isBlank=t},E_);function E_(t){this._setting=t||{},this._extent=[1/0,-1/0]}ku(N_,{registerWhenExtend:!0});var z_=(B_.createByAxisModel=function(t){var e=t.option,t=e.data,t=t&&P(t,V_);return new B_({categories:t,needCollect:!t,deduplication:!1!==e.dedplication})},B_.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},B_.prototype.parseAndCollect=function(t){var e=this._needCollect;if("string"!=typeof t&&!e)return t;if(e&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var n,i=this._getOrCreateMap();return null==(n=i.get(t))&&(e?(n=this.categories.length,this.categories[n]=t,i.set(t,n)):n=NaN),n},B_.prototype._getOrCreateMap=function(){return this._map||(this._map=ht(this.categories))},B_);function B_(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}function V_(t){return U(t)&&null!=t.value?t.value:t+""}var F_=Nl;function H_(t,e,n,i){var o={},r=t[1]-t[0],e=o.interval=Yl(r/e,!0);null!=n&&e<n&&(e=o.interval=n),null!=i&&i<e&&(e=o.interval=i);i=o.intervalPrecision=G_(e),i=o.niceTickExtent=[F_(Math.ceil(t[0]/e)*e,i),F_(Math.floor(t[1]/e)*e,i)];return i=i,t=t,isFinite(i[0])||(i[0]=t[0]),isFinite(i[1])||(i[1]=t[1]),W_(i,0,t),W_(i,1,t),i[0]>i[1]&&(i[0]=i[1]),o}function G_(t){return Bl(t)+2}function W_(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function U_(t,e){return t>=e[0]&&t<=e[1]}function Z_(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function X_(t,e){return t*(e[1]-e[0])+e[0]}var Y_,q_=(l(j_,Y_=N_),j_.prototype.parse=function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},j_.prototype.contain=function(t){return U_(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},j_.prototype.normalize=function(t){return Z_(t=this.getCategoryIndex(this.parse(t)),this._extent)},j_.prototype.scale=function(t){return t=this.getCategoryIndex(t),Math.round(X_(t,this._extent))},j_.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:this.getCategoryIndex(n)}),n++;return t},j_.prototype.getMinorTicks=function(t){},j_.prototype.setCategorySortInfo=function(t){this._categorySortInfo=t},j_.prototype.getCategorySortInfo=function(){return this._categorySortInfo},j_.prototype.getCategoryIndex=function(t){return this._categorySortInfo.length?this._categorySortInfo[t].beforeSortIndex:t},j_.prototype.getRawIndex=function(t){return this._categorySortInfo.length?this._categorySortInfo[t].ordinalNumber:t},j_.prototype.getLabel=function(t){if(!this.isBlank()){t=this.getRawIndex(t.value),t=this._ordinalMeta.categories[t];return null==t?"":t+""}},j_.prototype.count=function(){return this._extent[1]-this._extent[0]+1},j_.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},j_.prototype.isInExtentRange=function(t){return t=this.getCategoryIndex(t),this._extent[0]<=t&&this._extent[1]>=t},j_.prototype.getOrdinalMeta=function(){return this._ordinalMeta},j_.prototype.niceTicks=function(){},j_.prototype.niceExtent=function(){},j_.type="ordinal",j_);function j_(t){var e=Y_.call(this,t)||this;e.type="ordinal";t=e.getSetting("ordinalMeta");return t&&!V(t)||(t=new z_({categories:t})),e._ordinalMeta=t,e._categorySortInfo=[],e._extent=e.getSetting("extent")||[0,t.categories.length-1],e}N_.registerClass(q_);var K_,$_=Nl,J_=(l(Q_,K_=N_),Q_.prototype.parse=function(t){return t},Q_.prototype.contain=function(t){return U_(t,this._extent)},Q_.prototype.normalize=function(t){return Z_(t,this._extent)},Q_.prototype.scale=function(t){return X_(t,this._extent)},Q_.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},Q_.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},Q_.prototype.getInterval=function(){return this._interval},Q_.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=G_(t)},Q_.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,o=this._intervalPrecision,r=[];if(!e)return r;n[0]<i[0]&&(t?r.push({value:$_(i[0]-e,o)}):r.push({value:n[0]}));for(var a=i[0];a<=i[1]&&(r.push({value:a}),(a=$_(a+e,o))!==r[r.length-1].value);)if(1e4<r.length)return[];var s=r.length?r[r.length-1].value:i[1];return n[1]>s&&(t?r.push({value:$_(s+e,o)}):r.push({value:n[1]})),r},Q_.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),o=1;o<e.length;o++){for(var r=e[o],a=e[o-1],s=0,l=[],u=(r.value-a.value)/t;s<t-1;){var h=$_(a.value+(s+1)*u);h>i[0]&&h<i[1]&&l.push(h),s++}n.push(l)}return n},Q_.prototype.getLabel=function(t,e){if(null==t)return"";e=e&&e.precision;return null==e?e=Bl(t.value)||0:"auto"===e&&(e=this._intervalPrecision),gp($_(t.value,e,!0))},Q_.prototype.niceTicks=function(t,e,n){t=t||5;var i=this._extent,o=i[1]-i[0];isFinite(o)&&(o<0&&i.reverse(),n=H_(i,t,e,n),this._intervalPrecision=n.intervalPrecision,this._interval=n.interval,this._niceExtent=n.niceTickExtent)},Q_.prototype.niceExtent=function(t){var e=this._extent;e[0]===e[1]&&(0!==e[0]?(n=e[0],t.fixMax||(e[1]+=n/2),e[0]-=n/2):e[1]=1);var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);n=this._interval;t.fixMin||(e[0]=$_(Math.floor(e[0]/n)*n)),t.fixMax||(e[1]=$_(Math.ceil(e[1]/n)*n))},Q_.type="interval",Q_);function Q_(){var t=null!==K_&&K_.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}N_.registerClass(J_);var tx="__ec_stack_",ex="undefined"!=typeof Float32Array?Float32Array:Array;function nx(t){return t.get("stack")||tx+t.seriesIndex}function ix(t){return t.dim+t.index}function ox(t,e){var n=[];return e.eachSeriesByType(t,function(t){sx(t)&&!lx(t)&&n.push(t)}),n}function rx(t){var l=function(t){var l={};N(t,function(t){var e=t.coordinateSystem.getBaseAxis();if("time"===e.type||"value"===e.type)for(var n=t.getData(),i=e.dim+"_"+e.index,o=n.mapDimension(e.dim),r=0,a=n.count();r<a;++r){var s=n.get(o,r);l[i]?l[i].push(s):l[i]=[s]}});var e,n={};for(e in l)if(l.hasOwnProperty(e)){var i=l[e];if(i){i.sort(function(t,e){return t-e});for(var o=null,r=1;r<i.length;++r){var a=i[r]-i[r-1];0<a&&(o=null===o?a:Math.min(o,a))}n[e]=o}}return n}(t),u=[];return N(t,function(t){var e,n=t.coordinateSystem.getBaseAxis(),i=n.getExtent();e="category"===n.type?n.getBandWidth():"value"===n.type||"time"===n.type?(o=n.dim+"_"+n.index,r=l[o],a=Math.abs(i[1]-i[0]),e=n.scale.getExtent(),o=Math.abs(e[1]-e[0]),r?a/o*r:a):(s=t.getData(),Math.abs(i[1]-i[0])/s.count());var o=Rl(t.get("barWidth"),e),r=Rl(t.get("barMaxWidth"),e),a=Rl(t.get("barMinWidth")||1,e),i=t.get("barGap"),s=t.get("barCategoryGap");u.push({bandWidth:e,barWidth:o,barMaxWidth:r,barMinWidth:a,barGap:i,barCategoryGap:s,axisKey:ix(n),stackId:nx(t)})}),function(t){var a={};N(t,function(t,e){var n=t.axisKey,i=t.bandWidth,o=a[n]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},r=o.stacks;a[n]=o;i=t.stackId;r[i]||o.autoWidthCount++,r[i]=r[i]||{width:0,maxWidth:0};n=t.barWidth;n&&!r[i].width&&(r[i].width=n,n=Math.min(o.remainedWidth,n),o.remainedWidth-=n);n=t.barMaxWidth;n&&(r[i].maxWidth=n);n=t.barMinWidth;n&&(r[i].minWidth=n);n=t.barGap;null!=n&&(o.gap=n);t=t.barCategoryGap;null!=t&&(o.categoryGap=t)});var d={};return N(a,function(t,n){d[n]={};var e,i=t.stacks,o=t.bandWidth,r=t.categoryGap;null==r&&(e=E(i).length,r=Math.max(35-4*e,15)+"%");var r=Rl(r,o),a=Rl(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-r)/(l+(l-1)*a),u=Math.max(u,0);N(i,function(t){var e,n=t.maxWidth,i=t.minWidth;t.width?(e=t.width,n&&(e=Math.min(e,n)),i&&(e=Math.max(e,i)),t.width=e,s-=e+a*e,l--):(e=u,n&&n<e&&(e=Math.min(n,s)),i&&e<i&&(e=i),e!==u&&(t.width=e,s-=e+a*e,l--))}),u=(s-r)/(l+(l-1)*a),u=Math.max(u,0);var h,c=0;N(i,function(t,e){t.width||(t.width=u),c+=(h=t).width*(1+a)}),h&&(c-=h.width*a);var p=-c/2;N(i,function(t,e){d[n][e]=d[n][e]||{bandWidth:o,offset:p,width:t.width},p+=t.width*(1+a)})}),d}(u)}function ax(t,e,n){if(t&&e){e=t[ix(e)];return null!=e&&null!=n?e[nx(n)]:e}}Jh={seriesType:"bar",plan:Cg(),reset:function(t){if(sx(t)&&lx(t)){var e=t.getData(),c=t.coordinateSystem,p=c.master.getRect(),n=c.getBaseAxis(),d=c.getOtherAxis(n),f=e.mapDimension(d.dim),g=e.mapDimension(n.dim),y=d.isHorizontal(),m=y?0:1,v=ax(rx([t]),n,t).width;return.5<v||(v=.5),{progress:function(t,e){for(var n,i=t.count,o=new ex(2*i),r=new ex(2*i),a=new ex(i),s=[],l=[],u=0,h=0;null!=(n=t.next());)l[m]=e.get(f,n),l[1-m]=e.get(g,n),s=c.dataToPoint(l,null,s),r[u]=y?p.x+p.width:s[0],o[u++]=s[0],r[u]=y?s[1]:p.y+p.height,o[u++]=s[1],a[h++]=n;e.setLayout({largePoints:o,largeDataIndices:a,largeBackgroundPoints:r,barWidth:v,valueAxisStart:ux(0,d),backgroundStart:y?p.x:p.y,valueAxisHorizontal:y})}}}}};function sx(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function lx(t){return t.pipelineContext&&t.pipelineContext.large}function ux(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var hx,cx=(l(px,hx=J_),px.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Mc(t.value,_c[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Sc(this._minLevelUnit))]||_c.second,e)},px.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting("useUTC");return function(t,e,n,i,o){var r=null;if("string"==typeof n)r=n;else if("function"==typeof n)r=n(t.value,e,{level:t.level});else{var a=D({},vc);if(0<t.level)for(var s=0;s<xc.length;++s)a[xc[s]]="{primary|"+a[xc[s]]+"}";var l=n?!1===n.inherit?n:A(n,a):a,u=Tc(t.value,o);if(l[u])r=l[u];else if(l.inherit){for(s=bc.indexOf(u)-1;0<=s;--s)if(l[u]){r=l[u];break}r=r||a.none}V(r)&&(n=null==t.level?0:0<=t.level?t.level:r.length+t.level,r=r[n=Math.min(n,r.length-1)])}return Mc(new Date(t.value),r,i,o)}(t,e,n,this.getSetting("locale"),i)},px.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=[];if(!e)return i;i.push({value:n[0],level:0});e=this.getSetting("useUTC"),e=function(t,d,f,g){var e=bc,n=0;function i(t,e,n){var i=[],o=!e.length;if(!function(t,e,n,i){function o(t){return Cc(c,t,i)===Cc(p,t,i)}function r(){return o("year")}function a(){return r()&&o("month")}function s(){return a()&&o("day")}function l(){return s()&&o("hour")}function u(){return l()&&o("minute")}function h(){return u()&&o("second")}var c=Ul(e),p=Ul(n);switch(t){case"year":return r();case"month":return a();case"day":return s();case"hour":return l();case"minute":return u();case"second":return h();case"millisecond":return h()&&o("millisecond")}}(Sc(t),g[0],g[1],f)){o&&(e=[{value:function(t,e,n){t=new Date(t);switch(Sc(e)){case"year":case"month":t[Rc(n)](0);case"day":t[Nc(n)](1);case"hour":t[Ec(n)](0);case"minute":t[zc(n)](0);case"second":t[Bc(n)](0),t[Vc(n)](0)}return t.getTime()}(new Date(g[0]),t,f)},{value:g[1]}]);for(var r,a,s=0;s<e.length-1;s++){var l=e[s].value,u=e[s+1].value;if(l!==u){var h=void 0,c=void 0,p=void 0;switch(t){case"year":h=Math.max(1,Math.round(d/mc/365)),c=Ic(f),p=f?"setUTCFullYear":"setFullYear";break;case"half-year":case"quarter":case"month":a=d,h=6<(a/=30*mc)?6:3<a?3:2<a?2:1,c=Dc(f),p=Rc(f);break;case"week":case"half-week":case"day":r=d,h=16<(r/=mc)?16:7.5<r?7:3.5<r?4:1.5<r?2:1,c=Ac(f),p=Nc(f),0;break;case"half-day":case"quarter-day":case"hour":r=d,h=12<(r/=yc)?12:6<r?6:3.5<r?4:2<r?2:1,c=kc(f),p=Ec(f);break;case"minute":h=fx(d,!0),c=Lc(f),p=zc(f);break;case"second":h=fx(d,!1),c=Pc(f),p=Bc(f);break;case"millisecond":h=Yl(d,!0),c=Oc(f),p=Vc(f)}!function(t,e,n,i,o,r){for(var a=new Date(e),s=e,l=a[i]();s<n&&s<=g[1];)r.push({value:s}),l+=t,a[o](l),s=a.getTime();r.push({value:s,notAdd:!0})}(h,l,u,c,p,i),"year"===t&&1<n.length&&0===s&&n.unshift({value:n[0].value-h})}}for(s=0;s<i.length;s++)n.push(i[s]);return 1}}for(var o=[],r=[],a=0,s=0,l=0;l<e.length&&n++<1e4;++l){var u=Sc(e[l]);if(function(t){return t===Sc(t)}(e[l])){i(e[l],o[o.length-1]||[],r);var h=e[l+1]?Sc(e[l+1]):null;if(u!==h){if(r.length){s=a,r.sort(function(t,e){return t.value-e.value});for(var c=[],p=0;p<r.length;++p){var y=r[p].value;0!==p&&r[p-1].value===y||(c.push(r[p]),y>=g[0]&&y<=g[1]&&a++)}h=(g[1]-g[0])/d;if(1.5*h<a&&h/1.5<s)break;if(o.push(c),h<a||t===e[l])break}r=[]}}}0;for(var m=R(P(o,function(t){return R(t,function(t){return t.value>=g[0]&&t.value<=g[1]&&!t.notAdd})}),function(t){return 0<t.length}),v=[],_=m.length-1,l=0;l<m.length;++l)for(var x=m[l],b=0;b<x.length;++b)v.push({value:x[b].value,level:_-l});v.sort(function(t,e){return t.value-e.value});for(var w=[],l=0;l<v.length;++l)0!==l&&v[l].value===v[l-1].value||w.push(v[l]);return w}(this._minLevelUnit,this._approxInterval,e,n);return(i=i.concat(e)).push({value:n[1],level:0}),i},px.prototype.niceExtent=function(t){var e,n=this._extent;n[0]===n[1]&&(n[0]-=mc,n[1]+=mc),n[1]===-1/0&&n[0]===1/0&&(e=new Date,n[1]=+new Date(e.getFullYear(),e.getMonth(),e.getDate()),n[0]=n[1]-mc),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},px.prototype.niceTicks=function(t,e,n){t=t||10;var i=this._extent,i=i[1]-i[0];this._approxInterval=i/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);n=dx.length,n=Math.min(function(t,e,n,i){for(;n<i;){var o=n+i>>>1;t[o][1]<e?n=1+o:i=o}return n}(dx,this._approxInterval,0,n),n-1);this._interval=dx[n][1],this._minLevelUnit=dx[Math.max(n-1,0)][0]},px.prototype.parse=function(t){return"number"==typeof t?t:+Ul(t)},px.prototype.contain=function(t){return U_(this.parse(t),this._extent)},px.prototype.normalize=function(t){return Z_(this.parse(t),this._extent)},px.prototype.scale=function(t){return X_(t,this._extent)},px.type="time",px);function px(){var t=null!==hx&&hx.apply(this,arguments)||this;return t.type="time",t}var dx=[["second",fc],["minute",gc],["hour",yc],["quarter-day",6*yc],["half-day",12*yc],["day",1.2*mc],["half-week",3.5*mc],["week",7*mc],["month",31*mc],["quarter",95*mc],["half-year",$i/2],["year",$i]];function fx(t,e){return 30<(t/=e?gc:fc)?30:20<t?20:15<t?15:10<t?10:5<t?5:2<t?2:1}N_.registerClass(cx);var gx,yx=N_.prototype,mx=J_.prototype,vx=Bl,_x=Nl,xx=Math.floor,bx=Math.ceil,Sx=Math.pow,Mx=Math.log,Tx=(l(Cx,gx=N_),Cx.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent();return P(mx.getTicks.call(this,t),function(t){var e=t.value,t=Nl(Sx(this.base,e)),t=e===n[0]&&this._fixMin?Ix(t,i[0]):t;return{value:t=e===n[1]&&this._fixMax?Ix(t,i[1]):t}},this)},Cx.prototype.setExtent=function(t,e){var n=this.base;t=Mx(t)/Mx(n),e=Mx(e)/Mx(n),mx.setExtent.call(this,t,e)},Cx.prototype.getExtent=function(){var t=this.base,e=yx.getExtent.call(this);e[0]=Sx(t,e[0]),e[1]=Sx(t,e[1]);t=this._originalScale.getExtent();return this._fixMin&&(e[0]=Ix(e[0],t[0])),this._fixMax&&(e[1]=Ix(e[1],t[1])),e},Cx.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Mx(t[0])/Mx(e),t[1]=Mx(t[1])/Mx(e),yx.unionExtent.call(this,t)},Cx.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},Cx.prototype.niceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n==1/0||n<=0)){var i=Zl(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;e=[Nl(bx(e[0]/i)*i),Nl(xx(e[1]/i)*i)];this._interval=i,this._niceExtent=e}},Cx.prototype.niceExtent=function(t){mx.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},Cx.prototype.parse=function(t){return t},Cx.prototype.contain=function(t){return U_(t=Mx(t)/Mx(this.base),this._extent)},Cx.prototype.normalize=function(t){return Z_(t=Mx(t)/Mx(this.base),this._extent)},Cx.prototype.scale=function(t){return t=X_(t,this._extent),Sx(this.base,t)},Cx.type="log",Cx);function Cx(){var t=null!==gx&&gx.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new J_,t._interval=0,t}Oa=Tx.prototype;function Ix(t,e){return _x(t,vx(e))}Oa.getMinorTicks=mx.getMinorTicks,Oa.getLabel=mx.getLabel,N_.registerClass(Tx);var Dx=(Ax.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);F(o)?this._modelMinNum=Ox(t,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=Ox(t,o));o=this._modelMaxRaw=e.get("max",!0);F(o)?this._modelMaxNum=Ox(t,o({min:n[0],max:n[1]})):"dataMax"!==o&&(this._modelMaxNum=Ox(t,o)),i?this._axisDataLen=e.getCategories().length:"boolean"==typeof(e=V(e=e.get("boundaryGap"))?e:[e||0,e||0])[0]||"boolean"==typeof e[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[ki(e[0],1),ki(e[1],1)]},Ax.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,r=t?null:n-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=t?i?0:NaN:e-o[0]*r),null==s&&(s=t?i?i-1:NaN:n+o[1]*r),null!=a&&isFinite(a)||(a=NaN),null!=s&&isFinite(s)||(s=NaN),s<a&&(s=a=NaN);r=$(a)||$(s)||t&&!i;this._needCrossZero&&(0<a&&0<s&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));t=this._determinedMin,i=this._determinedMax;return null!=t&&(a=t,l=!0),null!=i&&(s=i,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:r}},Ax.prototype.modifyDataMinMax=function(t,e){this[Lx[t]]=e},Ax.prototype.setDeterminedMinMax=function(t,e){t=kx[t];this[t]=e},Ax.prototype.freeze=function(){this.frozen=!0},Ax);function Ax(t,e,n){this._prepareParams(t,e,n)}var kx={min:"_determinedMin",max:"_determinedMax"},Lx={min:"_dataMin",max:"_dataMax"};function Px(t,e,n){var i=t.rawExtentInfo;return i||(i=new Dx(t,e,n),t.rawExtentInfo=i)}function Ox(t,e){return null==e?null:$(e)?NaN:t.parse(e)}function Rx(t,e){var n=t.type,i=Px(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var o,r=i.min,a=i.max,t=e.ecModel;return t&&"time"===n&&(t=ox("bar",t),o=!1,N(t,function(t){o=o||t.getBaseAxis()===e.axis}),o&&(t=rx(t),r=(t=function(t,e,n,i){var o=n.axis.getExtent(),o=o[1]-o[0],i=ax(i,n.axis);if(void 0===i)return{min:t,max:e};var r=1/0;N(i,function(t){r=Math.min(t.offset,r)});var a=-1/0;N(i,function(t){a=Math.max(t.offset+t.width,a)}),r=Math.abs(r),a=Math.abs(a);n=r+a,i=e-t,i=i/(1-(r+a)/o)-i;return{min:t-=r/n*i,max:e+=a/n*i}}(r,a,e,t)).min,a=t.max)),{extent:[r,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function Nx(t,e){var n=Rx(t,e),i=n.extent,o=e.get("splitNumber");t instanceof Tx&&(t.base=e.get("logBase"));var r=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===r||"time"===r?e.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?e.get("maxInterval"):null});e=e.get("interval");null!=e&&t.setInterval&&t.setInterval(e)}function Ex(t,e){if(e=e||t.get("type"))switch(e){case"category":return new q_({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new cx({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(N_.getClass(e)||J_)}}function zx(n){var i,e,o,t=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(o=t,function(t,e){return n.scale.getFormattedLabel(t,e,o)}):"string"==typeof t?(e=t,function(t){t=n.scale.getLabel(t);return e.replace("{value}",null!=t?t:"")}):"function"==typeof t?(i=t,function(t,e){return null!=r&&(e=t.value-r),i(Bx(n,t),e,null!=t.level?{level:t.level}:null)}):function(t){return n.scale.getLabel(t)}}function Bx(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function Vx(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var i,o,r=n.getExtent(),a=n instanceof q_?n.count():(i=n.getTicks()).length,s=t.getLabelModel(),l=zx(t),u=1;40<a&&(u=Math.ceil(a/40));for(var h,c,p=0;p<a;p+=u){var d=l(i?i[p]:{value:r[0]+p},p),f=s.getTextRect(d),g=(h=f,c=s.get("rotate")||0,g=f=d=g=void 0,g=c*Math.PI/180,d=h.width,f=h.height,c=d*Math.abs(Math.cos(g))+Math.abs(f*Math.sin(g)),g=d*Math.abs(Math.sin(g))+Math.abs(f*Math.cos(g)),new mi(h.x,h.y,c,g));o?o.union(g):o=g}return o}}function Fx(t){t=t.get("interval");return null==t?"auto":t}function Hx(t){return"category"===t.type&&0===Fx(t.getLabelModel())}function Gx(e,t){var n={};return N(e.mapDimensionsAll(t),function(t){n[O_(e,t)]=!0}),E(n)}function Wx(e,n,t){n&&N(Gx(n,t),function(t){t=n.getApproximateExtent(t);t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])})}var Ux=(Zx.prototype.getNeedCrossZero=function(){return!this.option.scale},Zx.prototype.getCoordSysModel=function(){},Zx);function Zx(){}var r=yr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,o=e.width/2,e=e.height/2;t.moveTo(n,i-e),t.lineTo(n+o,i+e),t.lineTo(n-o,i+e),t.closePath()}}),n=yr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,o=e.width/2,e=e.height/2;t.moveTo(n,i-e),t.lineTo(n+o,i),t.lineTo(n,i+e),t.lineTo(n-o,i),t.closePath()}}),Kh=yr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,o=e.width/5*3,r=Math.max(o,e.height),a=o/2,s=a*a/(r-a),l=i-r+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),e=Math.cos(u),o=.6*a,r=.7*a;t.moveTo(n-h,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+h-c*o,l+s+e*o,n,i-r,n,i),t.bezierCurveTo(n,i-r,n-h+c*o,l+s+e*o,n-h,l+s),t.closePath()}}),qh=yr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,o=e.x,e=e.y,i=i/3*2;t.moveTo(o,e),t.lineTo(o+i,e+n),t.lineTo(o,e+n/4*3),t.lineTo(o-i,e+n),t.lineTo(o,e),t.closePath()}}),Xx={line:function(t,e,n,i,o){o.x=t,o.y=e+i/2-1,o.width=n,o.height=2},rect:function(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i},roundRect:function(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(t,e,n,i,o){i=Math.min(n,i);o.x=t,o.y=e,o.width=i,o.height=i},circle:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.r=Math.min(n,i)/2},diamond:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i},pin:function(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},arrow:function(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},triangle:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i}},Yx={};N({line:na,rect:na,roundRect:na,square:na,circle:Yr,diamond:n,pin:Kh,arrow:qh,triangle:r},function(t,e){Yx[e]=new t});var qx=yr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=Li(t,e,n),t=this.shape;return t&&"pin"===t.symbolType&&"inside"===e.position&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i,o=e.symbolType;"none"!==o&&(i=(i=Yx[o])||Yx[o="rect"],Xx[o](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n))}});function jx(t,e){var n;"image"!==this.type&&(n=this.style,this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):n.fill=t,this.markRedraw())}function Kx(t,e,n,i,o,r,a){var s=0===t.indexOf("empty");return s&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(o=0===t.indexOf("image://")?Yc(t.slice(8),new mi(e,n,i,o),a?"center":"cover"):0===t.indexOf("path://")?Xc(t.slice(7),{},new mi(e,n,i,o),a?"center":"cover"):new qx({shape:{symbolType:t,x:e,y:n,width:i,height:o}})).__isEmptyBrush=s,o.setColor=jx,r&&o.setColor(r),o}$i={isDimensionStacked:P_,enableDataStack:L_,getStackedDimension:O_};var Oa=Object.freeze({__proto__:null,createList:function(t){return R_(t.getSource(),t)},getLayoutRect:Rp,dataStack:$i,createScale:function(t,e){var n=e;return e instanceof nc||(n=new nc(e)),(e=Ex(n)).setExtent(t[0],t[1]),Nx(e,n),e},mixinAxisModelCommonMethods:function(t){C(t,Ux)},getECData:Nu,createDimensions:I_,createSymbol:Kx}),$x=1e-8;function Jx(t,e){return Math.abs(t-e)<$x}function Qx(t,e,n){var i=0,o=t[0];if(o){for(var r=1;r<t.length;r++){var a=t[r];i+=or(o[0],o[1],a[0],a[1],e,n),o=a}var s=t[0];return Jx(o[0],s[0])&&Jx(o[1],s[1])||(i+=or(o[0],o[1],s[0],s[1],e,n)),0!==i}}var tb=(eb.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var t=Number.MAX_VALUE,e=[t,t],n=[-t,-t],i=[],o=[],r=this.geometries,a=0;a<r.length;a++){"polygon"===r[a].type&&(function(t,e,n){if(0!==t.length){for(var i=t[0],o=i[0],r=i[0],a=i[1],s=i[1],l=1;l<t.length;l++)i=t[l],o=wo(o,i[0]),r=So(r,i[0]),a=wo(a,i[1]),s=So(s,i[1]);e[0]=o,e[1]=a,n[0]=r,n[1]=s}}(r[a].exterior,i,o),At(e,e,i),kt(n,n,o))}return 0===a&&(e[0]=e[1]=n[0]=n[1]=0),this._rect=new mi(e[0],e[1],n[0]-e[0],n[1]-e[1])},eb.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,o=n.length;i<o;i++)if("polygon"===n[i].type){var r=n[i].exterior,a=n[i].interiors;if(Qx(r,t[0],t[1])){for(var s=0;s<(a?a.length:0);s++)if(Qx(a[s],t[0],t[1]))continue t;return!0}}return!1},eb.prototype.transformTo=function(t,e,n,i){var o=this.getBoundingRect(),r=o.width/o.height;n?i=i||n/r:n=r*i;for(var i=new mi(t,e,n,i),a=o.calculateTransform(i),s=this.geometries,l=0;l<s.length;l++)if("polygon"===s[l].type){for(var u=s[l].exterior,h=s[l].interiors,c=0;c<u.length;c++)Dt(u[c],u[c],a);for(var p=0;p<(h?h.length:0);p++)for(c=0;c<h[p].length;c++)Dt(h[p][c],h[p][c],a)}(o=this._rect).copy(i),this.center=[o.x+o.width/2,o.y+o.height/2]},eb.prototype.cloneShallow=function(t){null==t&&(t=this.name);t=new eb(t,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t},eb);function eb(t,e,n){this.name=t,this.geometries=e,n=n?[n[0],n[1]]:[(e=this.getBoundingRect()).x+e.width/2,e.y+e.height/2],this.center=n}function nb(t,e,n){for(var i=[],o=e[0],r=e[1],a=0;a<t.length;a+=2){var s=(s=t.charCodeAt(a)-64)>>1^-(1&s),l=(l=t.charCodeAt(a+1)-64)>>1^-(1&l),o=s+=o,r=l+=r;i.push([s/n,l/n])}return i}function ib(t,o){return P(R((t=function(t){if(!t.UTF8Encoding)return t;var e=(t=t).UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++){var o=n[i].geometry;if("Polygon"===o.type)for(var r=o.coordinates,a=0;a<r.length;a++)r[a]=nb(r[a],o.encodeOffsets[a],e);else if("MultiPolygon"===o.type)for(r=o.coordinates,a=0;a<r.length;a++)for(var s=r[a],l=0;l<s.length;l++)s[l]=nb(s[l],o.encodeOffsets[a][l],e)}return t.UTF8Encoding=!1,t}(t)).features,function(t){return t.geometry&&t.properties&&0<t.geometry.coordinates.length}),function(t){var e=t.properties,t=t.geometry,n=[];"Polygon"===t.type&&(i=t.coordinates,n.push({type:"polygon",exterior:i[0],interiors:i.slice(1)})),"MultiPolygon"===t.type&&N(i=t.coordinates,function(t){t[0]&&n.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var i=new tb(e[o||"name"],n,e.cp);return i.properties=e,i})}var ob=du();function rb(t){return"category"===t.type?(o=(e=t).getLabelModel(),r=sb(e,o),!o.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r):(t=(n=t).scale.getTicks(),i=zx(n),{labels:P(t,function(t,e){return{formattedLabel:i(t,e),rawLabel:n.scale.getLabel(t),tickValue:t.value}})});var n,i,e,o,r}function ab(t,e){return"category"===t.type?function(t,e){var n,i,o=lb(t,"ticks"),r=Fx(e),a=ub(o,r);if(a)return a;e.get("show")&&!t.scale.isBlank()||(n=[]);{n=F(r)?pb(t,r,!0):"auto"===r?(e=sb(t,t.getLabelModel()),i=e.labelCategoryInterval,P(e.labels,function(t){return t.tickValue})):cb(t,i=r,!0)}return hb(o,r,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:P(t.scale.getTicks(),function(t){return t.value})}}function sb(t,e){var n,i=lb(t,"labels"),o=Fx(e),e=ub(i,o);return e||hb(i,o,{labels:F(o)?pb(t,o):cb(t,n="auto"===o?null!=(t=ob(n=t).autoInterval)?t:ob(n).autoInterval=n.calculateCategoryInterval():o),labelCategoryInterval:n})}function lb(t,e){return ob(t)[e]||(ob(t)[e]=[])}function ub(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function hb(t,e,n){return t.push({key:e,value:n}),n}function cb(t,e,n){var i=zx(t),o=t.scale,r=o.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=r[0],e=o.count();0!==u&&1<l&&2<e/l&&(u=Math.round(Math.ceil(u/l)*l));e=Hx(t),t=a.get("showMinLabel")||e,e=a.get("showMaxLabel")||e;t&&u!==r[0]&&c(r[0]);for(var h=u;h<=r[1];h+=l)c(h);function c(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:o.getLabel(e),tickValue:t})}return e&&h-l!==r[1]&&c(r[1]),s}function pb(t,i,o){var r=t.scale,a=zx(t),s=[];return N(r.getTicks(),function(t){var e=r.getLabel(t),n=t.value;i(t.value,e)&&s.push(o?n:{formattedLabel:a(t),rawLabel:e,tickValue:n})}),s}var db=[0,1],Yr=(fb.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),e=Math.max(e[0],e[1]);return n<=t&&t<=e},fb.prototype.containData=function(t){return this.scale.contain(t)},fb.prototype.getExtent=function(){return this._extent.slice()},fb.prototype.getPixelPrecision=function(t){return Vl(t||this.scale.getExtent(),this._extent)},fb.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},fb.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&gb(n=n.slice(),i.count()),Ol(t,db,n,e)},fb.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&gb(n=n.slice(),i.count());e=Ol(t,n,db,e);return this.scale.scale(e)},fb.prototype.pointToData=function(t,e){},fb.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=P(ab(this,e).ticks,function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawIndex(t):t),tickValue:t}},this);return function(t,e,n,i){var o=e.length;if(!t.onBand||n||!o)return;var r,a=t.getExtent();{var s;1===o?(e[0].coord=a[0],r=e[1]={coord:a[0]}):(n=e[o-1].tickValue-e[0].tickValue,s=(e[o-1].coord-e[0].coord)/n,N(e,function(t){t.coord-=s/2}),t=t.scale.getExtent(),t=1+t[1]-e[o-1].tickValue,r={coord:e[o-1].coord+s*t},e.push(r))}var l=a[0]>a[1];u(e[0].coord,a[0])&&(i?e[0].coord=a[0]:e.shift());i&&u(a[0],e[0].coord)&&e.unshift({coord:a[0]});u(a[1],r.coord)&&(i?r.coord=a[1]:e.pop());i&&u(r.coord,a[1])&&e.push({coord:a[1]});function u(t,e){return t=Nl(t),e=Nl(e),l?e<t:t<e}}(this,n,e.get("alignWithLabel"),t.clamp),n},fb.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return 0<t&&t<100||(t=5),P(this.scale.getMinorTicks(t),function(t){return P(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},fb.prototype.getViewLabels=function(){return rb(this).labels},fb.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},fb.prototype.getTickModel=function(){return this.model.getModel("axisTick")},fb.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),e=e[1]-e[0]+(this.onBand?1:0);0===e&&(e=1);t=Math.abs(t[1]-t[0]);return Math.abs(t)/e},fb.prototype.calculateCategoryInterval=function(){return function(t){var e=(u=(l=t).getLabelModel(),{axisRotate:l.getRotate?l.getRotate():l.isHorizontal&&!l.isHorizontal()?90:0,labelRotate:u.get("rotate")||0,font:u.getFont()}),n=zx(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,o=(h=t.scale).getExtent(),r=h.count();if(o[1]-o[0]<1)return 0;var a=1;40<r&&(a=Math.max(1,Math.floor(r/40)));for(var s=o[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l*Math.cos(i)),h=Math.abs(l*Math.sin(i)),c=0,p=0;s<=o[1];s+=a)var d=Ci(n({value:s}),e.font,"center","top"),f=1.3*d.width,d=1.3*d.height,c=Math.max(c,f,7),p=Math.max(p,d,7);return l=c/u,i=p/h,isNaN(l)&&(l=1/0),isNaN(i)&&(i=1/0),u=Math.max(0,Math.floor(Math.min(l,i))),h=ob(t.model),l=t.getExtent(),i=h.lastAutoInterval,t=h.lastTickCount,null!=i&&null!=t&&Math.abs(i-u)<=1&&Math.abs(t-r)<=1&&u<i&&h.axisExtent0===l[0]&&h.axisExtent1===l[1]?u=i:(h.lastTickCount=r,h.lastAutoInterval=u,h.axisExtent0=l[0],h.axisExtent1=l[1]),u}(this)},fb);function fb(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}function gb(t,e){e=(t[1]-t[0])/e/2;t[0]+=e,t[1]-=e}var n=ib,yb={};N(["linearMap","round","asc","getPrecision","getPrecisionSafe","getPixelPrecision","getPercentWithPrecision","MAX_SAFE_INTEGER","remRadian","isRadianAroundZero","parseDate","quantity","quantityExponent","nice","quantile","reformIntervals","isNumeric","numericToNumber"],function(t){yb[t]=$l[t]});var mb={};N(["addCommas","toCamelCase","normalizeCssArray","encodeHTML","formatTpl","getTooltipMarker","formatTime","capitalFirst","truncateText","getTextRect"],function(t){mb[t]=Dp[t]});var Kh={parse:Ul,format:Mc},vb={};N(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){vb[t]=ft[t]});var _b={};N(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Ellipse","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){_b[t]=fp[t]});var xb,qh=(l(bb,xb=gg),bb.prototype.getInitialData=function(t){return R_(this.getSource(),this,{useEncodeDefaulter:!0})},bb.type="series.line",bb.dependencies=["grid","polar"],bb.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0},bb);function bb(){var t=null!==xb&&xb.apply(this,arguments)||this;return t.type=bb.type,t.hasSymbolVisual=!0,t.legendSymbol="line",t}function wb(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i)return vf(t,e,n[0]);if(i){for(var o=[],r=0;r<n.length;r++)o.push(vf(t,e,n[r]));return o.join(" ")}}function Sb(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!V(e))return e+"";for(var i=[],o=0;o<n.length;o++){var r=t.getDimensionInfo(n[o]);r&&i.push(e[r.index])}return i.join(" ")}gg.registerClass(qh);var Mb,Tb=(l(Cb,Mb=Br),Cb.prototype._createSymbol=function(t,e,n,i,o){this.removeAll();o=Kx(t,-1,-1,2,2,null,o);o.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=Ib,this._symbolType=t,this.add(o)},Cb.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},Cb.prototype.getSymbolPath=function(){return this.childAt(0)},Cb.prototype.highlight=function(){dh(this.childAt(0))},Cb.prototype.downplay=function(){fh(this.childAt(0))},Cb.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},Cb.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},Cb.prototype.updateData=function(t,e,n,i){this.silent=!1;var o,r,a,s=t.getItemVisual(e,"symbol")||"circle",l=t.hostModel,u=Cb.getSymbolSize(t,e),h=s!==this._symbolType,c=i&&i.disableAnimation;h?(o=t.getItemVisual(e,"symbolKeepAspect"),this._createSymbol(s,t,e,u,o)):((r=this.childAt(0)).silent=!1,a={scaleX:u[0]/2,scaleY:u[1]/2},c?r.attr(a):$c(r,a,l,e)),this._updateCommon(t,e,u,n,i),h&&(r=this.childAt(0),a={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:r.style.opacity}},r.scaleX=r.scaleY=0,r.style.opacity=0,c?r.attr(a):Jc(r,a,l,e)),this._seriesModel=l},Cb.prototype._updateCommon=function(e,t,n,i,o){var r,a,s,l,u,h,c=this.childAt(0),p=e.hostModel;i&&(r=i.emphasisItemStyle,s=i.blurItemStyle,a=i.selectItemStyle,l=i.focus,u=i.blurScope,f=i.symbolOffset,h=i.labelStatesModels,v=i.hoverScale,g=i.cursorStyle),i&&!e.hasItemOption||(r=(i=(d=i&&i.itemModel?i.itemModel:e.getItemModel(t)).getModel("emphasis")).getModel("itemStyle").getItemStyle(),a=d.getModel(["select","itemStyle"]).getItemStyle(),s=d.getModel(["blur","itemStyle"]).getItemStyle(),l=i.get("focus"),u=i.get("blurScope"),f=d.getShallow("symbolOffset"),h=Nh(d),v=i.getShallow("scale"),g=d.getShallow("cursor"));var d=e.getItemVisual(t,"symbolRotate");c.attr("rotation",(d||0)*Math.PI/180||0),f&&(c.x=Rl(f[0],n[0]),c.y=Rl(f[1],n[1])),g&&c.attr("cursor",g);var f=e.getItemVisual(t,"style"),g=f.fill;c instanceof Wr?(y=c.style,c.useStyle(D({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},f))):(c.__isEmptyBrush?c.useStyle(D({},f)):c.useStyle(f),c.setColor(g,o&&o.symbolInnerColor),c.style.strokeNoScale=!0);var y=e.getItemVisual(t,"liftZ"),f=this._z2;null!=y?null==f&&(this._z2=c.z2,c.z2+=y):null!=f&&(c.z2=f,this._z2=null);var m=o&&o.useNameLabel;Rh(c,h,{labelFetcher:p,labelDataIndex:t,defaultText:function(t){return m?e.getName(t):wb(e,t)},inheritColor:g}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var v,n=c.ensureState("emphasis");n.style=r,c.ensureState("select").style=a,c.ensureState("blur").style=s,v&&(v=Math.max(1.1,3/this._sizeY),n.scaleX=this._sizeX*v,n.scaleY=this._sizeY*v),this.setSymbolScale(1),wh(this,l,u)},Cb.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},Cb.prototype.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,e&&e.keepLabel||n.removeTextContent(),Qc(n,{style:{opacity:0},scaleX:0,scaleY:0},this._seriesModel,Nu(this).dataIndex,t)},Cb.getSymbolSize=function(t,e){e=t.getItemVisual(e,"symbolSize");return e instanceof Array?e.slice():[+e,+e]},Cb);function Cb(t,e,n,i){var o=Mb.call(this)||this;return o.updateData(t,e,n,i),o}function Ib(t,e){this.parent.drift(t,e)}function Db(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&(!i.isIgnore||!i.isIgnore(n))&&(!i.clipShape||i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function Ab(t){return null==t||U(t)||(t={isIgnore:t}),t||{}}function kb(t){var e=t.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverScale:t.get("scale"),labelStatesModels:Nh(e),cursorStyle:e.get("cursor")}}var Lb=(Pb.prototype.updateData=function(o,r){r=Ab(r);var a=this.group,s=o.hostModel,l=this._data,u=this._SymbolCtor,h=r.disableAnimation,c=kb(o),p={disableAnimation:h},d=r.getSymbolPoint||function(t){return o.getItemLayout(t)};l||a.removeAll(),o.diff(l).add(function(t){var e,n=d(t);Db(o,n,t,r)&&((e=new u(o,t,c,p)).setPosition(n),o.setItemGraphicEl(t,e),a.add(e))}).update(function(t,e){var n=l.getItemGraphicEl(e),i=d(t);Db(o,i,t,r)?(n?(n.updateData(o,t,c,p),e={x:i[0],y:i[1]},h?n.attr(e):$c(n,e,s)):(n=new u(o,t)).setPosition(i),a.add(n),o.setItemGraphicEl(t,n)):a.remove(n)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&e.fadeOut(function(){a.remove(e)})}).execute(),this._getSymbolPoint=d,this._data=o},Pb.prototype.isPersistent=function(){return!0},Pb.prototype.updateLayout=function(){var n=this,t=this._data;t&&t.eachItemGraphicEl(function(t,e){e=n._getSymbolPoint(e);t.setPosition(e),t.markRedraw()})},Pb.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=kb(t),this._data=null,this.group.removeAll()},Pb.prototype.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}n=Ab(n);for(var o=t.start;o<t.end;o++){var r,a=e.getItemLayout(o);Db(e,a,o,n)&&((r=new this._SymbolCtor(e,o,this._seriesScope)).traverse(i),r.setPosition(a),this.group.add(r),e.setItemGraphicEl(o,r))}},Pb.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()},Pb);function Pb(t){this.group=new Br,this._SymbolCtor=t||Tb}function Ob(t,e,n){var i=t.getBaseAxis(),o=t.getOtherAxis(i),r=function(t,e){var n=0,t=t.scale.getExtent();"start"===e?n=t[0]:"end"===e?n=t[1]:0<t[0]?n=t[0]:t[1]<0&&(n=t[1]);return n}(o,n),a=i.dim,s=o.dim,l=e.mapDimension(s),u=e.mapDimension(a),n="x"===s||"radius"===s?1:0,i=P(t.dimensions,function(t){return e.mapDimension(t)}),o=!1,t=e.getCalculationInfo("stackResultDimension");return P_(e,i[0])&&(o=!0,i[0]=t),P_(e,i[1])&&(o=!0,i[1]=t),{dataDimsForPoint:i,valueStart:r,valueAxisDim:s,baseAxisDim:a,stacked:!!o,valueDim:l,baseDim:u,baseDataOffset:n,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Rb(t,e,n,i){var o=NaN;t.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=t.valueStart);var r=t.baseDataOffset,a=[];return a[r]=n.get(t.baseDim,i),a[1-r]=o,e.dataToPoint(a)}var Nb="undefined"!=typeof Float32Array,Eb=Nb?Float32Array:Array;function zb(t){return V(t)?Nb?new Float32Array(t):t:new Eb(t)}var Bb=Math.min,Vb=Math.max;function Fb(t,e){return isNaN(t)||isNaN(e)}function Hb(t,e,n,i,o,r,a,s,l){for(var u,h,c,p,d,f,g=n,y=0;y<i;y++){var m=e[2*g],v=e[2*g+1];if(o<=g||g<0)break;if(Fb(m,v)){if(l){g+=r;continue}break}if(g===n)t[0<r?"moveTo":"lineTo"](m,v),c=m,p=v;else{var _=m-u,x=v-h;if(_*_+x*x<.5){g+=r;continue}if(0<a){var b=g+r,w=e[2*b],S=e[2*b+1],M=y+1;if(l)for(;Fb(w,S)&&M<i;)M++,w=e[2*(b+=r)],S=e[2*b+1];var T,C,I,D,A,k,L,P=void 0,O=void 0;i<=M||Fb(w,S)?(d=m,f=v):(C=w-u,I=S-h,D=m-u,A=w-m,k=v-h,L=S-v,x=_=void 0,O="x"===s?(_=Math.abs(D),x=Math.abs(A),d=m-_*a,P=m+_*a,f=v):"y"===s?(_=Math.abs(k),x=Math.abs(L),f=v-_*a,P=d=m,v+_*a):(_=Math.sqrt(D*D+k*k),d=m-C*a*(1-(T=(x=Math.sqrt(A*A+L*L))/(x+_))),f=v-I*a*(1-T),O=v+I*a*T,P=Bb(P=m+C*a*T,Vb(w,m)),O=Bb(O,Vb(S,v)),P=Vb(P,Bb(w,m)),f=v-((O=Vb(O,Bb(S,v)))-v)*_/x,d=Bb(d=m-(P-m)*_/x,Vb(u,m)),f=Bb(f,Vb(h,v)),P=m+(m-(d=Vb(d,Bb(u,m))))*x/_,v+(v-(f=Vb(f,Bb(h,v))))*x/_)),t.bezierCurveTo(c,p,d,f,m,v),c=P,p=O}else t.lineTo(m,v)}u=m,h=v,g+=r}return y}var Gb,Wb=function(){this.smooth=0,this.smoothConstraint=!0},Ub=(l(Zb,Gb=yr),Zb.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Zb.prototype.getDefaultShape=function(){return new Wb},Zb.prototype.buildPath=function(t,e){var n=e.points,i=0,o=n.length/2;if(e.connectNulls){for(;0<o&&Fb(n[2*o-2],n[2*o-1]);o--);for(;i<o&&Fb(n[2*i],n[2*i+1]);i++);}for(;i<o;)i+=Hb(t,n,i,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},Zb.prototype.getLastIndexNotNull=function(){for(var t=this.shape.points,e=t.length/2;0<e&&Fb(t[2*e-2],t[2*e-1]);e--);return e-1},Zb.prototype.getPointAtIndex=function(t){var e=this.shape.points;return[e[2*t],e[2*t+1]]},Zb.prototype.getIndexRange=function(t,e){for(var n,i,o=this.shape.points,r=o.length/2,a="x"===e?0:1,s=0,l=-1,u=0;u<r;u++)if(i=o[2*u+a],!isNaN(i)&&!isNaN(o[2*u+1-a]))if(0!==u){if(n<=t&&t<=i||t<=n&&i<=t){l=u;break}s=u,n=i}else n=i;return{range:[s,l],t:(t-n)/(i-n)}},Zb.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,o=this.path.data,r=Jo.CMD,a="x"===e,s=[],l=0;l<o.length;){var u,h,c,p,d,f=void 0,g=void 0;switch(o[l++]){case r.M:n=o[l++],i=o[l++];break;case r.L:if(f=o[l++],g=o[l++],(d=a?(t-n)/(f-n):(t-i)/(g-i))<=1&&0<=d){var y=a?(g-i)*d+i:(f-n)*d+n;return a?[t,y]:[y,t]}n=f,i=g;break;case r.C:f=o[l++],g=o[l++],u=o[l++],h=o[l++],c=o[l++],p=o[l++];var m=a?po(n,f,u,c,t,s):po(i,g,h,p,t,s);if(0<m)for(var v=0;v<m;v++){var _=s[v];if(_<=1&&0<=_){y=a?ho(i,g,h,p,_):ho(n,f,u,c,_);return a?[t,y]:[y,t]}}n=c,i=p}}},Zb);function Zb(t){t=Gb.call(this,t)||this;return t.type="ec-polyline",t}var Xb,Yb=(l(qb,Xb=Wb),qb);function qb(){return null!==Xb&&Xb.apply(this,arguments)||this}var jb,Kb=(l($b,jb=yr),$b.prototype.getDefaultShape=function(){return new Yb},$b.prototype.buildPath=function(t,e){var n=e.points,i=e.stackedOnPoints,o=0,r=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;0<r&&Fb(n[2*r-2],n[2*r-1]);r--);for(;o<r&&Fb(n[2*o],n[2*o+1]);o++);}for(;o<r;){var s=Hb(t,n,o,r,r,1,e.smooth,a,e.connectNulls);Hb(t,i,o+s-1,s,r,-1,e.stackedOnSmooth,a,e.connectNulls),o+=s+1,t.closePath()}},$b);function $b(t){t=jb.call(this,t)||this;return t.type="ec-polygon",t}function Jb(t,e,n,i,o){var r=t.getArea(),a=r.x,s=r.y,l=r.width,u=r.height,r=n.get(["lineStyle","width"])||2;a-=r/2,s-=r/2,l+=r,u+=r,a=Math.floor(a),l=Math.round(l);var h=new na({shape:{x:a,y:s,width:l,height:u}});return e&&(t=(e=t.getBaseAxis()).isHorizontal(),e=e.inverse,t?(e&&(h.shape.x+=l),h.shape.width=0):(e||(h.shape.y+=u),h.shape.height=0),Jc(h,{shape:{width:l,height:u,x:a,y:s}},n,null,i,"function"==typeof o?function(t){o(t,h)}:null)),h}function Qb(t,e,n){var i=t.getArea(),o=Nl(i.r0,1),r=Nl(i.r,1),a=new ol({shape:{cx:Nl(t.cx,1),cy:Nl(t.cy,1),r0:o,r:r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=o,Jc(a,{shape:{endAngle:i.endAngle,r:r}},n)),a}function tw(t,e){return t.type===e}function ew(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return 1}}function nw(t){for(var e=1/0,n=1/0,i=-1/0,o=-1/0,r=0;r<t.length;){var a=t[r++],s=t[r++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),o=Math.max(s,o))}return[[e,n],[i,o]]}function iw(t,e){var n=nw(t),i=n[0],t=n[1],n=nw(e),e=n[0],n=n[1];return Math.max(Math.abs(i[0]-e[0]),Math.abs(i[1]-e[1]),Math.abs(t[0]-n[0]),Math.abs(t[1]-n[1]))}function ow(t){return"number"==typeof t?t:t?.5:0}function rw(t,e,n){for(var e=e.getBaseAxis(),i="x"===e.dim||"radius"===e.dim?0:1,o=[],r=0,a=[],s=[],l=[];r<t.length-2;r+=2)switch(l[0]=t[r+2],l[1]=t[r+3],s[0]=t[r],s[1]=t[r+1],o.push(s[0],s[1]),n){case"end":a[i]=l[i],a[1-i]=s[1-i],o.push(a[0],a[1]);break;case"middle":var u=(s[i]+l[i])/2,h=[];a[i]=h[i]=u,a[1-i]=s[1-i],h[1-i]=l[1-i],o.push(a[0],a[1]),o.push(h[0],a[1]);break;default:a[i]=s[i],a[1-i]=l[1-i],o.push(a[0],a[1])}return o.push(t[r++],t[r++]),o}function aw(t,e,n){var i=t.get("showAllSymbol"),t="auto"===i;if(!i||t){n=n.getAxesByScale("ordinal")[0];if(n&&(!t||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var o=e.count(),r=Math.max(1,Math.round(o/5)),a=0;a<o;a+=r)if(1.5*Tb.getSymbolSize(e,a)[t.isHorizontal()?1:0]>i)return!1;return!0}(n,e))){var o=e.mapDimension(n.dim),r={};return N(n.getViewLabels(),function(t){r[t.tickValue]=1}),function(t){return!r.hasOwnProperty(e.get(o,t))}}}}function sw(n,i,t,e){if(tw(i,"cartesian2d")){var o,r=e.getModel("endLabel"),a=r.get("show"),s=r.get("valueAnimation"),l=e.getData(),u={lastFrameIndex:0},h=a?function(t,e){n._endLabelOnDuring(t,e,l,u,s,r,i)}:null,c=i.getBaseAxis().isHorizontal(),p=Jb(i,t,e,function(){n._endLabel&&null!=u.originalX&&n._endLabel.attr({x:u.originalX,y:u.originalY})},h);return e.get("clip",!0)||(o=p.shape,a=Math.max(o.width,o.height),c?(o.y-=a,o.height+=2*a):(o.x-=a,o.width+=2*a)),h&&h(1,p),p}return Qb(i,t,e)}var lw,r=(l(uw,lw=Ag),uw.prototype.init=function(){var t=new Br,e=new Lb;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},uw.prototype.render=function(t,e,n){var i=this,o=t.coordinateSystem,r=this.group,a=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=a.getLayout("points")||[],h="polar"===o.type,c=this._coordSys,p=this._symbolDraw,d=this._polyline,f=this._polygon,g=this._lineGroup,y=t.get("animation"),m=!l.isEmpty(),v=l.get("origin"),_=Ob(o,a,v),x=m&&function(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),o=zb(2*i),r=0;r<i;r++){var a=Rb(n,t,e,r);o[2*r]=a[0],o[2*r+1]=a[1]}return o}(o,a,_),b=t.get("showSymbol"),w=b&&!h&&aw(t,a,o),S=this._data;S&&S.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),S.setItemGraphicEl(e,null))}),b||p.remove(),r.add(g);_=!h&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(null!=(M=o.getArea()).width?(M.x-=.1,M.y-=.1,M.width+=.2,M.height+=.2):M.r0&&(M.r0-=.5,M.r+=.5)),this._clipShapeForSymbol=M,d&&c.type===o.type&&_===this._step?(m&&!f?f=this._newPolygon(u,x):f&&!m&&(g.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(t,o),g.setClipPath(sw(this,o,!1,t)),b&&p.updateData(a,{isIgnore:w,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),ew(this._stackedOnPoints,x)&&ew(this._points,u)||(y?this._doUpdateAnimation(a,x,o,n,_,v):(_&&(u=rw(u,o,_),x=x&&rw(x,o,_)),d.setShape({points:u}),f&&f.setShape({points:u,stackedOnPoints:x})))):(b&&p.updateData(a,{isIgnore:w,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),this._initSymbolLabelAnimation(a,o,M),_&&(u=rw(u,o,_),x=x&&rw(x,o,_)),d=this._newPolyline(u),m&&(f=this._newPolygon(u,x)),h||this._initOrUpdateEndLabel(t,o),g.setClipPath(sw(this,o,!0,t)));var p=function(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var i,o=n.length-1;0<=o;o--){var r,a=n[o].dimension,a=t.dimensions[a],a=t.getDimensionInfo(a);if("x"===(r=a&&a.coordDim)||"y"===r){i=n[o];break}}if(i){var s=e.getAxis(r),l=P(i.stops,function(t){return{offset:0,coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),u=l.length,h=i.outerColors.slice();u&&l[0].coord>l[u-1].coord&&(l.reverse(),h.reverse());var c=l[0].coord-10,e=l[u-1].coord+10,p=e-c;if(p<.001)return"transparent";N(l,function(t){t.offset=(t.coord-c)/p}),l.push({offset:u?l[u-1].offset:.5,color:h[1]||"transparent"}),l.unshift({offset:u?l[0].offset:.5,color:h[0]||"transparent"});l=new Ca(0,0,0,0,l,!0);return l[r]=c,l[r+"2"]=e,l}}}(a,o)||a.getVisual("style")[a.getVisual("drawType")],w=t.get(["emphasis","focus"]),M=t.get(["emphasis","blurScope"]);d.useStyle(A(s.getLineStyle(),{fill:"none",stroke:p,lineJoin:"bevel"})),Th(d,t,"lineStyle"),"bolder"===t.get(["emphasis","lineStyle","width"])&&(d.getState("emphasis").style.lineWidth=d.style.lineWidth+1),Nu(d).seriesIndex=t.seriesIndex,wh(d,w,M);m=ow(t.get("smooth")),h=t.get("smoothMonotone"),g=t.get("connectNulls");d.setShape({smooth:m,smoothMonotone:h,connectNulls:g}),f&&(s=a.getCalculationInfo("stackedOnSeries"),d=0,f.useStyle(A(l.getAreaStyle(),{fill:p,opacity:.7,lineJoin:"bevel"})),s&&(d=ow(s.get("smooth"))),f.setShape({smooth:m,stackedOnSmooth:d,smoothMonotone:h,connectNulls:g}),Th(f,t,"areaStyle"),Nu(f).seriesIndex=t.seriesIndex,wh(f,w,M));function T(t){i._changePolyState(t)}a.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=T)}),this._polyline.onHoverStateChange=T,this._data=a,this._coordSys=o,this._stackedOnPoints=x,this._points=u,this._step=_,this._valueOrigin=v},uw.prototype.dispose=function(){},uw.prototype.highlight=function(t,e,n,i){var o=t.getData(),r=pu(o,i);if(this._changePolyState("emphasis"),!(r instanceof Array)&&null!=r&&0<=r){var a=o.getLayout("points"),s=o.getItemGraphicEl(r);if(!s){var l=a[2*r],a=a[2*r+1];if(isNaN(l)||isNaN(a))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,a))return;(s=new Tb(o,r)).x=l,s.y=a,s.setZ(t.get("zlevel"),t.get("z")),s.__temp=!0,o.setItemGraphicEl(r,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else Ag.prototype.highlight.call(this,t,e,n,i)},uw.prototype.downplay=function(t,e,n,i){var o,r=t.getData(),a=pu(r,i);this._changePolyState("normal"),null!=a&&0<=a?(o=r.getItemGraphicEl(a))&&(o.__temp?(r.setItemGraphicEl(a,null),this.group.remove(o)):o.downplay()):Ag.prototype.downplay.call(this,t,e,n,i)},uw.prototype._changePolyState=function(t){var e=this._polygon;uh(this._polyline,t),e&&uh(e,t)},uw.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Ub({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e},uw.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Kb({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n},uw.prototype._initSymbolLabelAnimation=function(t,l,u){var h,c,e=l.getBaseAxis(),p=e.inverse;"cartesian2d"===l.type?(h=e.isHorizontal(),c=!1):"polar"===l.type&&(h="angle"===e.dim,c=!0);var e=t.hostModel,d=e.get("animationDuration");"function"==typeof d&&(d=d(null));var f=e.get("animationDelay")||0,g="function"==typeof f?f(null):f;t.eachItemGraphicEl(function(t,e){var n,i,o,r,a,s=t;s&&(o=[t.x,t.y],r=n=a=void 0,r=c?(i=u,o=l.pointToCoord(o),h?(a=i.startAngle,n=i.endAngle,-o[1]/180*Math.PI):(a=i.r0,n=i.r,o[0])):h?(a=u.x,n=u.x+u.width,t.x):(a=u.y+u.height,n=u.y,t.y),a=n===a?0:(r-a)/(n-a),p&&(a=1-a),e="function"==typeof f?f(e):d*a+g,s.animateFrom({scaleX:0,scaleY:0},{duration:200,delay:e}),(s=(a=s.getSymbolPath()).getTextContent())&&s.animateFrom({style:{opacity:0}},{duration:300,delay:e}),a.disableLabelAnimation=!0)})},uw.prototype._initOrUpdateEndLabel=function(t,e){var i,n,o,r=t.getModel("endLabel");r.get("show")?(i=t.getData(),o=this._polyline,(n=this._endLabel)||((n=this._endLabel=new is({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0),0<=(o=this._polyline.getLastIndexNotNull())&&Rh(n,Nh(t,"endLabel"),{labelFetcher:t,labelDataIndex:o,defaultText:function(t,e,n){return n?Sb(i,n):wb(i,t)},enableTextSetter:!0},(t=r,e=(r=(o=e).getBaseAxis()).isHorizontal(),o=r.inverse,r=e?o?"right":"left":"center",o=e?"middle":o?"top":"bottom",{normal:{align:t.get("align")||r,verticalAlign:t.get("verticalAlign")||o,padding:t.get("distance")||0}}))):this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},uw.prototype._endLabelOnDuring=function(t,e,n,i,o,r,a){var s,l,u,h,c,p,d,f=this._endLabel,g=this._polyline;f&&(t<1&&null==i.originalX&&(i.originalX=f.x,i.originalY=f.y),l=(s=n.hostModel).get("connectNulls"),u=r.get("precision"),c=(p=a.getBaseAxis()).isHorizontal(),h=p.inverse,r=e.shape,a=h?c?r.x:r.y+r.height:c?r.x+r.width:r.y,p=c?"x":"y",e=void 0,1<=(c=(r=(h=g.getIndexRange(a,p)).range)[1]-r[0])?(1<c&&!l?(d=g.getPointAtIndex(r[0]),f.attr({x:d[0],y:d[1]}),o&&(e=s.getRawValue(r[0]))):((d=g.getPointOn(a,p))&&f.attr({x:d[0],y:d[1]}),a=s.getRawValue(r[0]),p=s.getRawValue(r[1]),o&&(e=xu(n,u,a,p,h.t))),i.lastFrameIndex=r[0]):(r=1===t||0<i.lastFrameIndex?r[0]:0,d=g.getPointAtIndex(r),o&&(e=s.getRawValue(r)),f.attr({x:d[0],y:d[1]})),o&&Gh(f).setLabelText(e))},uw.prototype._doUpdateAnimation=function(t,e,n,i,o,r){var a=this._polyline,s=this._polygon,l=t.hostModel,u=function(t,e,n,i,o,r,a,s){for(var l,u,h=(l=t,u=[],e.diff(l).add(function(t){u.push({cmd:"+",idx:t})}).update(function(t,e){u.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){u.push({cmd:"-",idx:t})}).execute(),u),c=[],p=[],d=[],f=[],g=[],y=[],m=[],v=Ob(o,e,a),_=Ob(r,t,s),x=t.getLayout("points")||[],b=e.getLayout("points")||[],w=0;w<h.length;w++){var S=h[w],M=!0,T=void 0,C=void 0;switch(S.cmd){case"=":T=2*S.idx,C=2*S.idx1;var I=x[T],D=x[T+1],A=b[C],k=b[C+1];(isNaN(I)||isNaN(D))&&(I=A,D=k),c.push(I,D),p.push(A,k),d.push(n[T],n[T+1]),f.push(i[C],i[C+1]),m.push(e.getRawIndex(S.idx1));break;case"+":var L=S.idx,P=v.dataDimsForPoint,P=o.dataToPoint([e.get(P[0],L),e.get(P[1],L)]),C=2*L;c.push(P[0],P[1]),p.push(b[C],b[C+1]);P=Rb(v,o,e,L);d.push(P[0],P[1]),f.push(i[C],i[C+1]),m.push(e.getRawIndex(L));break;case"-":P=S.idx,C=t.getRawIndex(P),L=_.dataDimsForPoint,T=2*P;C!==P?(L=r.dataToPoint([t.get(L[0],P),t.get(L[1],P)]),P=Rb(_,r,t,P),c.push(x[T],x[T+1]),p.push(L[0],L[1]),d.push(n[T],n[T+1]),f.push(P[0],P[1]),m.push(C)):M=!1}M&&(g.push(S),y.push(y.length))}y.sort(function(t,e){return m[t]-m[e]});for(var O=zb(s=c.length),R=zb(s),N=zb(s),E=zb(s),z=[],w=0;w<y.length;w++){var B=y[w],V=2*w,F=2*B;O[V]=c[F],O[1+V]=c[1+F],R[V]=p[F],R[1+V]=p[1+F],N[V]=d[F],N[1+V]=d[1+F],E[V]=f[F],E[1+V]=f[1+F],z[w]=g[B]}return{current:O,next:R,stackedOnCurrent:N,stackedOnNext:E,status:z}}(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,r),h=u.current,c=u.stackedOnCurrent,e=u.next,r=u.stackedOnNext;if(o&&(h=rw(u.current,n,o),c=rw(u.stackedOnCurrent,n,o),e=rw(u.next,n,o),r=rw(u.stackedOnNext,n,o)),3e3<iw(h,e)||s&&3e3<iw(c,r))return a.setShape({points:e}),void(s&&s.setShape({points:e,stackedOnPoints:r}));a.shape.__points=u.current,a.shape.points=h;e={shape:{points:e}};u.current!==h&&(e.shape.__points=u.next),a.stopAnimation(),$c(a,e,l),s&&(s.setShape({points:h,stackedOnPoints:c}),s.stopAnimation(),$c(s,{shape:{stackedOnPoints:r}},l),a.shape.points!==s.shape.points&&(s.shape.points=a.shape.points));for(var p,d=[],f=u.status,g=0;g<f.length;g++){"="!==f[g].cmd||(p=t.getItemGraphicEl(f[g].idx1))&&d.push({el:p,ptIdx:g})}a.animators&&a.animators.length&&a.animators[0].during(function(){s&&s.dirtyShape();for(var t=a.shape.__points,e=0;e<d.length;e++){var n=d[e].el,i=2*d[e].ptIdx;n.x=t[i],n.y=t[1+i],n.markRedraw()}})},uw.prototype.remove=function(t){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,e){t.__temp&&(n.remove(t),i.setItemGraphicEl(e,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},uw.type="line",uw);function uw(){return null!==lw&&lw.apply(this,arguments)||this}function hw(t,i){return{seriesType:t,plan:Cg(),reset:function(t){var e=t.getData(),h=t.coordinateSystem,n=t.pipelineContext,c=i||n.large;if(h){var t=P(h.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),p=t.length,n=e.getCalculationInfo("stackResultDimension");P_(e,t[0])&&(t[0]=n),P_(e,t[1])&&(t[1]=n);var n=e.getDimensionInfo(t[0]),t=e.getDimensionInfo(t[1]),d=n&&n.index,f=t&&t.index;return p&&{progress:function(t,e){for(var n=t.end-t.start,i=c&&zb(n*p),o=[],r=[],a=t.start,s=0;a<t.end;a++){var l,u=void 0;u=1===p?(l=e.getByDimIdx(d,a),h.dataToPoint(l,null,r)):(o[0]=e.getByDimIdx(d,a),o[1]=e.getByDimIdx(f,a),h.dataToPoint(o,null,r)),c?(i[s++]=u[0],i[s++]=u[1]):e.setItemLayout(a,u.slice())}c&&e.setLayout("points",i)}}}}}}Ag.registerClass(r);function cw(t){return Math.round(t.length/2)}var pw={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};var $i={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},qh=w({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},$i),r=w({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},$i),dw={category:qh,value:r,time:w({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},r),log:A({scale:!0,logBase:10},r)},fw={value:1,category:1,time:1,log:1};function gw(r,a,s){N(fw,function(t,o){var i,e=w(w({},dw[o],!0),s,!0),e=(l(n,i=a),n.prototype.mergeDefaultAndTheme=function(t,e){var n=Ep(this),i=n?Bp(t):{};w(t,e.getTheme().get(o+"Axis")),w(t,this.getDefaultOption()),t.type=yw(t),n&&zp(t,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=z_.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=r+"Axis."+o,n.defaultOption=e,n);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.apply(this,t)||this;return n.type=r+"Axis."+o,n}Zp.registerClass(e)}),Zp.registerSubTypeDefaulter(r+"Axis",yw)}function yw(t){return t.type||(t.data?"category":"value")}var mw,$i=(l(vw,mw=Zp),vw.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",yu).models[0]},vw.type="cartesian2dAxis",vw);function vw(){return null!==mw&&mw.apply(this,arguments)||this}C($i,Ux);qh={offset:0,categorySortInfo:[]};gw("x",$i,qh),gw("y",$i,qh);var _w=Math.PI,xw=(bw.prototype.hasBuilder=function(t){return!!ww[t]},bw.prototype.add=function(t){ww[t](this.opt,this.axisModel,this.group,this._transformGroup)},bw.prototype.getGroup=function(){return this.group},bw.innerTextLayout=function(t,e,n){var i,t=Hl(e-t),n=Gl(t)?(i=0<n?"top":"bottom","center"):Gl(t-_w)?(i=0<n?"bottom":"top","center"):(i="middle",0<t&&t<_w?0<n?"right":"left":0<n?"left":"right");return{rotation:t,textAlign:n,textVerticalAlign:i}},bw.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},bw.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},bw);function bw(t,e){this.group=new Br,this.opt=e,this.axisModel=t,A(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});e=new Br({x:e.position[0],y:e.position[1],rotation:e.rotation});e.updateTransform(),this._transformGroup=e}var ww={axisLine:function(i,t,o,e){var r,a,s,l,u,n=t.get(["axisLine","show"]);"auto"===n&&i.handleAutoShown&&(n=i.handleAutoShown("axisLine")),n&&(n=t.axis.getExtent(),e=e.transform,r=[n[0],0],n=[n[1],0],e&&(Dt(r,r,e),Dt(n,n,e)),a=D({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),(e=new ca({subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:n[0],y2:n[1]},style:a,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1})).anid="line",o.add(e),s=t.get(["axisLine","symbol"]),e=t.get(["axisLine","symbolSize"]),"number"==typeof(t=t.get(["axisLine","symbolOffset"])||0)&&(t=[t,t]),null!=s&&("string"==typeof s&&(s=[s,s]),"string"!=typeof e&&"number"!=typeof e||(e=[e,e]),l=e[0],u=e[1],N([{rotate:i.rotation+Math.PI/2,offset:t[0],r:0},{rotate:i.rotation-Math.PI/2,offset:t[1],r:Math.sqrt((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1]))}],function(t,e){var n;"none"!==s[e]&&null!=s[e]&&(n=Kx(s[e],-l/2,-u/2,l,u,a.stroke,!0),e=t.r+t.offset,n.attr({rotation:t.rotate,x:r[0]+e*Math.cos(i.rotation),y:r[1]-e*Math.sin(i.rotation),silent:!0,z2:11}),o.add(n))})))},axisTickLabel:function(t,e,n,i){var o=function(t,e,n,i){var o=n.axis,r=n.getModel("axisTick"),a=r.get("show");"auto"===a&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick"));if(!a||o.scale.isBlank())return;for(var a=r.getModel("lineStyle"),r=i.tickDirection*r.get("length"),s=Cw(o.getTicksCoords(),e.transform,r,A(a.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),l=0;l<s.length;l++)t.add(s[l]);return s}(n,i,e,t);!function(t,e,n){if(Hx(t.axis))return;var i=t.get(["axisLabel","showMinLabel"]),o=t.get(["axisLabel","showMaxLabel"]);n=n||[];var r=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],t=n[1],e=n[n.length-1],n=n[n.length-2];!1===i?(Sw(r),Sw(u)):Mw(r,a)&&(i?(Sw(a),Sw(t)):(Sw(r),Sw(u)));!1===o?(Sw(s),Sw(e)):Mw(l,s)&&(o?(Sw(l),Sw(n)):(Sw(s),Sw(e)))}(e,function(s,l,u,h){var c=u.axis;if(!J(h.axisLabelShow,u.get(["axisLabel","show"]))||c.scale.isBlank())return;var p=u.getModel("axisLabel"),d=p.get("margin"),t=c.getViewLabels(),e=(J(h.labelRotate,p.get("rotate"))||0)*_w/180,f=xw.innerTextLayout(h.rotation,e,h.labelDirection),g=u.getCategories&&u.getCategories(!0),y=[],m=xw.isLabelSilent(u),v=u.get("triggerEvent");return N(t,function(t,e){var n="ordinal"===c.scale.type?c.scale.getRawIndex(t.tickValue):t.tickValue,i=t.formattedLabel,o=t.rawLabel,r=p;g&&g[n]&&(U(a=g[n])&&a.textStyle&&(r=new nc(a.textStyle,p,u.ecModel)));var t=r.getTextColor()||u.get(["axisLine","lineStyle","color"]),a=c.dataToCoord(n),t=new is({x:a,y:h.labelOffset+h.labelDirection*d,rotation:f.rotation,silent:m,z2:10,style:Eh(r,{text:i,align:r.getShallow("align",!0)||f.textAlign,verticalAlign:r.getShallow("verticalAlign",!0)||r.getShallow("baseline",!0)||f.textVerticalAlign,fill:"function"==typeof t?t("category"===c.type?o:"value"===c.type?n+"":n,e):t})});t.anid="label_"+n,v&&((n=xw.makeAxisEventDataBase(u)).targetType="axisLabel",n.value=o,Nu(t).eventData=n),l.add(t),t.updateTransform(),y.push(t),s.add(t),t.decomposeTransform()}),y}(n,i,e,t),o),function(t,e,n,i){var o=n.axis,r=n.getModel("minorTick");if(!r.get("show")||o.scale.isBlank())return;var a=o.getMinorTicksCoords();if(!a.length)return;for(var o=r.getModel("lineStyle"),s=i*r.get("length"),l=A(o.getLineStyle(),A(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var h=Cw(a[u],e.transform,s,l,"minorticks_"+u),c=0;c<h.length;c++)t.add(h[c])}(n,i,e,t.tickDirection)},axisName:function(t,e,n,i){var o,r,a,s,l,u,h,c,p=J(t.axisName,e.get("name"));p&&(u=e.get("nameLocation"),a=t.nameDirection,o=e.getModel("nameTextStyle"),s=e.get("nameGap")||0,r=(l=e.axis.getExtent())[0]>l[1]?-1:1,r=["start"===u?l[0]-r*s:"end"===u?l[1]+r*s:(l[0]+l[1])/2,Tw(u)?t.labelOffset+a*s:0],null!=(s=e.get("nameRotate"))&&(s=s*_w/180),Tw(u)?c=xw.innerTextLayout(t.rotation,null!=s?s:t.rotation,a):(c=function(t,e,n,i){var o,t=Hl(n-t),i=i[0]>i[1],i="start"===e&&!i||"start"!==e&&i;i=Gl(t-_w/2)?(o=i?"bottom":"top","center"):Gl(t-1.5*_w)?(o=i?"top":"bottom","center"):(o="middle",t<1.5*_w&&_w/2<t?i?"left":"right":i?"right":"left");return{rotation:t,textAlign:i,textVerticalAlign:o}}(t.rotation,u,s||0,l),null!=(h=t.axisNameAvailableWidth)&&(h=Math.abs(h/Math.sin(c.rotation)),isFinite(h)||(h=null))),a=o.getFont(),s=(u=e.get("nameTruncate",!0)||{}).ellipsis,l=J(t.nameTruncateMaxWidth,u.maxWidth,h),t=e.get("tooltip",!0),(h={componentType:u=e.mainType,name:p,$vars:["name"]})[u+"Index"]=e.componentIndex,(c=new is({x:r[0],y:r[1],rotation:c.rotation,silent:xw.isLabelSilent(e),style:Eh(o,{text:p,font:a,overflow:"truncate",width:l,ellipsis:s,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||c.textAlign,verticalAlign:o.get("verticalAlign")||c.textVerticalAlign}),z2:1})).tooltip=t&&t.show?D({content:p,formatter:function(){return p},formatterParams:h},t):null,c.__fullText=p,c.anid="name",e.get("triggerEvent")&&((e=xw.makeAxisEventDataBase(e)).targetType="axisName",e.name=p,Nu(c).eventData=e),i.add(c),c.updateTransform(),n.add(c),c.decomposeTransform())}};function Sw(t){t&&(t.ignore=!0)}function Mw(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var o=Zn([]);return jn(o,o,-t.rotation),n.applyTransform(Yn([],o,t.getLocalTransform())),i.applyTransform(Yn([],o,e.getLocalTransform())),n.intersect(i)}}function Tw(t){return"middle"===t||"center"===t}function Cw(t,e,n,i,o){for(var r=[],a=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;a[0]=u,s[a[1]=0]=u,s[1]=n,e&&(Dt(a,a,e),Dt(s,s,e));u=new ca({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});u.anid=o+"_"+t[l].tickValue,r.push(u)}return r}function Iw(t,e){var u,h,o,c,p,d,r,n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return u=n,e=e,o=(h=t).getComponent("tooltip"),c=h.getComponent("axisPointer"),p=c.get("link",!0)||[],d=[],N(e.getCoordinateSystems(),function(a){var s,l,t,e,n;function i(t,e,n){var i,o=n.model.getModel("axisPointer",c),r=o.get("show");r&&("auto"!==r||t||kw(o))&&(null==e&&(e=o.get("triggerTooltip")),i=(o=t?function(t,e,n,i,o,r){var a=e.getModel("axisPointer"),s={};N(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=I(a.get(t))}),s.snap="category"!==t.type&&!!r,"cross"===a.get("type")&&(s.type="line");e=s.label||(s.label={});{null==e.show&&(e.show=!1),"cross"===o&&(o=a.get(["label","show"]),e.show=null==o||o,r||(r=s.lineStyle=a.get("crossStyle"))&&A(e,r.textStyle))}return t.model.getModel("axisPointer",new nc(s,n,i))}(n,l,c,h,t,e):o).get("snap"),r=Lw(n.model),t=e||i||"category"===n.type,o=u.axesInfo[r]={key:r,axis:n,coordSys:a,axisPointerModel:o,triggerTooltip:e,involveSeries:t,snap:i,useHandle:kw(o),seriesModels:[],linkGroup:null},s[r]=o,u.seriesInvolved=u.seriesInvolved||t,null!=(t=function(t,e){for(var n=e.model,i=e.dim,o=0;o<t.length;o++){var r=t[o]||{};if(Dw(r[i+"AxisId"],n.id)||Dw(r[i+"AxisIndex"],n.componentIndex)||Dw(r[i+"AxisName"],n.name))return o}}(p,n))&&((n=d[t]||(d[t]={axesInfo:{}})).axesInfo[r]=o,n.mapper=p[t].mapper,o.linkGroup=n))}a.axisPointerEnabled&&(n=Lw(a.model),s=u.coordSysAxesInfo[n]={},l=(u.coordSysMap[n]=a).model.getModel("tooltip",o),N(a.getAxes(),B(i,!1,null)),a.getTooltipAxes&&o&&l.get("show")&&(t="axis"===l.get("trigger"),e="cross"===l.get(["axisPointer","type"]),n=a.getTooltipAxes(l.get(["axisPointer","axis"])),(t||e)&&N(n.baseAxes,B(i,!e||"cross",t)),e&&N(n.otherAxes,B(i,"cross",!1))))}),n.seriesInvolved&&(r=n,t.eachSeries(function(n){var i=n.coordinateSystem,t=n.get(["tooltip","trigger"],!0),e=n.get(["tooltip","show"],!0);i&&"none"!==t&&!1!==t&&"item"!==t&&!1!==e&&!1!==n.get(["axisPointer","show"],!0)&&N(r.coordSysAxesInfo[Lw(i.model)],function(t){var e=t.axis;i.getAxis(e.dim)===e&&(t.seriesModels.push(n),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=n.getData().count())})})),n}function Dw(t,e){return"all"===t||V(t)&&0<=k(t,e)||t===e}function Aw(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Lw(t)]}function kw(t){return!!t.get(["handle","show"])}function Lw(t){return t.type+"||"+t.id}var Pw,Ow={},r=(l(Rw,Pw=Mg),Rw.prototype.render=function(t,e,n,i){var o,r,a,s,l,u;!this.axisPointerClass||(u=Aw(o=t))&&(s=u.axisPointerModel,l=u.axis.scale,r=s.option,a=s.get("status"),null!=(o=s.get("value"))&&(o=l.parse(o)),s=kw(s),null==a&&(r.status=s?"show":"hide"),(l=l.getExtent().slice())[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=u.axis.scale.isBlank()?"hide":"show")),Pw.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,n,!0)},Rw.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},Rw.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},Rw.prototype.dispose=function(t,e){this._disposeAxisPointer(e),Pw.prototype.dispose.apply(this,arguments)},Rw.prototype._doUpdateAxisPointerClass=function(t,e,n){var i,o=Rw.getAxisPointerClass(this.axisPointerClass);o&&((i=(i=Aw(i=t))&&i.axisPointerModel)?(this._axisPointer||(this._axisPointer=new o)).render(t,i,e,n):this._disposeAxisPointer(e))},Rw.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},Rw.registerAxisPointerClass=function(t,e){Ow[t]=e},Rw.getAxisPointerClass=function(t){return t&&Ow[t]},Rw.type="axis",Rw);function Rw(){var t=null!==Pw&&Pw.apply(this,arguments)||this;return t.type=Rw.type,t}function Nw(t,e,n){n=n||{};var i=t.coordinateSystem,o=e.axis,r={},a=o.getAxesOnZeroOf()[0],s=o.position,l=a?"onZero":s,u=o.dim,h=i.getRect(),t=[h.x,h.x+h.width,h.y,h.y+h.height],o={left:0,right:1,top:0,bottom:1,onZero:2},i=e.get("offset")||0,h="x"===u?[t[2]-i,t[3]+i]:[t[0]-i,t[1]+i];a&&(i=a.toGlobalCoord(a.dataToCoord(0)),h[o.onZero]=Math.max(Math.min(i,h[1]),h[0])),r.position=["y"===u?h[o[l]]:t[0],"x"===u?h[o[l]]:t[3]],r.rotation=Math.PI/2*("x"===u?0:1);r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],r.labelOffset=a?h[o[s]]-h[o.onZero]:0,e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),J(n.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);e=e.get(["axisLabel","rotate"]);return r.labelRotate="top"===l?-e:e,r.z2=1,r}function Ew(t){return"cartesian2d"===t.get("coordinateSystem")}function zw(i){var o={xAxisModel:null,yAxisModel:null};return N(o,function(t,e){var n=e.replace(/Model$/,""),n=i.getReferringComponents(n,yu).models[0];o[e]=n}),o}var Bw=du();var Vw,Fw=["axisLine","axisTickLabel","axisName"],Hw=["splitArea","splitLine","minorSplitLine"],$i=(l(Gw,Vw=r),Gw.prototype.render=function(o,t,e,n){this.group.removeAll();var r,i,a=this._axisGroup;this._axisGroup=new Br,this.group.add(this._axisGroup),o.get("show")&&(i=Nw(r=o.getCoordSysModel(),o),i=new xw(o,D({handleAutoShown:function(t){for(var e=r.coordinateSystem.getCartesians(),n=0;n<e.length;n++){var i=e[n].getOtherAxis(o.axis).type;if("value"===i||"log"===i)return!0}return!1}},i)),N(Fw,i.add,i),this._axisGroup.add(i.getGroup()),N(Hw,function(t){o.get([t,"show"])&&Uw[t](this,this._axisGroup,o,r)},this),hp(a,this._axisGroup,o),Vw.prototype.render.call(this,o,t,e,n))},Gw.prototype.remove=function(){Bw(this).splitAreaColors=null},Gw.type="cartesianAxis",Gw);function Gw(){var t=null!==Vw&&Vw.apply(this,arguments)||this;return t.type=Gw.type,t.axisPointerClass="CartesianAxisPointer",t}var Ww,Uw={splitLine:function(t,e,n,i){var o=n.axis;if(!o.scale.isBlank())for(var r=n.getModel("splitLine"),n=r.getModel("lineStyle"),a=V(a=n.get("color"))?a:[a],s=i.coordinateSystem.getRect(),l=o.isHorizontal(),u=0,h=o.getTicksCoords({tickModel:r}),c=[],p=[],d=n.getLineStyle(),f=0;f<h.length;f++){var g=o.toGlobalCoord(h[f].coord);l?(c[0]=g,c[1]=s.y,p[0]=g,p[1]=s.y+s.height):(c[0]=s.x,c[1]=g,p[0]=s.x+s.width,p[1]=g);var y=u++%a.length,g=h[f].tickValue;e.add(new ca({anid:null!=g?"line_"+h[f].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:p[0],y2:p[1]},style:A({stroke:a[y]},d),silent:!0}))}},minorSplitLine:function(t,e,n,i){var o=n.axis,n=n.getModel("minorSplitLine").getModel("lineStyle"),r=i.coordinateSystem.getRect(),a=o.isHorizontal(),s=o.getMinorTicksCoords();if(s.length)for(var l=[],u=[],h=n.getLineStyle(),c=0;c<s.length;c++)for(var p=0;p<s[c].length;p++){var d=o.toGlobalCoord(s[c][p].coord);a?(l[0]=d,l[1]=r.y,u[0]=d,u[1]=r.y+r.height):(l[0]=r.x,l[1]=d,u[0]=r.x+r.width,u[1]=d),e.add(new ca({anid:"minor_line_"+s[c][p].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:h,silent:!0}))}},splitArea:function(t,e,n,i){!function(t,e,n,i){var o=n.axis;if(!o.scale.isBlank()){var r=n.getModel("splitArea"),n=r.getModel("areaStyle"),a=n.get("color"),s=i.coordinateSystem.getRect(),l=o.getTicksCoords({tickModel:r,clamp:!0});if(l.length){var u=a.length,h=Bw(t).splitAreaColors,c=ht(),p=0;if(h)for(var d=0;d<l.length;d++){var f=h.get(l[d].tickValue);if(null!=f){p=(f+(u-1)*d)%u;break}}for(var g=o.toGlobalCoord(l[0].coord),y=n.getAreaStyle(),a=V(a)?a:[a],d=1;d<l.length;d++){var m=o.toGlobalCoord(l[d].coord),v=void 0,_=void 0,x=void 0,b=void 0,g=o.isHorizontal()?(v=g,_=s.y,x=m-v,b=s.height,v+x):(v=s.x,_=g,x=s.width,_+(b=m-_)),m=l[d-1].tickValue;null!=m&&c.set(m,p),e.add(new na({anid:null!=m?"area_"+m:null,shape:{x:v,y:_,width:x,height:b},style:A({fill:a[p]},y),autoBatch:!0,silent:!0})),p=(p+1)%u}Bw(t).splitAreaColors=c}}}(t,e,n,i)}},Zw=(l(Xw,Ww=$i),Xw.type="xAxis",Xw);function Xw(){var t=null!==Ww&&Ww.apply(this,arguments)||this;return t.type=Xw.type,t}var Yw,qh=(l(qw,Yw=$i),qw.type="yAxis",qw);function qw(){var t=null!==Yw&&Yw.apply(this,arguments)||this;return t.type=Zw.type,t}function jw(t,e){return t.get(e.uid)||t.set(e.uid,{condExtent:Kw()})}function Kw(){return[1/0,-1/0]}function $w(t,e){e<t[0]&&(t[0]=e),e>t[1]&&(t[1]=e)}Mg.registerClass(Zw),Mg.registerClass(qh),Vv(Zh.PROCESSOR.FILTER+10,{getTargetSeries:function(t){var e=ht();return t.eachSeries(function(t){Ew(t)&&e.set(t.uid,t)}),e},overallReset:function(t,e){var l,u,C,n=[],i=ht();l=i,u=n,t.eachSeries(function(t){var e,n,i,o,r,a,s;Ew(t)&&(e=(s=zw(t)).xAxisModel,n=s.yAxisModel,i=e.axis,o=n.axis,r=i.scale.rawExtentInfo,a=o.scale.rawExtentInfo,s=t.getData(),r&&r.frozen||a&&a.frozen||(u.push({seriesModel:t,xAxisModel:e,yAxisModel:n}),Wx(jw(l,e).condExtent,s,i.dim),Wx(jw(l,n).condExtent,s,o.dim)))}),C=i,N(n,function(t){var e=t.xAxisModel,n=t.yAxisModel,i=e.axis,o=n.axis,r=jw(C,e),a=jw(C,n);r.rawExtentInfo=Px(i.scale,e,r.condExtent),a.rawExtentInfo=Px(o.scale,n,a.condExtent),r.rawExtentResult=r.rawExtentInfo.calculate(),a.rawExtentResult=a.rawExtentInfo.calculate();var s,l,u=t.seriesModel.getData(),h={},c={};function p(e,t){var n=t.condExtent,t=t.rawExtentResult;"category"===e.type&&(n[0]<t.min||t.max<n[1])&&N(Gx(u,e.dim),function(t){pt(h,t)||(h[t]=!0,s=e)})}function d(t,e){var n=e.rawExtentResult;"category"===t.type||n.minFixed&&n.maxFixed||N(Gx(u,t.dim),function(t){pt(h,t)||pt(c,t)||(c[t]=!0,l=e)})}p(i,r),p(o,a),d(i,r),d(o,a);var f=E(h),g=E(c),y=P(g,Kw),m=f.length,v=g.length;if(m&&v){var _=1===m?f[0]:null,x=1===v?g[0]:null,b=u.count();if(_&&x)for(var w=0;w<b;w++){var S=u.get(_,w);s.scale.isInExtentRange(S)&&$w(y[0],u.get(x,w))}else for(w=0;w<b;w++)for(var M=0;M<m;M++){S=u.get(f[M],w);if(s.scale.isInExtentRange(S)){for(var T=0;T<v;T++)$w(y[T],u.get(g[T],w));break}}N(y,function(t,e){e=g[e];u.setApproximateExtent(t,e);e=l.tarExtent=l.tarExtent||Kw();$w(e,t[0]),$w(e,t[1])})}}),i.each(function(t){var e,n=t.tarExtent;n&&(e=t.rawExtentResult,t=t.rawExtentInfo,!e.minFixed&&n[0]>e.min&&t.modifyDataMinMax("min",n[0]),!e.maxFixed&&n[1]<e.max&&t.modifyDataMinMax("max",n[1]))})}});var Jw,$i=(l(Qw,Jw=Zp),Qw.type="grid",Qw.dependencies=["xAxis","yAxis"],Qw.layoutMode="box",Qw.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},Qw);function Qw(){return null!==Jw&&Jw.apply(this,arguments)||this}var tS,qh=(l(eS,tS=Mg),eS.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new na({shape:t.coordinateSystem.getRect(),style:A({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},eS.type="grid",eS);function eS(){var t=null!==tS&&tS.apply(this,arguments)||this;return t.type="grid",t}Mg.registerClass(qh),Zp.registerClass($i),Bv(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),Hv(hw("line",!0)),Vv(Zh.PROCESSOR.STATISTIC,{seriesType:"line",reset:function(t,e,n){var i,o=t.getData(),r=t.get("sampling"),a=t.coordinateSystem,s=o.count();10<s&&"cartesian2d"===a.type&&r&&(i=a.getBaseAxis(),a=a.getOtherAxis(i),i=i.getExtent(),n=n.getDevicePixelRatio(),n=Math.abs(i[1]-i[0])*(n||1),1<(s=Math.round(s/n))&&("lttb"===r&&t.setData(o.lttbDownSample(o.mapDimension(a.dim),1/s)),n=void 0,"string"==typeof r?n=pw[r]:"function"==typeof r&&(n=r),n&&t.setData(o.downSample(o.mapDimension(a.dim),1/s,n,cw))))}});nS.prototype.getAxis=function(t){return this._axes[t]},nS.prototype.getAxes=function(){return P(this._dimList,function(t){return this._axes[t]},this)},nS.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),R(this.getAxes(),function(t){return t.scale.type===e})},nS.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},$i=nS;function nS(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}var iS=["x","y"];function oS(t){return"interval"===t.type||"time"===t.type}var rS,aS=(l(sS,rS=$i),sS.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t,e,n,i,o=this.getAxis("x").scale,r=this.getAxis("y").scale;oS(o)&&oS(r)&&(n=o.getExtent(),i=r.getExtent(),t=this.dataToPoint([n[0],i[0]]),e=this.dataToPoint([n[1],i[1]]),o=n[1]-n[0],r=i[1]-i[0],o&&r&&(o=(e[0]-t[0])/o,r=(e[1]-t[1])/r,n=t[0]-n[0]*o,i=t[1]-i[0]*r,i=this._transform=[o,0,0,r,n,i],this._invTransform=$n([],i)))},sS.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},sS.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},sS.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},sS.prototype.dataToPoint=function(t,e,n){if(n=n||[],this._transform&&!isNaN(t[0])&&!isNaN(t[1]))return Dt(n,t,this._transform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=o.toGlobalCoord(o.dataToCoord(t[1])),n},sS.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),r=i.getExtent(),n=n.parse(t[0]),t=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),n),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),t),Math.max(r[0],r[1])),e},sS.prototype.pointToData=function(t,e){if(e=e||[],this._invTransform)return Dt(e,t,this._invTransform);var n=this.getAxis("x"),i=this.getAxis("y");return e[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},sS.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},sS.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),t=Math.max(t[0],t[1])-n,e=Math.max(e[0],e[1])-i;return new mi(n,i,t,e)},sS);function sS(){var t=null!==rS&&rS.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=iS,t}var lS,uS=(l(hS,lS=Yr),hS.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},hS.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},hS.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},hS.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setCategorySortInfo(t)},hS);function hS(t,e,n,i,o){n=lS.call(this,t,e,n)||this;return n.index=0,n.type=i||"value",n.position=o||"bottom",n}cS.prototype.getRect=function(){return this._rect},cS.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),N(n.x,function(t){Nx(t.scale,t.model)}),N(n.y,function(t){Nx(t.scale,t.model)});var i={};N(n.x,function(t){dS(n,"y",t,i)}),N(n.y,function(t){dS(n,"x",t,i)}),this.resize(this.model,e)},cS.prototype.resize=function(t,e,n){var a=Rp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=a;var i=this._axesList;function o(){N(i,function(t){var e,n,i=t.isHorizontal(),o=i?[0,a.width]:[0,a.height],r=t.inverse?1:0;t.setExtent(o[r],o[1-r]),t=t,e=i?a.x:a.y,i=t.getExtent(),n=i[0]+i[1],t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}})}o(),!n&&t.get("containLabel")&&(N(i,function(t){var e,n,i;t.model.get(["axisLabel","inside"])||(e=Vx(t))&&(n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]),a[n]-=e[n]+i,"top"===t.position?a.y+=e.height+i:"left"===t.position&&(a.x+=e.width+i))}),o()),N(this._coordsList,function(t){t.calcAffineTransform()})},cS.prototype.getAxis=function(t,e){t=this._axesMap[t];if(null!=t)return t[e||0]},cS.prototype.getAxes=function(){return this._axesList.slice()},cS.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}U(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},cS.prototype.getCartesians=function(){return this._coordsList.slice()},cS.prototype.convertToPixel=function(t,e,n){e=this._findConvertTarget(e);return e.cartesian?e.cartesian.dataToPoint(n):e.axis?e.axis.toGlobalCoord(e.axis.dataToCoord(n)):null},cS.prototype.convertFromPixel=function(t,e,n){e=this._findConvertTarget(e);return e.cartesian?e.cartesian.pointToData(n):e.axis?e.axis.coordToData(e.axis.toLocalCoord(n)):null},cS.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,o=t.xAxisModel||i&&i.getReferringComponents("xAxis",yu).models[0],r=t.yAxisModel||i&&i.getReferringComponents("yAxis",yu).models[0],a=t.gridModel,t=this._coordsList;return i?k(t,e=i.coordinateSystem)<0&&(e=null):o&&r?e=this.getCartesian(o.componentIndex,r.componentIndex):o?n=this.getAxis("x",o.componentIndex):r?n=this.getAxis("y",r.componentIndex):a&&a.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:n}},cS.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},cS.prototype._initCartesian=function(r,t,e){var a=this,s=this,l={left:!1,right:!1,top:!1,bottom:!1},u={x:{},y:{}},h={x:0,y:0};if(t.eachComponent("xAxis",n("x"),this),t.eachComponent("yAxis",n("y"),this),!h.x||!h.y)return this._axesMap={},void(this._axesList=[]);function n(o){return function(t,e){var n,i;pS(t,r)&&(i=t.get("position"),"x"===o?"top"!==i&&"bottom"!==i&&(i=l.bottom?"top":"bottom"):"left"!==i&&"right"!==i&&(i=l.left?"right":"left"),l[i]=!0,i="category"===(n=new uS(o,Ex(t),[0,0],t.get("type"),i)).type,n.onBand=i&&t.get("boundaryGap"),n.inverse=t.get("inverse"),(t.axis=n).model=t,n.grid=s,n.index=e,s._axesList.push(n),u[o][e]=n,h[o]++)}}N((this._axesMap=u).x,function(i,o){N(u.y,function(t,e){var n="x"+o+"y"+e,e=new aS(n);e.master=a,e.model=r,a._coordsMap[n]=e,a._coordsList.push(e),e.addAxis(i),e.addAxis(t)})})},cS.prototype._updateScale=function(t,i){function o(e,n){N(Gx(e,n.dim),function(t){n.scale.unionExtentFromData(e,t)})}N(this._axesList,function(t){var e;t.scale.setExtent(1/0,-1/0),"category"===t.type&&(e=t.model.get("categorySortInfo"),t.scale.setCategorySortInfo(e))}),t.eachSeries(function(t){var e,n;Ew(t)&&(n=(e=zw(t)).xAxisModel,e=e.yAxisModel,pS(n,i)&&pS(e,i)&&(n=this.getCartesian(n.componentIndex,e.componentIndex),e=t.getData(),t=n.getAxis("x"),n=n.getAxis("y"),"list"===e.type&&(o(e,t),o(e,n))))},this)},cS.prototype.getTooltipAxes=function(n){var i=[],o=[];return N(this.getCartesians(),function(t){var e=null!=n&&"auto"!==n?t.getAxis(n):t.getBaseAxis(),t=t.getOtherAxis(e);k(i,e)<0&&i.push(e),k(o,t)<0&&o.push(t)}),{baseAxes:i,otherAxes:o}},cS.create=function(i,o){var r=[];return i.eachComponent("grid",function(t,e){var n=new cS(t,i,o);n.name="grid_"+e,n.resize(t,o,!0),t.coordinateSystem=n,r.push(n)}),i.eachSeries(function(t){var e,n,i;Ew(t)&&(e=(i=zw(t)).xAxisModel,n=i.yAxisModel,i=e.getCoordSysModel().coordinateSystem,t.coordinateSystem=i.getCartesian(e.componentIndex,n.componentIndex))}),r},cS.dimensions=iS,$i=cS;function cS(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=iS,this._initCartesian(t,e,n),this.model=t}function pS(t,e){return t.getCoordSysModel()===e}function dS(t,e,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,r=t[e],e=n.model,n=e.get(["axisLine","onZero"]),e=e.get(["axisLine","onZeroAxisIndex"]);if(n){if(null!=e)fS(r[e])&&(o=r[e]);else for(var a in r)if(r.hasOwnProperty(a)&&fS(r[a])&&!i[s(r[a])]){o=r[a];break}o&&(i[s(o)]=!0)}function s(t){return t.dim+"_"+t.index}}function fS(t){return t&&"category"!==t.type&&"time"!==t.type&&(e=(t=(e=t).scale.getExtent())[0],t=t[1],!(0<e&&0<t||e<0&&t<0));var e}Dd.register("cartesian2d",$i);var gS,$i=(l(yS,gS=gg),yS.prototype.getInitialData=function(t,e){return R_(this.getSource(),this,{useEncodeDefaulter:!0})},yS.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),t=i.getLayout("offset"),i=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=t+i/2,n}return[NaN,NaN]},yS.type="series.__base_bar__",yS.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},yS);function yS(){var t=null!==gS&&gS.apply(this,arguments)||this;return t.type=yS.type,t}gg.registerClass($i);var mS,$i=(l(vS,mS=$i),vS.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},vS.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return t<e&&(t=e),t},vS.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},vS.type="series.bar",vS.dependencies=["grid","polar"],vS.defaultOption=ac($i.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),vS);function vS(){var t=null!==mS&&mS.apply(this,arguments)||this;return t.type=vS.type,t}gg.registerClass($i);var _S,xS=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},bS=(l(wS,_S=yr),wS.prototype.getDefaultShape=function(){return new xS},wS.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,o=Math.max(e.r0||0,0),r=Math.max(e.r,0),a=.5*(r-o),s=o+a,l=e.startAngle,u=e.endAngle,h=e.clockwise,c=Math.cos(l),p=Math.sin(l),d=Math.cos(u),e=Math.sin(u);(h?u-l<2*Math.PI:l-u<2*Math.PI)&&(t.moveTo(c*o+n,p*o+i),t.arc(c*s+n,p*s+i,a,-Math.PI+l,l,!h)),t.arc(n,i,r,l,u,!h),t.moveTo(d*r+n,e*r+i),t.arc(d*s+n,e*s+i,a,u-2*Math.PI,u-Math.PI,!h),0!==o&&(t.arc(n,i,o,u,l,h),t.moveTo(c*o+n,e*o+i)),t.closePath()},wS);function wS(t){t=_S.call(this,t)||this;return t.type="sausage",t}var SS=["itemStyle","borderWidth"],MS=["itemStyle","borderRadius"],TS=[0,0],CS=Math.max,IS=Math.min;var DS,$i=(l(AS,DS=Ag),AS.prototype.render=function(t,e,n,i){this._model=t,this.removeOnRenderedListener(n),this._updateDrawMode(t);var o=t.get("coordinateSystem");"cartesian2d"!==o&&"polar"!==o||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},AS.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},AS.prototype.incrementalRender=function(t,e){this._incrementalRenderLarge(t,e)},AS.prototype._updateDrawMode=function(t){t=t.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},AS.prototype._renderNormal=function(a,t,e,n){var s,i=this,l=this.group,u=a.getData(),h=this._data,c=a.coordinateSystem,p=c.getBaseAxis();"cartesian2d"===c.type?s=p.isHorizontal():"polar"===c.type&&(s="angle"===p.dim);var d=a.isAnimationEnabled()?a:null,f=p.model,g=a.get("realtimeSort");if(g&&u.count()){if(this._isFirstFrame)return this._initSort(u,s,p,e),void(this._isFirstFrame=!1);this._onRendered=function(){i._updateSort(u,function(t){t=u.getItemGraphicEl(t);if(t){t=t.shape;return(s?t.y+t.height:t.x+t.width)||0}return 0},p,e)},e.getZr().on("rendered",this._onRendered)}var o,r,y,m=a.get("clip",!0)||g,v=(r=u,y=(o=c).getArea&&o.getArea(),tw(o,"cartesian2d")&&("category"===(o=o.getBaseAxis()).type&&o.onBand||(r=r.getLayout("bandWidth"),o.isHorizontal()?(y.x-=r,y.width+=2*r):(y.y-=r,y.height+=2*r))),y);l.removeClipPath();function _(t){return Sb(a.getData(),t)}var x=a.get("roundCap",!0),b=a.get("showBackground",!0),w=a.getModel("backgroundStyle"),S=w.get("borderRadius")||0,M=[],T=this._backgroundEls,C=n&&n.isInitSort,I=n&&"changeAxisOrder"===n.type;function D(t){var e,n,i=OS[c.type](u,t),i=(e=s,n=i,new("polar"===(i=c).type?ol:na)({shape:HS(e,n,i),silent:!0,z2:0}));return i.useStyle(w.getItemStyle()),"cartesian2d"===c.type&&i.setShape("r",S),M[t]=i}u.diff(h).add(function(t){var e,n,i=u.getItemModel(t),o=OS[c.type](u,t,i);b&&D(t),u.hasValue(t)&&(e=!1,m&&(e=kS[c.type](v,o)),RS(n=LS[c.type](a,u,t,o,s,d,p.model,!1,x),u,t,i,o,a,s,"polar"===c.type),rp(n,u,t,i.getModel("label"),a,d,_),C?n.attr({shape:o}):g?(n.disableLabelAnimation=!0,PS(a,f,d,n,o,t,s,!1,!1)):Jc(n,{shape:o},a,t),u.setItemGraphicEl(t,n),l.add(n),n.ignore=e)}).update(function(t,e){var n,i=u.getItemModel(t),o=OS[c.type](u,t,i);b&&(n=void 0,0===T.length?n=D(e):((n=T[e]).useStyle(w.getItemStyle()),"cartesian2d"===c.type&&n.setShape("r",S),M[t]=n),r=OS[c.type](u,t),$c(n,{shape:HS(s,r,c)},d,t));var r=h.getItemGraphicEl(e);if(!u.hasValue(t))return l.remove(r),void(r=null);e=!1;m&&(e=kS[c.type](v,o))&&l.remove(r),r=r||LS[c.type](a,u,t,o,s,d,p.model,!!r,x),I||(RS(r,u,t,i,o,a,s,"polar"===c.type),op(r,u,t,i.getModel("label"),a,d,_)),C?r.attr({shape:o}):g?(r.disableLabelAnimation=!0,PS(a,f,d,r,o,t,s,!0,I)):$c(r,{shape:o},a,t,null),u.setItemGraphicEl(t,r),r.ignore=e,l.add(r)}).remove(function(t){var e=h.getItemGraphicEl(t);e&&ep(e,a,t)}).execute();var A=this._backgroundGroup||(this._backgroundGroup=new Br);A.removeAll();for(var k=0;k<M.length;++k)A.add(M[k]);l.add(A),this._backgroundEls=M,this._data=u},AS.prototype._renderLarge=function(t,e,n){this._clear(),VS(t,this.group),this._updateLargeClip(t)},AS.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),VS(e,this.group,!0)},AS.prototype._updateLargeClip=function(t){var e,n,i,o,o=t.get("clip",!0)?(e=t.coordinateSystem,n=!1,t=t,e?"polar"===e.type?Qb(e,n,t):"cartesian2d"===e.type?Jb(e,n,t,i,o):null:null):null;o?this.group.setClipPath(o):this.group.removeClipPath()},AS.prototype._dataSort=function(t,e){var n=[];t.each(function(t){n.push({mappedValue:e(t),ordinalNumber:t,beforeSortIndex:null})}),n.sort(function(t,e){return e.mappedValue-t.mappedValue});for(var i=0;i<n.length;++i)n[n[i].ordinalNumber].beforeSortIndex=i;return P(n,function(t){return{ordinalNumber:t.ordinalNumber,beforeSortIndex:t.beforeSortIndex}})},AS.prototype._isDataOrderChanged=function(t,e,n){if((n?n.length:0)!==t.count())return!0;for(var i=Number.MAX_VALUE,o=0;o<n.length;++o){var r=e(n[o].ordinalNumber);if(i<r)return!0;i=r}return!1},AS.prototype._updateSort=function(t,e,n,i){var o=n.scale.getCategorySortInfo();if(this._isDataOrderChanged(t,e,o))for(var r=this._dataSort(t,e),a=n.scale.getExtent(),s=a[0];s<a[1];++s)if(!o[s]||o[s].ordinalNumber!==r[s].ordinalNumber){this.removeOnRenderedListener(i);var l={type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r};i.dispatchAction(l);break}},AS.prototype._initSort=function(e,n,t,i){t={type:"changeAxisOrder",componentType:t.dim+"Axis",isInitSort:!0,axisId:t.index,sortInfo:this._dataSort(e,function(t){return parseFloat(e.get(n?"y":"x",t))||0})};i.dispatchAction(t)},AS.prototype.remove=function(t,e){this._clear(this._model),this.removeOnRenderedListener(e)},AS.prototype.dispose=function(t,e){this.removeOnRenderedListener(e)},AS.prototype.removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},AS.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(t){ep(t,e,Nu(t).dataIndex)})):t.removeAll(),this._data=null,this._isFirstFrame=!0},AS.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},AS.type="bar",AS);function AS(){var t=DS.call(this)||this;return t.type=AS.type,t._isFirstFrame=!0,t}var kS={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var o=CS(e.x,t.x),r=IS(e.x+e.width,t.x+t.width),a=CS(e.y,t.y),t=IS(e.y+e.height,t.y+t.height);e.x=o,e.y=a,e.width=r-o,e.height=t-a;a=e.width<0||e.height<0;return n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),a},polar:function(t,e){var n=e.r0<=e.r?1:-1;n<0&&(i=e.r,e.r=e.r0,e.r0=i);var i,o=IS(e.r,t.r),t=CS(e.r0,t.r0),t=(e.r=o)-(e.r0=t)<0;return n<0&&(i=e.r,e.r=e.r0,e.r0=i),t}},LS={cartesian2d:function(t,e,n,i,o,r,a,s,l){i=new na({shape:D({},i),z2:1});return i.__dataIndex=n,i.name="item",r&&(i.shape[o?"height":"width"]=0),i},polar:function(t,e,n,i,o,r,a,s,l){var u=i.startAngle<i.endAngle,h=new(!o&&l?bS:ol)({shape:A({clockwise:u},i),z2:1});return h.name="item",r&&(l=o?"r":"endAngle",u={},h.shape[l]=o?0:i.startAngle,u[l]=i[l],(s?$c:Jc)(h,{shape:u},r)),h}};function PS(t,e,n,i,o,r,a,s,l){var u;(n||e)&&(n=u=void 0,u=a?(n={x:o.x,width:o.width},{y:o.y,height:o.height}):(n={y:o.y,height:o.height},{x:o.x,width:o.width}),l||(s?$c:Jc)(i,{shape:u},t,r,null),(s?$c:Jc)(i,{shape:n},e,r))}var OS={cartesian2d:function(t,e,n){var i,e=t.getItemLayout(e),i=n?(r=e,i=(o=n).get(SS)||0,o=isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),r=isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height),Math.min(i,o,r)):0,o=0<e.width?1:-1,r=0<e.height?1:-1;return{x:e.x+o*i/2,y:e.y+r*i/2,width:e.width-o*i,height:e.height-r*i}},polar:function(t,e,n){e=t.getItemLayout(e);return{cx:e.cx,cy:e.cy,r0:e.r0,r:e.r,startAngle:e.startAngle,endAngle:e.endAngle}}};function RS(t,e,n,i,o,r,a,s){var l=e.getItemVisual(n,"style");s||t.setShape("r",i.get(MS)||0),t.useStyle(l);e=i.getShallow("cursor");e&&t.attr("cursor",e),s||(a=a?0<o.height?"bottom":"top":0<o.width?"left":"right",Rh(t,Nh(i),{labelFetcher:r,labelDataIndex:n,defaultText:wb(r.getData(),n),inheritColor:l.fill,defaultOutsidePosition:a}),(a=t.getTextContent())&&((a=Gh(a)).prevValue=a.value,a.value=r.getRawValue(n)));n=i.getModel(["emphasis"]);wh(t,n.get("focus"),n.get("blurScope")),Th(t,i),null!=(o=o).startAngle&&null!=o.endAngle&&o.startAngle===o.endAngle&&(t.style.fill="none",t.style.stroke="none",N(t.states,function(t){t.style&&(t.style.fill=t.style.stroke="none")}))}var NS,ES=function(){},zS=(l(BS,NS=yr),BS.prototype.getDefaultShape=function(){return new ES},BS.prototype.buildPath=function(t,e){for(var n=e.points,i=this.__startPoint,o=this.__baseDimIdx,r=0;r<n.length;r+=2)i[o]=n[r+o],t.moveTo(i[0],i[1]),t.lineTo(n[r],n[r+1])},BS);function BS(t){t=NS.call(this,t)||this;return t.type="largeBar",t}function VS(t,e,n){var i=t.getData(),o=[],r=i.getLayout("valueAxisHorizontal")?1:0;o[1-r]=i.getLayout("valueAxisStart");var a,s,l,u,h=i.getLayout("largeDataIndices"),c=i.getLayout("barWidth"),p=t.getModel("backgroundStyle");t.get("showBackground",!0)&&(u=i.getLayout("largeBackgroundPoints"),(l=[])[1-r]=i.getLayout("backgroundStart"),(a=new zS({shape:{points:u},incremental:!!n,silent:!0,z2:0})).__startPoint=l,a.__baseDimIdx=r,a.__largeDataIndices=h,a.__barWidth=c,s=a,u=i,p=(l=p).get("borderColor")||l.get("color"),l=l.getItemStyle(),s.useStyle(l),s.style.fill=null,s.style.stroke=p,s.style.lineWidth=u.getLayout("barWidth"),e.add(a));n=new zS({shape:{points:i.getLayout("largePoints")},incremental:!!n});n.__startPoint=o,n.__baseDimIdx=r,n.__largeDataIndices=h,n.__barWidth=c,e.add(n),c=n,i=(e=i).getVisual("style"),c.useStyle(D({},i)),c.style.fill=null,c.style.stroke=i.fill,c.style.lineWidth=e.getLayout("barWidth"),Nu(n).seriesIndex=t.seriesIndex,t.get("silent")||(n.on("mousedown",FS),n.on("mousemove",FS))}var FS=Vg(function(t){t=function(t,e,n){var i=t.__baseDimIdx,o=1-i,r=t.shape.points,a=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[o];TS[0]=e,TS[1]=n;for(var n=TS[i],u=TS[1-i],h=n-s,c=n+s,p=0,d=r.length/2;p<d;p++){var f=2*p,g=r[f+i],f=r[f+o];if(h<=g&&g<=c&&(l<=f?l<=u&&u<=f:f<=u&&u<=l))return a[p]}return-1}(this,t.offsetX,t.offsetY);Nu(this).dataIndex=0<=t?t:null},30,!1);function HS(t,e,n){if(tw(n,"cartesian2d")){var i=e,o=n.getArea();return{x:(t?i:o).x,y:(t?o:i).y,width:(t?i:o).width,height:(t?o:i).height}}return{cx:(o=n.getArea()).cx,cy:o.cy,r0:(t?o:e).r0,r:(t?o:e).r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}}Ag.registerClass($i),Fv({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)})}),Hv(Zh.VISUAL.LAYOUT,B(function(t,e){var C=rx(e=ox(t,e)),I={};N(e,function(t){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),o=nx(t),r=C[ix(i)][o],a=r.offset,s=r.width,l=n.getOtherAxis(i),u=t.get("barMinHeight")||0;I[o]=I[o]||[],e.setLayout({bandWidth:r.bandWidth,offset:a,size:s});for(var h=e.mapDimension(l.dim),c=e.mapDimension(i.dim),p=P_(e,h),d=l.isHorizontal(),f=ux(0,l),g=0,y=e.count();g<y;g++){var m=e.get(h,g),v=e.get(c,g),_=0<=m?"p":"n",x=f;p&&(I[o][v]||(I[o][v]={p:f,n:f}),x=I[o][v][_]);var b,w=void 0,S=void 0,M=void 0,T=void 0;d?(w=x,S=(b=n.dataToPoint([m,v]))[1]+a,M=b[0]-f,T=s,Math.abs(M)<u&&(M=(M<0?-1:1)*u),isNaN(M)||p&&(I[o][v][_]+=M)):(w=(b=n.dataToPoint([v,m]))[0]+a,S=x,M=s,T=b[1]-f,Math.abs(T)<u&&(T=(T<=0?-1:1)*u),isNaN(T)||p&&(I[o][v][_]+=T)),e.setItemLayout(g,{x:w,y:S,width:M,height:T})}})},"bar")),Hv(Zh.VISUAL.PROGRESSIVE_LAYOUT,Jh),Gv({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});var GS=(WS.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},WS.prototype.containName=function(t){return 0<=this._getRawData().indexOfName(t)},WS.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},WS.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},WS);function WS(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}var US,Jh=(l(ZS,US=gg),ZS.prototype.init=function(t){US.prototype.init.apply(this,arguments),this.legendVisualProvider=new GS(z(this.getData,this),z(this.getRawData,this)),this._defaultLabelLine(t)},ZS.prototype.mergeOption=function(){US.prototype.mergeOption.apply(this,arguments)},ZS.prototype.getInitialData=function(){return function(t,e,n){e=V(e)?{coordDimensions:e}:D({},e);var i=t.getSource(),e=I_(i,e);return(t=new w_(e,t)).initData(i,n),t}(this,{coordDimensions:["value"],encodeDefaulter:B(cd,this)})},ZS.prototype.getDataParams=function(t){var e=this.getData(),n=US.prototype.getDataParams.call(this,t),i=[];return e.each(e.mapDimension("value"),function(t){i.push(t)}),n.percent=Fl(i,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},ZS.prototype._defaultLabelLine=function(t){eu(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},ZS.type="series.pie",ZS.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},ZS);function ZS(){var t=null!==US&&US.apply(this,arguments)||this;return t.useColorPaletteOnData=!0,t}gg.registerClass(Jh);var XS=Math.PI/180;function YS(t,u,h,c,p,e,n,i,o,r){if(!(t.length<2)){for(var a,s=t.length,l=0;l<s;l++){"outer"===t[l].position&&"labelLine"===t[l].labelAlignTo&&(a=t[l].label.x-r,t[l].linePoints[1][0]+=a,t[l].label.x=r)}Wy(t,o,o+n)&&function(t){for(var e,n,i,o,r,a={list:[],maxY:0},s={list:[],maxY:0},l=0;l<t.length;l++){"none"===t[l].labelAlignTo&&(n=(e=t[l]).label.y>h?s:a,(i=Math.abs(e.label.y-h))>n.maxY&&(r=(o=e.label.x-u-e.len2*p)<(r=c+e.len)?Math.sqrt(i*i/(1-o*o/r/r)):r,n.rB=r,n.maxY=i),n.list.push(e))}d(a),d(s)}(t)}function d(t){for(var e=t.rB,n=e*e,i=0;i<t.list.length;i++){var o=t.list[i],r=Math.abs(o.label.y-h),a=c+o.len,a=a*a,a=Math.sqrt((1-Math.abs(r*r/n))*a);o.label.x=u+(a+o.len2)*p}}}function qS(t){return"center"===t.position}function jS(t){var T,C,I=t.getData(),D=[],A=!1,k=(t.get("minShowLabelAngle")||0)*XS,e=I.getLayout("viewRect"),L=I.getLayout("r"),P=e.width,O=e.x,n=e.y,e=e.height;function R(t){t.ignore=!0}I.each(function(t){var e,n,i,o,r,a,s,l,u,h,c=I.getItemGraphicEl(t),p=c.shape,d=c.getTextContent(),f=c.getTextGuideLine(),g=I.getItemModel(t),y=g.getModel("label"),m=y.get("position")||g.get(["emphasis","label","position"]),v=y.get("distanceToLabelLine"),_=y.get("alignTo"),x=Rl(y.get("edgeDistance"),P),b=y.get("bleedMargin"),w=g.getModel("labelLine"),S=Rl(S=w.get("length"),P),M=Rl(M=w.get("length2"),P);if(Math.abs(p.endAngle-p.startAngle)<k)return N(d.states,R),void(d.ignore=!0);!function(t){if(!t.ignore)return 1;for(var e in t.states)if(!1===t.states[e].ignore)return 1}(d)||(h=(p.startAngle+p.endAngle)/2,e=Math.cos(h),n=Math.sin(h),T=p.cx,C=p.cy,i="inside"===m||"inner"===m,l="center"===m?(r=p.cx,a=p.cy,"center"):(r=(o=(i?(p.r+p.r0)/2*e:p.r*e)+T)+3*e,a=(t=(i?(p.r+p.r0)/2*n:p.r*n)+C)+3*n,i||(g=o+e*(S+L-p.r),l=t+n*(S+L-p.r),s=g+(e<0?-1:1)*M,r="edge"===_?e<0?O+x:O+P-x:s+(e<0?-v:v),s=[[o,t],[g,a=l],[s,l]]),i?"center":"edge"===_?0<e?"right":"left":0<e?"left":"right"),h="number"==typeof(y=y.get("rotate"))?y*(Math.PI/180):y?e<0?-h+Math.PI:-h:0,A=!!h,d.x=r,d.y=a,d.rotation=h,d.setStyle({verticalAlign:"middle"}),i?(d.setStyle({align:l}),(u=d.states.select)&&(u.x+=d.x,u.y+=d.y)):((h=d.getBoundingRect().clone()).applyTransform(d.getComputedTransform()),u=(d.style.margin||0)+2.1,h.y-=u/2,h.height+=u,D.push({label:d,labelLine:f,position:m,len:S,len2:M,minTurnAngle:w.get("minTurnAngle"),maxSurfaceAngle:w.get("maxSurfaceAngle"),surfaceNormal:new si(e,n),linePoints:s,textAlign:l,labelDistance:v,labelAlignTo:_,edgeDistance:x,bleedMargin:b,rect:h})),c.setTextConfig({inside:i}))}),!A&&t.get("avoidLabelOverlap")&&function(t,e,n,i,o,r,a,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,p=0;p<t.length;p++){var d=t[p].label;qS(t[p])||(d.x<e?(h=Math.min(h,d.x),l.push(t[p])):(c=Math.max(c,d.x),u.push(t[p])))}for(YS(u,e,n,i,1,0,r,0,s,c),YS(l,e,n,i,-1,0,r,0,s,h),p=0;p<t.length;p++){var f,g,y,m,v=t[p],d=v.label;qS(v)||(f=v.linePoints)&&(g="edge"===v.labelAlignTo,y=v.rect.width,m=void 0,(m=g?d.x<e?f[2][0]-v.labelDistance-a-v.edgeDistance:a+o-v.edgeDistance-f[2][0]-v.labelDistance:d.x<e?d.x-a-v.bleedMargin:a+o-d.x-v.bleedMargin)<v.rect.width&&(v.label.style.width=m,"edge"===v.labelAlignTo&&(y=m)),m=f[1][0]-f[2][0],g?d.x<e?f[2][0]=a+v.edgeDistance+y+v.labelDistance:f[2][0]=a+o-v.edgeDistance-y-v.labelDistance:(d.x<e?f[2][0]=d.x+v.labelDistance:f[2][0]=d.x-v.labelDistance,f[1][0]=f[2][0]+m),f[1][1]=f[2][1]=d.y)}}(D,T,C,L,P,e,O,n);for(var i=0;i<D.length;i++){var o,r=D[i],a=r.label,s=r.labelLine,l=isNaN(a.x)||isNaN(a.y);a&&(a.setStyle({align:r.textAlign}),l&&(N(a.states,R),a.ignore=!0),(o=a.states.select)&&(o.x+=a.x,o.y+=a.y)),s&&(o=r.linePoints,l||!o?(N(s.states,R),s.ignore=!0):(zy(o,r.minTurnAngle),function(t,e,n){if(n<=180&&0<n){n=n/180*Math.PI,Ay.fromArray(t[0]),ky.fromArray(t[1]),Ly.fromArray(t[2]),si.sub(Py,ky,Ay),si.sub(Oy,Ly,ky);var i=Py.len(),o=Oy.len();if(!(i<.001||o<.001))if(Py.scale(1/i),Oy.scale(1/o),Py.dot(e)<Math.cos(n)){i=Ty(ky.x,ky.y,Ly.x,Ly.y,Ay.x,Ay.y,Ny,!1);Ey.fromArray(Ny);o=Math.PI/2,n=o+Math.acos(Oy.dot(e))-n;if(o<=n)si.copy(Ey,Ly);else{Ey.scaleAndAdd(Oy,i/Math.tan(Math.PI/2-n));n=Ly.x!==ky.x?(Ey.x-ky.x)/(Ly.x-ky.x):(Ey.y-ky.y)/(Ly.y-ky.y);if(isNaN(n))return;n<0?si.copy(Ey,ky):1<n&&si.copy(Ey,Ly)}Ey.toArray(t[1])}}}(o,r.surfaceNormal,r.maxSurfaceAngle),s.setShape({points:o}),a.__hostTarget.textGuideLineConfig={anchor:new si(o[0][0],o[0][1])}))}}function KS(t,e){t=t.get("borderRadius");return null==t?null:(V(t)||(t=[t,t]),{innerCornerRadius:ki(t[0],e.r0),cornerRadius:ki(t[1],e.r)})}var $S,JS=(l(QS,$S=ol),QS.prototype.updateData=function(t,e,n,i){var o=this,r=t.hostModel,a=t.getItemModel(e),s=a.getModel("emphasis"),l=t.getItemLayout(e),u=D(KS(a.getModel("itemStyle"),l)||{},l);i?(o.setShape(u),"scale"===r.getShallow("animationType")?(o.shape.r=l.r0,Jc(o,{shape:{r:l.r}},r,e)):null!=n?(o.setShape({startAngle:n,endAngle:n}),Jc(o,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},r,e)):(o.shape.endAngle=l.startAngle,$c(o,{shape:{endAngle:l.endAngle}},r,e))):$c(o,{shape:u},r,e),o.useStyle(t.getItemVisual(e,"style")),Th(o,a);i=(l.startAngle+l.endAngle)/2,n=r.get("selectedOffset"),u=Math.cos(i)*n,i=Math.sin(i)*n,n=a.getShallow("cursor");n&&o.attr("cursor",n),this._updateLabel(r,t,e),o.ensureState("emphasis").shape=h({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},KS(s.getModel("itemStyle"),l)),D(o.ensureState("select"),{x:u,y:i,shape:KS(a.getModel(["select","itemStyle"]),l)}),D(o.ensureState("blur"),{shape:KS(a.getModel(["blur","itemStyle"]),l)});l=o.getTextGuideLine(),o=o.getTextContent();D(l.ensureState("select"),{x:u,y:i}),D(o.ensureState("select"),{x:u,y:i}),wh(this,s.get("focus"),s.get("blurScope"))},QS.prototype._updateLabel=function(t,e,n){var i=e.getItemModel(n),o=i.getModel("label"),r=i.getModel("labelLine"),a=e.getItemVisual(n,"style"),s=a&&a.fill,a=a&&a.opacity;Rh(this,Nh(i),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:s,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)},{normal:{opacity:Q(o.get("opacity"),a)}});o=this.getTextContent();this.setTextConfig({position:null,rotation:null}),o.attr({z2:10}),Fy(this,Hy(i),{stroke:s,opacity:Q(r.get(["lineStyle","opacity"]),a)})},QS);function QS(t,e,n){var i=$S.call(this)||this;i.z2=2;var o=new ba,r=new is;return i.setTextGuideLine(o),i.setTextContent(r),i.updateData(t,e,n,!0),i}var tM,Jh=(l(eM,tM=Ag),eM.prototype.init=function(){var t=new Br;this._sectorGroup=t},eM.prototype.render=function(e,t,n,i){var o,r=e.getData(),a=this._data,s=this.group;if(!a&&0<r.count()){for(var l=r.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<r.count();++u)l=r.getItemLayout(u);l&&(o=l.startAngle)}r.diff(a).add(function(t){var e=new JS(r,t,o);r.setItemGraphicEl(t,e),s.add(e)}).update(function(t,e){e=a.getItemGraphicEl(e);e.updateData(r,t,o),e.off("click"),s.add(e),r.setItemGraphicEl(t,e)}).remove(function(t){ep(a.getItemGraphicEl(t),e,t)}).execute(),jS(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},eM.prototype.dispose=function(){},eM.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){e=t[0]-n.cx,t=t[1]-n.cy,t=Math.sqrt(e*e+t*t);return t<=n.r&&t>=n.r0}},eM.type="pie",eM);function eM(){var t=null!==tM&&tM.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}Ag.registerClass(Jh);var nM,iM,oM=2*Math.PI,rM=Math.PI/180;iM=Fv,N([[(nM="pie")+"ToggleSelect","toggleSelect"],[nM+"Select","select"],[nM+"UnSelect","unselect"]],function(o){iM(o[0],function(t,e,n){var i;t=D({},t),n.dispatchAction(D(t,{type:o[1],seriesIndex:(t=t,i=[],e.eachComponent({mainType:"series",subType:nM,query:t},function(t){i.push(t.seriesIndex)}),i)}))})}),Hv(B(function(t,e,I){e.eachSeriesByType(t,function(t){var o=t.getData(),e=o.mapDimension("value"),n=(l=I,Rp(t.getBoxLayoutParams(),{width:l.getWidth(),height:l.getHeight()})),i=t.get("center"),r=t.get("radius");V(r)||(r=[0,r]),V(i)||(i=[i,i]);var a=Rl(n.width,I.getWidth()),s=Rl(n.height,I.getHeight()),l=Math.min(a,s),u=Rl(i[0],a)+n.x,h=Rl(i[1],s)+n.y,c=Rl(r[0],l/2),p=Rl(r[1],l/2),d=-t.get("startAngle")*rM,f=t.get("minAngle")*rM,g=0;o.each(e,function(t){isNaN(t)||g++});var y=o.getSum(e),m=Math.PI/(y||g)*2,v=t.get("clockwise"),_=t.get("roseType"),x=t.get("stillShowZeroSum"),b=o.getDataExtent(e);b[0]=0;var w,S=oM,M=0,T=d,C=v?1:-1;o.setLayout({viewRect:n,r:p}),o.each(e,function(t,e){var n,i;isNaN(t)?o.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:u,cy:h,r0:c,r:_?NaN:p}):((n="area"!==_?0===y&&x?m:t*m:oM/g)<f?S-=n=f:M+=t,i=T+C*n,o.setItemLayout(e,{angle:n,startAngle:T,endAngle:i,clockwise:v,cx:u,cy:h,r0:c,r:_?Ol(t,b,[c,p]):p}),T=i)}),S<oM&&g&&(S<=.001?(w=oM/g,o.each(e,function(t,e){isNaN(t)||((t=o.getItemLayout(e)).angle=w,t.startAngle=d+C*e*w,t.endAngle=d+C*(e+1)*w)})):(m=S/M,T=d,o.each(e,function(t,e){isNaN(t)||(t=(e=o.getItemLayout(e)).angle===f?f:t*m,e.startAngle=T,e.endAngle=T+C*t,T+=C*t)})))})},"pie")),Vv({seriesType:"pie",reset:function(t,e){var i,o=e.findComponents({mainType:"legend"});o&&o.length&&(i=t.getData()).filterSelf(function(t){for(var e=i.getName(t),n=0;n<o.length;n++)if(!o[n].isSelected(e))return!1;return!0})}});var aM,Jh=(l(sM,aM=gg),sM.prototype.getInitialData=function(t,e){return R_(this.getSource(),this,{useEncodeDefaulter:!0})},sM.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},sM.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},sM.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},sM.type="series.scatter",sM.dependencies=["grid","polar","geo","singleAxis","calendar"],sM.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},sM);function sM(){var t=null!==aM&&aM.apply(this,arguments)||this;return t.type=sM.type,t.hasSymbolVisual=!0,t}gg.registerClass(Jh);var lM,uM=function(){},hM=(l(cM,lM=yr),cM.prototype.getDefaultShape=function(){return new uM},cM.prototype.buildPath=function(t,e){var n=e.points,i=e.size,o=this.symbolProxy,r=o.shape,e=t.getContext?t.getContext():t;if(e&&i[0]<4)this._ctx=e;else{this._ctx=null;for(var a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||(r.x=s-i[0]/2,r.y=l-i[1]/2,r.width=i[0],r.height=i[1],o.buildPath(t,r,!0))}}},cM.prototype.afterBrush=function(){var t=this.shape,e=t.points,n=t.size,i=this._ctx;if(i)for(var o=0;o<e.length;){var r=e[o++],a=e[o++];isNaN(r)||isNaN(a)||this.softClipShape&&!this.softClipShape.contain(r,a)||i.fillRect(r-n[0]/2,a-n[1]/2,n[0],n[1])}},cM.prototype.findDataIndex=function(t,e){for(var n=this.shape,i=n.points,n=n.size,o=Math.max(n[0],4),r=Math.max(n[1],4),a=i.length/2-1;0<=a;a--){var s=2*a,l=i[s]-o/2,s=i[1+s]-r/2;if(l<=t&&s<=e&&t<=l+o&&e<=s+r)return a}return-1},cM);function cM(t){return lM.call(this,t)||this}var pM=(dM.prototype.isPersistent=function(){return!this._incremental},dM.prototype.updateData=function(t,e){this.group.removeAll();var n=new hM({rectHover:!0,cursor:"default"});n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,!1,e),this.group.add(n),this._incremental=null},dM.prototype.updateLayout=function(t){var i;this._incremental||(i=t.getLayout("points"),this.group.eachChild(function(t){var e,n;null!=t.startIndex&&(e=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2,i=new Float32Array(i.buffer,n,e)),t.setShape("points",i)}))},dM.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),2e6<t.count()?(this._incremental||(this._incremental=new za({silent:!0})),this.group.add(this._incremental)):this._incremental=null},dM.prototype.incrementalUpdate=function(t,e,n){var i;this._incremental?(i=new hM,this._incremental.addDisplayable(i,!0)):((i=new hM({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,!!this._incremental,n)},dM.prototype._setCommon=function(e,t,n,i){var o=t.hostModel;i=i||{};var r=t.getVisual("symbolSize");e.setShape("size",r instanceof Array?r:[r,r]),e.softClipShape=i.clipShape||null,e.symbolProxy=Kx(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;i=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(i?["color","shadowBlur","shadowColor"]:["color"]));var a,t=t.getVisual("style"),t=t&&t.fill;t&&e.setColor(t),n||((a=Nu(e)).seriesIndex=o.seriesIndex,e.on("mousemove",function(t){a.dataIndex=null;t=e.findDataIndex(t.offsetX,t.offsetY);0<=t&&(a.dataIndex=t+(e.startIndex||0))}))},dM.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},dM.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},dM);function dM(){this.group=new Br}var fM,Jh=(l(gM,fM=Ag),gM.prototype.render=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},gM.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},gM.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},gM.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||1e4<i.count()||!this._symbolDraw.isPersistent())return{update:!0};n=hw("").reset(t,e,n);n.progress&&n.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},gM.prototype._getClipShape=function(t){var e=t.coordinateSystem,e=e&&e.getArea&&e.getArea();return t.get("clip",!0)?e:null},gM.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,e=e.pipelineContext.large;return n&&e===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=new(e?pM:Lb),this._isLargeDraw=e,this.group.removeAll()),this.group.add(n.group),n},gM.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},gM.prototype.dispose=function(){},gM.type="scatter",gM);function gM(){var t=null!==fM&&fM.apply(this,arguments)||this;return t.type=gM.type,t}Ag.registerClass(Jh),Hv(hw("scatter"));var yM={path:null,compoundPath:null,group:Br,image:Wr,text:is};Bv(function(t){var e=t.graphic;V(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var mM=Zv({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,mM.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,t=(e?n:t).elements,i=n.elements=e?[]:n.elements,n=[];this._flatten(t,n);var n=ou(i,n,"normalMerge"),o=this._elOptionsToUpdate=[];N(n,function(t,e){var n=t.newOption;n&&(o.push(n),function(t,e){var n=t.existing;{e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId&&((t=e.parentOption)?e.parentId=t.id:n&&(e.parentId=n.parentId))}e.parentOption=null}(t,n),function(t,e,n){var i=D({},n),o=t[e],r=n.$action||"merge";{"merge"===r?o?(w(o,i,!0),zp(o,i,{ignoreSize:!0}),Vp(n,o)):t[e]=i:"replace"===r?t[e]=i:"remove"===r&&o&&(t[e]=null)}}(i,e,n),function(t,e){if(!t)return;t.hv=e.hv=[xM(e,["left","right"]),xM(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0))}(i[e],n))},this);for(var r=i.length-1;0<=r;r--)null==i[r]?i.splice(r,1):delete i[r].$action},_flatten:function(t,n,i){N(t,function(t){var e;t&&(i&&(t.parentOption=i),n.push(t),e=t.children,"group"===t.type&&e&&this._flatten(e,n,t),delete t.children)},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});function vM(t,e,n,i){var o=n.type;o=yM.hasOwnProperty(o)?yM[o]:Zc(o);n=new o(n);e.add(n),i.set(t,n),n.__ecGraphicId=t}function _M(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){_M(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function xM(e,t){var n;return N(t,function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)}),n}function bM(t,e){var n=[],i=t.seriesIndex;if(null==i||!(a=e.getSeriesByIndex(i)))return{point:[]};var o=a.getData(),r=pu(o,t);if(null==r||r<0||V(r))return{point:[]};var a,s=o.getItemGraphicEl(r),e=a.coordinateSystem;return a.getTooltipPosition?n=a.getTooltipPosition(r)||[]:e&&e.dataToPoint?n=t.isStacked?(i=e.getBaseAxis(),a=e.getOtherAxis(i).dim,t=i.dim,i="x"===a||"radius"===a?1:0,a=o.mapDimension(t),(t=[])[i]=o.get(a,r),t[1-i]=o.get(o.getCalculationInfo("stackResultDimension"),r),e.dataToPoint(t)||[]):e.dataToPoint(o.getValues(P(e.dimensions,function(t){return o.mapDimension(t)}),r))||[]:s&&((r=s.getBoundingRect().clone()).applyTransform(s.transform),n=[r.x+r.width/2,r.y+r.height/2]),{point:n,el:s}}Xv({type:"graphic",init:function(t,e){this._elMap=ht(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},_updateElements:function(s){var l,u,t=s.useElOptionsToUpdate();t&&(l=this._elMap,u=this.group,N(t,function(t){var e=t.$action,n=t.id,i=l.get(n),o=t.parentId,r=null!=o?l.get(o):u,o=t.style;"text"===t.type&&o&&(t.hv&&t.hv[1]&&(o.textVerticalAlign=o.textBaseline=null),!o.hasOwnProperty("textFill")&&o.fill&&(o.textFill=o.fill),!o.hasOwnProperty("textStroke")&&o.stroke&&(o.textStroke=o.stroke));var a,o=(a=D({},a=t),N(["id","parentId","$action","hv","bounding"].concat(kp),function(t){delete a[t]}),a);e&&"merge"!==e?"replace"===e?(_M(i,l),vM(n,r,o,l)):"remove"===e&&_M(i,l):i?i.attr(o):vM(n,r,o,l);n=l.get(n);n&&(n.__ecGraphicWidthOption=t.width,n.__ecGraphicHeightOption=t.height,function(t,e){var n=t.eventData;t.silent||t.ignore||n||(n=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});n&&(n.info=t.info)}(n,s))}))},_relocate:function(t,e){for(var n=t.option.elements,i=this.group,o=this._elMap,r=e.getWidth(),a=e.getHeight(),s=0;s<n.length;s++){var l,u=n[s];(h=o.get(u.id))&&h.isGroup&&(l=(c=h.parent)===i,h.__ecGraphicWidth=Rl(h.__ecGraphicWidthOption,l?r:c.__ecGraphicWidth)||0,h.__ecGraphicHeight=Rl(h.__ecGraphicHeightOption,l?a:c.__ecGraphicHeight)||0)}for(s=n.length-1;0<=s;s--){var h,c,u=n[s];(h=o.get(u.id))&&Np(h,u,(c=h.parent)===i?{width:r,height:a}:{width:c.__ecGraphicWidth,height:c.__ecGraphicHeight},null,{hv:u.hv,boundingMode:u.bounding})}},_clear:function(){var e=this._elMap;e.each(function(t){_M(t,e)}),this._elMap=ht()},dispose:function(){this._clear()}});var wM=du();function SM(t,e,n,i,o){var r,a,s,l,u,h,c,p,d,f,g=t.axis;!g.scale.isBlank()&&g.containData(e)&&(t.involveSeries?(f=(r=(a=e,s=(d=t).axis,l=s.dim,u=a,h=[],c=Number.MAX_VALUE,p=-1,N(d.seriesModels,function(e,t){var n=e.getData().mapDimensionsAll(l);if(e.getAxisTooltipData)var i=e.getAxisTooltipData(n,a,s),o=i.dataIndices,r=i.nestestValue;else{if(!(o=e.getData().indicesOfNearest(n[0],a,"category"===s.type?.5:null)).length)return;r=e.getData().get(n[0],o[0])}null!=r&&isFinite(r)&&(i=a-r,(n=Math.abs(i))<=c&&((n<c||0<=i&&p<0)&&(c=n,p=i,u=r,h.length=0),N(o,function(t){h.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}),{payloadBatch:h,snapToValue:u})).snapToValue,(d=r.payloadBatch)[0]&&null==o.seriesIndex&&D(o,d[0]),!i&&t.snap&&g.containData(f)&&null!=f&&(e=f),n.showPointer(t,e,d),n.showTooltip(t,r,f)):n.showPointer(t,e))}function MM(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function TM(t,e,n,i){var o,r=n.payloadBatch,a=e.axis,s=a.model,l=e.axisPointerModel;e.triggerTooltip&&r.length&&(n=Lw(o=e.coordSys.model),(e=t.map[n])||(e=t.map[n]={coordSysId:o.id,coordSysIndex:o.componentIndex,coordSysType:o.type,coordSysMainType:o.mainType,dataByAxis:[]},t.list.push(e)),e.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:r.slice()}))}function CM(t){var e=t.axis.model,n={},t=n.axisDim=t.axis.dim;return n.axisIndex=n[t+"AxisIndex"]=e.componentIndex,n.axisName=n[t+"AxisName"]=e.name,n.axisId=n[t+"AxisId"]=e.id,n}function IM(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}var DM=du(),AM=N;function kM(t,e,n){var i;v.node||(i=e.getZr(),DM(i).records||(DM(i).records={}),function(s,l){if(DM(s).initialized)return;function t(t,a){s.on(t,function(e){var n,i,o,r=(n=l,{dispatchAction:o=function(t){var e=i[t.type];e?e.push(t):(t.dispatchAction=o,n.dispatchAction(t))},pendings:i={showTip:[],hideTip:[]}});AM(DM(s).records,function(t){t&&a(t,e,r.dispatchAction)}),function(t,e){var n,i=t.showTip.length,o=t.hideTip.length;i?n=t.showTip[i-1]:o&&(n=t.hideTip[o-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,l)})}DM(s).initialized=!0,t("click",B(PM,"click")),t("mousemove",B(PM,"mousemove")),t("globalout",LM)}(i,e),(DM(i).records[t]||(DM(i).records[t]={})).handler=n)}function LM(t,e,n){t.handler("leave",null,n)}function PM(t,e,n,i){e.handler(t,n,i)}function OM(t,e){v.node||(e=e.getZr(),(DM(e).records||{})[t]&&(DM(e).records[t]=null))}var RM,Jh=(l(NM,RM=Mg),NM.prototype.render=function(t,e,n){var e=e.getComponent("tooltip"),i=t.get("triggerOn")||e&&e.get("triggerOn")||"mousemove|click";kM("axisPointer",n,function(t,e,n){"none"!==i&&("leave"===t||0<=i.indexOf(t))&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},NM.prototype.remove=function(t,e){OM("axisPointer",e)},NM.prototype.dispose=function(t,e){OM("axisPointer",e)},NM.type="axisPointer",NM);function NM(){var t=null!==RM&&RM.apply(this,arguments)||this;return t.type=NM.type,t}Mg.registerClass(Jh);var EM=du(),zM=I,BM=z,Jh=(VM.prototype.render=function(t,e,n,i){var o=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==o||this._lastStatus!==r){this._lastValue=o,this._lastStatus=r;var a=this._group,i=this._handle;if(!r||"hide"===r)return a&&a.hide(),void(i&&i.hide());a&&a.show(),i&&i.show();r={};this.makeElOption(r,o,t,e,n);i=r.graphicKey;i!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=i;i=this._moveAnimation=this.determineAnimation(t,e);a?(i=B(FM,e,i),this.updatePointerEl(a,r,i),this.updateLabelEl(a,r,i,e)):(a=this._group=new Br,this.createPointerEl(a,r,t,e),this.createLabelEl(a,r,t,e),n.getZr().add(a)),WM(a,e,!0),this._renderHandle(o)}},VM.prototype.remove=function(t){this.clear(t)},VM.prototype.dispose=function(t){this.clear(t)},VM.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,o="category"===i.type,e=e.get("snap");if(!e&&!o)return!1;if("auto"!==n&&null!=n)return!0===n;n=this.animationThreshold;if(o&&i.getBandWidth()>n)return!0;if(e){t=Aw(t).seriesDataCount,i=i.getExtent();return Math.abs(i[0]-i[1])/t>n}return!1},VM.prototype.makeElOption=function(t,e,n,i,o){},VM.prototype.createPointerEl=function(t,e,n,i){var o=e.pointer;o&&(e=EM(t).pointerEl=new fp[o.type](zM(e.pointer)),t.add(e))},VM.prototype.createLabelEl=function(t,e,n,i){e.label&&(e=EM(t).labelEl=new is(zM(e.label)),t.add(e),HM(e,i))},VM.prototype.updatePointerEl=function(t,e,n){t=EM(t).pointerEl;t&&e.pointer&&(t.setStyle(e.pointer.style),n(t,{shape:e.pointer.shape}))},VM.prototype.updateLabelEl=function(t,e,n,i){t=EM(t).labelEl;t&&(t.setStyle(e.label.style),n(t,{x:e.label.x,y:e.label.y}),HM(t,i))},VM.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,r=n.getModel("handle"),a=n.get("status");if(!r.get("show")||!a||"hide"===a)return o&&i.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=pp(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Jt(t.event)},onmousedown:BM(this._onHandleDragMove,this,0,0),drift:BM(this._onHandleDragMove,this),ondragend:BM(this._onHandleDragEnd,this)}),i.add(o)),WM(o,n,!1),o.setStyle(r.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));n=r.get("size");V(n)||(n=[n,n]),o.scaleX=n[0]/2,o.scaleY=n[1]/2,Fg(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},VM.prototype._moveHandleToValue=function(t,e){FM(this._axisPointerModel,!e&&this._moveAnimation,this._handle,GM(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},VM.prototype._onHandleDragMove=function(t,e){var n=this._handle;n&&(this._dragging=!0,e=this.updateHandleTransform(GM(n),[t,e],this._axisModel,this._axisPointerModel),this._payloadInfo=e,n.stopAnimation(),n.attr(GM(e)),EM(n).lastProp=null,this._doDispatchAxisPointer())},VM.prototype._doDispatchAxisPointer=function(){var t,e;this._handle&&(t=this._payloadInfo,e=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]}))},VM.prototype._onHandleDragEnd=function(){var t;this._dragging=!1,this._handle&&(t=this._axisPointerModel.get("value"),this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"}))},VM.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,t=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),t&&e.remove(t),this._group=null,this._handle=null,this._payloadInfo=null)},VM.prototype.doClear=function(){},VM.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},VM);function VM(){this._dragging=!1,this.animationThreshold=15}function FM(t,e,n,i){!function n(i,t){{if(U(i)&&U(t)){var o=!0;return N(t,function(t,e){o=o&&n(i[e],t)}),!!o}return i===t}}(EM(n).lastProp,i)&&(EM(n).lastProp=i,e?$c(n,i,t):(n.stopAnimation(),n.attr(i)))}function HM(t,e){t[e.get(["label","show"])?"show":"hide"]()}function GM(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function WM(t,e,n){var i=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=o&&(t.zlevel=o),t.silent=n)})}function UM(t,e,n,i,o){var r=ZM(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=mp(a.get("padding")||0),l=a.getFont(),u=Ci(r,l),h=o.position,c=u.width+s[1]+s[3],n=u.height+s[0]+s[2],u=o.align;"right"===u&&(h[0]-=c),"center"===u&&(h[0]-=c/2);u=o.verticalAlign;"bottom"===u&&(h[1]-=n),"middle"===u&&(h[1]-=n/2),o=h,u=c,c=n,i=(n=i).getWidth(),n=n.getHeight(),o[0]=Math.min(o[0]+u,i)-u,o[1]=Math.min(o[1]+c,n)-c,o[0]=Math.max(o[0],0),o[1]=Math.max(o[1],0);o=a.get("backgroundColor");o&&"auto"!==o||(o=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:Eh(a,{text:r,font:l,fill:a.getTextColor(),padding:s,backgroundColor:o}),z2:10}}function ZM(t,e,n,i,o){t=e.scale.parse(t);var r,a=e.scale.getLabel({value:t},{precision:o.precision}),o=o.formatter;return o&&(r={value:Bx(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]},N(i,function(t){var e=n.getSeriesByIndex(t.seriesIndex),t=t.dataIndexInside,t=e&&e.getDataParams(t);t&&r.seriesData.push(t)}),H(o)?a=o.replace("{value}",a):F(o)&&(a=o(r))),a}function XM(t,e,n){var i=Un();return jn(i,i,n.rotation),qn(i,i,n.position),sp([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}var YM,Jh=(l(qM,YM=Jh),qM.prototype.makeElOption=function(t,e,n,i,o){var r,a,s=n.axis,l=s.grid,u=i.get("type"),h=jM(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(e,!0));u&&"none"!==u&&(a=(r=i).get("type"),r=r.getModel(a+"Style"),"line"===a?(p=r.getLineStyle()).fill=null:"shadow"===a&&((p=r.getAreaStyle()).stroke=null),r=p,(p=KM[u](s,c,h)).style=r,t.graphicKey=p.type,t.pointer=p);var p=Nw(l.model,n);l=e,e=t,t=p,p=n,n=i,i=o,o=xw.innerTextLayout(t.rotation,0,t.labelDirection),t.labelMargin=n.get(["label","margin"]),UM(e,p,n,i,{position:XM(p.axis,l,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})},qM.prototype.getHandleTransform=function(t,e,n){var i=Nw(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);t=XM(e.axis,t,i);return{x:t[0],y:t[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},qM.prototype.updateHandleTransform=function(t,e,n,i){var o=n.axis,r=o.grid,a=o.getGlobalExtent(!0),n=jM(r,o).getOtherAxis(o).getGlobalExtent(),r="x"===o.dim?0:1,o=[t.x,t.y];o[r]+=e[r],o[r]=Math.min(a[1],o[r]),o[r]=Math.max(a[0],o[r]);n=(n[1]+n[0])/2,n=[n,n];n[r]=o[r];return{x:o[0],y:o[1],rotation:t.rotation,cursorPoint:n,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][r]}},qM);function qM(){return null!==YM&&YM.apply(this,arguments)||this}function jM(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var KM={line:function(t,e,n){var i;return{type:"Line",subPixelOptimize:!0,shape:(i=[e,n[0]],n=[e,n[1]],t=$M(t),{x1:i[t=t||0],y1:i[1-t],x2:n[t],y2:n[1-t]})}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:(n=[e-i/2,n[0]],o=[i,o],t=$M(t),{x:n[t=t||0],y:n[1-t],width:o[t],height:o[1-t]})}}};function $M(t){return"x"===t.dim?0:1}r.registerAxisPointerClass("CartesianAxisPointer",Jh);var JM,r=(l(QM,JM=Zp),QM.type="axisPointer",QM.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},QM);function QM(){var t=null!==JM&&JM.apply(this,arguments)||this;return t.type=QM.type,t}Zp.registerClass(r),Bv(function(t){var e;t&&(t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={}),(e=t.axisPointer.link)&&!V(e)&&(t.axisPointer.link=[e]))}),Vv(Zh.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Iw(t,e)}),Fv({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,n){var i=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||z(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){IM(r)&&(r=bM({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=IM(r),u=o.axesInfo,h=s.axesInfo,c="leave"===i||IM(r),p={},d={},o={list:[],map:{}},f={showPointer:B(MM,d),showTooltip:B(TM,o)};N(s.coordSysMap,function(t,e){var o=l||t.containPoint(r);N(s.coordSysAxesInfo[e],function(t,e){var n=t.axis,i=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);c||!o||u&&!i||(null!=(i=i&&i.value)||l||(i=n.pointToData(r)),null!=i&&SM(t,i,f,!1,p))})});var g,y,m={};return N(h,function(n,t){var i=n.linkGroup;i&&!d[t]&&N(i.axesInfo,function(t,e){e=d[e];t!==n&&e&&(e=e.value,i.mapper&&(e=n.axis.scale.parse(i.mapper(e,CM(t),CM(n)))),m[n.key]=e)})}),N(m,function(t,e){SM(h[e],t,f,!0,p)}),g=d,i=h,y=p.axesInfo=[],N(i,function(t,e){var n=t.axisPointerModel.option,e=g[e];e?(t.useHandle||(n.status="show"),n.value=e.value,n.seriesDataIndices=(e.payloadBatch||[]).slice()):t.useHandle||(n.status="hide"),"show"===n.status&&y.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:n.value})}),function(t,e,n,i){if(IM(e)||!t.list.length)return i({type:"hideTip"});var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}(o,r,t,a),function(t,e){var n=e.getZr(),i="axisPointerLastHighlights",o=wM(n)[i]||{},r=wM(n)[i]={};N(t,function(t,e){t=t.axisPointerModel.option;"show"===t.status&&N(t.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;r[e]=t})});var a=[],s=[];N(o,function(t,e){r[e]||s.push(t)}),N(r,function(t,e){o[e]||a.push(t)}),s.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),a.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}(h,n),p}});var tT,Jh=(l(eT,tT=Zp),eT.type="tooltip",eT.dependencies=["axisPointer"],eT.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderColor:"#333",borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},eT);function eT(){var t=null!==tT&&tT.apply(this,arguments)||this;return t.type=eT.type,t}function nT(t){var e=t.get("confine");return null!=e?e:"richText"===t.get("renderMode")}Zp.registerClass(Jh);var iT=["-ms-","-moz-","-o-","-webkit-",""];function oT(i,t,e){var n,o,r,a=[],s=i.get("transitionDuration"),l=i.get("backgroundColor"),u=i.get("shadowBlur"),h=i.get("shadowColor"),c=i.get("shadowOffsetX"),p=i.get("shadowOffsetY"),d=i.getModel("textStyle"),f=lg(i,"html"),h=c+"px "+p+"px "+u+"px "+h;return a.push("box-shadow:"+h),t&&s&&a.push((n="opacity "+(t=s)/2+"s "+(s="cubic-bezier(0.23, 1, 0.32, 1)")+",visibility "+t/2+"s "+s,e||(n+=",left "+t+"s "+s+",top "+t+"s "+s),P(iT,function(t){return t+"transition:"+n}).join(";"))),l&&(v.canvasSupported?a.push("background-Color:"+l):(a.push("background-Color:#"+Je(l)),a.push("filter:alpha(opacity=70)"))),N(["width","color","radius"],function(t){var e="border-"+t,n=yp(e),n=i.get(n);null!=n&&a.push(e+":"+n+("color"===t?"":"px"))}),a.push((r=[],l=(o=d).get("fontSize"),(d=o.getTextColor())&&r.push("color:"+d),r.push("font:"+o.getFont()),l&&r.push("line-height:"+Math.round(3*l/2)+"px"),N(["decoration","align"],function(t){var e=o.get(t);e&&r.push("text-"+t+":"+e)}),r.join(";"))),null!=f&&a.push("padding:"+mp(f).join("px ")+"px"),a.join(";")+";"}function rT(t,e,n,i,o){var r,a,s=e&&e.painter;n?(a=s&&s.getViewportRoot())&&(r=t,n=a,a=document.body,Gt(Ht,n,i,o,!0)&&Gt(r,a,Ht[0],Ht[1])):(t[0]=i,t[1]=o,(s=s&&s.getViewportRootOffset())&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)),t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var aT=(sT.prototype.update=function(t){var e=this._container,n=e.currentStyle||document.defaultView.getComputedStyle(e),e=e.style;"absolute"!==e.position&&"absolute"!==n.position&&(e.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},sT.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=this._styleCoord,o=n.offsetHeight/2;e=Cp(e),n.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+oT(t,!this._firstShow,this._longHide)+";left:"+i[0]+"px;top:"+(i[1]-o)+"px;border-color: "+e+";"+(t.get("extraCssText")||""),n.style.display=n.innerHTML?"block":"none",n.style.pointerEvents=this._enterable?"auto":"none",this._show=!0,this._firstShow=!1,this._longHide=!1},sT.prototype.setContent=function(t,e,n,i,o){null!=t&&(H(o)&&"item"===n.get("trigger")&&!nT(n)&&(t+=function(t,e,n){if(!H(n)||"inside"===n)return"";e=Cp(e);var n=i="left"===(i=n)?"right":"right"===i?"left":"top"===i?"bottom":"top",i="",o="",o=-1<k(["left","right"],n)?(i=n+":-6px;top:50%;","translateY(-50%) rotate("+("left"==n?-225:-45)+"deg)"):(i=n+":-6px;left:50%;","translateX(-50%) rotate("+("top"==n?225:45)+"deg)");return'<div style="'+["position:absolute;width:10px;height:10px;",""+i+(o=P(iT,function(t){return t+"transform:"+o}).join(";"))+";","border-bottom: "+e+" solid 1px;","border-right: "+e+" solid 1px;","background-color: "+t+";","box-shadow: 8px 8px 16px -3px #000;"].join("")+'"></div>'}(n.get("backgroundColor"),i,o)),this.el.innerHTML=t)},sT.prototype.setEnterable=function(t){this._enterable=t},sT.prototype.getSize=function(){var t=this.el;return[t.clientWidth,t.clientHeight]},sT.prototype.moveTo=function(t,e){var n=this._styleCoord;rT(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]&&((e=this.el.style).left=n[0].toFixed(0)+"px",e.top=n[1].toFixed(0)+"px")},sT.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},sT.prototype.hide=function(){var t=this;this.el.style.visibility="hidden",this.el.style.opacity="0",this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},sT.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(z(this.hide,this),t)):this.hide())},sT.prototype.isShow=function(){return this._show},sT.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},sT.prototype.getOuterSize=function(){var t,e=this.el.clientWidth,n=this.el.clientHeight;return document.defaultView&&document.defaultView.getComputedStyle&&((t=document.defaultView.getComputedStyle(this.el))&&(e+=parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),n+=parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:e,height:n}},sT);function sT(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,v.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=e.getZr(),n=this._appendToBody=n&&n.appendToBody;rT(this._styleCoord,o,n,e.getWidth()/2,e.getHeight()/2),(n?document.body:t).appendChild(i),this._container=t;var r=this;i.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},i.onmousemove=function(t){var e;t=t||window.event,r._enterable||(e=o.handler,Kt(o.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t))},i.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}var lT=(uT.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},uT.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},uT.prototype.setContent=function(t,e,n,i,o){this.el&&this._zr.remove(this.el),this.el=new is({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:n.get("backgroundColor"),borderRadius:n.get("borderRadius"),borderWidth:1,borderColor:i,shadowColor:n.get("shadowColor"),shadowBlur:n.get("shadowBlur"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY"),fill:n.get(["textStyle","color"]),padding:lg(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),this._zr.add(this.el);var r=this;this.el.on("mouseover",function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0}),this.el.on("mouseout",function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1})},uT.prototype.setEnterable=function(t){this._enterable=t},uT.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),t=cT(t.style);return[e.width+t.left+t.right,e.height+t.top+t.bottom]},uT.prototype.moveTo=function(t,e){var n,i,o=this.el;o&&(pT(n=this._styleCoord,this._zr,t,e),t=n[0],e=n[1],n=hT((i=o.style).borderWidth||0),i=cT(i),o.x=t+n+i.left,o.y=e+n+i.top,o.markRedraw())},uT.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},uT.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},uT.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(z(this.hide,this),t)):this.hide())},uT.prototype.isShow=function(){return this._show},uT.prototype.getOuterSize=function(){var t=this.getSize();return{width:t[0],height:t[1]}},uT.prototype.dispose=function(){this._zr.remove(this.el)},uT);function uT(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),pT(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}function hT(t){return Math.max(0,t)}function cT(t){var e=hT(t.shadowBlur||0),n=hT(t.shadowOffsetX||0),t=hT(t.shadowOffsetY||0);return{left:hT(e-n),right:hT(e+n),top:hT(e-t),bottom:hT(e+t)}}function pT(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var dT,fT=z,gT=N,yT=Rl,mT=new na({shape:{x:-1,y:-1,width:2,height:2}}),r=(l(vT,dT=Mg),vT.prototype.init=function(t,e){var n;v.node||(t=(n=t.getComponent("tooltip")).get("renderMode"),this._renderMode="auto"===(t=t)?v.domSupported?"html":"richText":t||"html",this._tooltipContent="richText"===this._renderMode?new lT(e):new aT(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)}))},vT.prototype.render=function(t,e,n){v.node||(this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent"),(n=this._tooltipContent).update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow())},vT.prototype._initGlobalListener=function(){var i=this._tooltipModel.get("triggerOn");kM("itemTooltip",this._api,fT(function(t,e,n){"none"!==i&&(0<=i.indexOf(t)?this._tryShow(e,n):"leave"===t&&this._hide(n))},this))},vT.prototype._keepShow=function(){var t,e=this._tooltipModel,n=this._ecModel,i=this._api;null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")&&(t=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.isDisposed()||t.manuallyShowTip(e,n,i,{x:t._lastX,y:t._lastY,dataByCoordSys:t._lastDataByCoordSys})}))},vT.prototype.manuallyShowTip=function(t,e,n,i){var o,r,a;i.from===this.uid||v.node||(o=xT(i,n),this._ticket="",a=i.dataByCoordSys,i.tooltip&&null!=i.x&&null!=i.y?((r=mT).x=i.x,r.y=i.y,r.update(),r.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:r},o)):a?this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:a,tooltipOption:i.tooltipOption},o):null!=i.seriesIndex?this._manuallyAxisShowTip(t,e,n,i)||(t=(a=bM(i,e)).point[0],e=a.point[1],null!=t&&null!=e&&this._tryShow({offsetX:t,offsetY:e,position:i.position,target:a.el},o)):null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o)))},vT.prototype.manuallyHideTip=function(t,e,n,i){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(xT(i,n))},vT.prototype._manuallyAxisShowTip=function(t,e,n,i){var o=i.seriesIndex,r=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=a){e=e.getSeriesByIndex(o);if(e)if("axis"===_T([e.getData().getItemModel(r),e,(e.coordinateSystem||{}).model,t]).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:i.position}),!0}},vT.prototype._tryShow=function(t,e){var n,i=t.target;this._tooltipModel&&(this._lastX=t.offsetX,this._lastY=t.offsetY,(n=t.dataByCoordSys)&&n.length?this._showAxisTooltip(n,t):i&&km(i,function(t){return null!=Nu(t).dataIndex})?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e)))},vT.prototype._showOrMove=function(t,e){t=t.get("showDelay");e=z(e,this),clearTimeout(this._showTimout),0<t?this._showTimout=setTimeout(e,t):e()},vT.prototype._showAxisTooltip=function(t,e){var l=this._ecModel,n=this._tooltipModel,i=[e.offsetX,e.offsetY],o=_T([e.tooltipOption,n]),u=this._renderMode,h=[],c=eg("section",{blocks:[],noHeader:!0}),p=[],d=new ug;gT(t,function(t){gT(t.dataByAxis,function(i){var o,r,a=l.getComponent(i.axisDim+"Axis",i.axisIndex),s=i.value;a&&null!=s&&(o=ZM(s,a.axis,l,i.seriesDataIndices,i.valueLabelOpt),r=eg("section",{header:o,noHeader:!ot(o),sortBlocks:!0,blocks:[]}),c.blocks.push(r),N(i.seriesDataIndices,function(t){var e=l.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,t=e.getDataParams(n);t.axisDim=i.axisDim,t.axisIndex=i.axisIndex,t.axisType=i.axisType,t.axisId=i.axisId,t.axisValue=Bx(a.axis,{value:s}),t.axisValueLabel=o,t.marker=d.makeTooltipMarker("item",Cp(t.color),u);n=bf(e.formatTooltip(n,!0,null));n.markupFragment&&r.blocks.push(n.markupFragment),n.markupText&&p.push(n.markupText),h.push(t)}))})}),c.blocks.reverse(),p.reverse();var r=e.position,e=o.get("order"),e=og(c,d,u,e);e&&p.unshift(e);var e="richText"===u?"\n\n":"<br/>",a=p.join(e);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(o,r,i[0],i[1],this._tooltipContent,h):this._showTooltipContent(o,a,h,Math.random()+"",i[0],i[1],r,null,d)})},vT.prototype._showSeriesItemTooltip=function(t,e,n){var i,o,r,a,s=km(e,function(t){return null!=Nu(t).dataIndex}),l=this._ecModel,u=Nu(s),h=u.seriesIndex,c=l.getSeriesByIndex(h),p=u.dataModel||c,e=u.dataIndex,s=u.dataType,l=p.getData(s),u=this._renderMode,d=_T([l.getItemModel(e),p,c&&(c.coordinateSystem||{}).model,this._tooltipModel]),c=d.get("trigger");null!=c&&"item"!==c||(i=p.getDataParams(e,s),o=new ug,i.marker=o.makeTooltipMarker("item",Cp(i.color),u),c=bf(p.formatTooltip(e,!1,s)),s=d.get("order"),r=c.markupFragment?og(c.markupFragment,o,u,s):c.markupText,a="item_"+p.name+"_"+e,this._showOrMove(d,function(){this._showTooltipContent(d,r,i,a,t.offsetX,t.offsetY,t.position,t.target,o)}),n({type:"showTip",dataIndexInside:e,dataIndex:l.getRawIndex(e),seriesIndex:h,from:this.uid}))},vT.prototype._showComponentItemTooltip=function(t,e,n){var i=e.tooltip;H(i)&&(i={content:i,formatter:i});var o=new nc(i,this._tooltipModel,this._ecModel),r=o.get("content"),a=Math.random()+"",s=new ug;this._showOrMove(o,function(){this._showTooltipContent(o,r,o.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e,s)}),n({type:"showTip",from:this.uid})},vT.prototype._showTooltipContent=function(n,t,i,e,o,r,a,s,l){var u,h,c,p;this._ticket="",n.get("showContent")&&n.get("show")&&(u=this._tooltipContent,h=n.get("formatter"),a=a||n.get("position"),c=t,p=this._getNearestPoint([o,r],i,n.get("trigger")),h&&H(h)?c=Mp(h,i,!0):F(h)&&(t=fT(function(t,e){t===this._ticket&&(u.setContent(e,l,n,p.color,a),this._updatePosition(n,a,o,r,u,i,s))},this),this._ticket=e,c=h(i,e,t)),u.setContent(c,l,n,p.color,a),u.show(n,p.color),this._updatePosition(n,a,o,r,u,i,s))},vT.prototype._getNearestPoint=function(t,e,n){return"axis"===n||V(e)?{color:"html"===this._renderMode?"#fff":"none"}:V(e)?void 0:{color:e.color||e.borderColor}},vT.prototype._updatePosition=function(t,e,n,i,o,r,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u,h=o.getSize(),c=t.get("align"),p=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();a&&d.applyTransform(a.transform),F(e)&&(e=e([n,i],r,o.el,d,{viewSize:[s,l],contentSize:h.slice()})),V(e)?(n=yT(e[0],s),i=yT(e[1],l)):U(e)?((r=e).width=h[0],r.height=h[1],n=(r=Rp(r,{width:s,height:l})).x,i=r.y,p=c=null):i=(n=(u=H(e)&&a?function(t,e,n){var i=n[0],o=n[1],r=0,a=0,s=e.width,n=e.height;switch(t){case"inside":r=e.x+s/2-i/2,a=e.y+n/2-o/2;break;case"top":r=e.x+s/2-i/2,a=e.y-o-10;break;case"bottom":r=e.x+s/2-i/2,a=e.y+n+10;break;case"left":r=e.x-i-10-5,a=e.y+n/2-o/2;break;case"right":r=e.x+s+10+5,a=e.y+n/2-o/2}return[r,a]}(e,d,h):function(t,e,n,i,o,r,a){var s=n.getOuterSize(),n=s.width,s=s.height;null!=r&&(i<t+n+r+2?t-=n+r:t+=r);null!=a&&(o<e+s+a?e-=s+a:e+=a);return[t,e]}(n,i,o,s,l,c?null:20,p?null:20))[0],u[1]),c&&(n-=bT(c)?h[0]/2:"right"===c?h[0]:0),p&&(i-=bT(p)?h[1]/2:"bottom"===p?h[1]:0),nT(t)&&(n=(u=(c=n,p=i,h=s,t=l,s=(l=(s=o).getOuterSize()).width,l=l.height,c=Math.min(c+s,h)-s,p=Math.min(p+l,t)-l,c=Math.max(c,0),p=Math.max(p,0),[c,p]))[0],i=u[1]),o.moveTo(n,i)},vT.prototype._updateContentNotChangedOnAxis=function(n){var t=this._lastDataByCoordSys,r=!!t&&t.length===n.length;return r&&gT(t,function(t,e){var t=t.dataByAxis||[],o=(n[e]||{}).dataByAxis||[];(r=r&&t.length===o.length)&&gT(t,function(t,e){var n=o[e]||{},e=t.seriesDataIndices||[],i=n.seriesDataIndices||[];(r=r&&t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&e.length===i.length)&&gT(e,function(t,e){e=i[e];r=r&&t.seriesIndex===e.seriesIndex&&t.dataIndex===e.dataIndex})})}),this._lastDataByCoordSys=n,!!r},vT.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},vT.prototype.dispose=function(t,e){v.node||(this._tooltipContent.dispose(),OM("itemTooltip",e))},vT.type="tooltip",vT);function vT(){var t=null!==dT&&dT.apply(this,arguments)||this;return t.type=vT.type,t}function _T(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(n instanceof nc&&(n=n.get("tooltip",!0)),H(n)&&(n={formatter:n}),e=new nc(n,e,e.ecModel))}return e}function xT(t,e){return t.dispatchAction||z(e.dispatchAction,e)}function bT(t){return"center"===t||"middle"===t}Mg.registerClass(r),Fv({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Fv({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var wT,Jh=(l(ST,wT=Zp),ST.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},ST.prototype.mergeOption=function(t,e){wT.prototype.mergeOption.call(this,t,e),this._updateSelector(t)},ST.prototype._updateSelector=function(t){var n=t.selector,i=this.ecModel;!0===n&&(n=t.selector=["all","inverse"]),V(n)&&N(n,function(t,e){H(t)&&(t={type:t}),n[e]=w(t,(e=i,"all"===(t=t.type)?{type:"all",title:e.getLocale(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocale(["legend","selector","inverse"])}:void 0))})},ST.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}e||this.select(t[0].get("name"))}},ST.prototype._updateData=function(i){var o=[],r=[];i.eachRawSeries(function(t){var e,n=t.name;r.push(n),t.legendVisualProvider?(n=t.legendVisualProvider.getAllNames(),i.isSeriesFiltered(t)||(r=r.concat(n)),n.length?o=o.concat(n):e=!0):e=!0,e&&uu(t)&&o.push(t.name)}),this._availableNames=r;var t=P(this.get("data")||o,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new nc(t,this,this.ecModel)},this);this._data=t},ST.prototype.getData=function(){return this._data},ST.prototype.select=function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&N(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},ST.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},ST.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},ST.prototype.allSelect=function(){var t=this._data,e=this.option.selected;N(t,function(t){e[t.get("name",!0)]=!0})},ST.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;N(t,function(t){t=t.get("name",!0);e.hasOwnProperty(t)||(e[t]=!0),e[t]=!e[t]})},ST.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=k(this._availableNames,t)},ST.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},ST.type="legend.plain",ST.dependencies=["series"],ST.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},ST);function ST(){var t=null!==wT&&wT.apply(this,arguments)||this;return t.type=ST.type,t.layoutMode={type:"box",ignoreSize:!0},t}function MT(t,e,n){var i,o={},r="toggleSelected"===t;return n.eachComponent("legend",function(n){r&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name)),N(n.getData(),function(t){var e=t.get("name");"\n"!==e&&""!==e&&(t=n.isSelected(e),o.hasOwnProperty(e)?o[e]=o[e]&&t:o[e]=t)})}),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}function TT(t,e){var n=mp(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new na({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}Zp.registerClass(Jh),Fv("legendToggleSelect","legendselectchanged",B(MT,"toggleSelected")),Fv("legendAllSelect","legendselectall",B(MT,"allSelect")),Fv("legendInverseSelect","legendinverseselect",B(MT,"inverseSelect")),Fv("legendSelect","legendselected",B(MT,"select")),Fv("legendUnSelect","legendunselected",B(MT,"unSelect"));var CT,IT=B,DT=N,AT=Br,r=(l(kT,CT=Mg),kT.prototype.init=function(){this.group.add(this._contentGroup=new AT),this.group.add(this._selectorGroup=new AT),this._isFirstRender=!0},kT.prototype.getContentGroup=function(){return this._contentGroup},kT.prototype.getSelectorGroup=function(){return this._selectorGroup},kT.prototype.render=function(t,e,n){var i,o,r,a,s,l=this._isFirstRender;this._isFirstRender=!1,this.resetInner(),t.get("show",!0)&&(i=t.get("align"),s=t.get("orient"),i&&"auto"!==i||(i="right"===t.get("left")&&"vertical"===s?"right":"left"),o=t.get("selector",!0),a=t.get("selectorPosition",!0),!o||a&&"auto"!==a||(a="horizontal"===s?"end":"start"),this.renderInner(i,t,e,n,o,s,a),n=Rp(r=t.getBoxLayoutParams(),e={width:n.getWidth(),height:n.getHeight()},s=t.get("padding")),s=Rp(A({width:(a=this.layoutInner(t,i,n,l,o,a)).width,height:a.height},r),e,s),this.group.x=s.x-a.x,this.group.y=s.y-a.y,this.group.markRedraw(),this.group.add(this._backgroundEl=TT(a,t)))},kT.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},kT.prototype.renderInner=function(l,u,h,c,t,e,n){var p=this.getContentGroup(),d=ht(),f=u.get("selectedMode"),g=[];h.eachRawSeries(function(t){t.get("legendHoverLink")||g.push(t.id)}),DT(u.getData(),function(i,o){var r=i.get("name");if(!this.newlineDisabled&&(""===r||"\n"===r)){var t=new AT;return t.newline=!0,void p.add(t)}var e,n,a,s=h.getSeriesByName(r)[0];d.get(r)||(s?(e=(n=(a=s.getData()).getVisual("style"))[a.getVisual("drawType")]||n.fill,t=n.stroke,n=a.getVisual("legendSymbol")||"roundRect",a=a.getVisual("symbol"),this._createItem(r,o,i,u,n,a,l,e,t,f).on("click",IT(PT,r,null,c,g)).on("mouseover",IT(RT,s.name,null,c,g)).on("mouseout",IT(NT,s.name,null,c,g)),d.set(r,!0)):h.eachRawSeries(function(t){var e,n;d.get(r)||!t.legendVisualProvider||(e=t.legendVisualProvider).containName(r)&&(n=e.indexOfName(r),e=(t=e.getItemVisual(n,"style")).stroke,n=t.fill,(t=je(t.fill))&&0===t[3]&&(t[3]=.2,n=nn(t,"rgba")),this._createItem(r,o,i,u,"roundRect",null,l,n,e,f).on("click",IT(PT,null,r,c,g)).on("mouseover",IT(RT,null,r,c,g)).on("mouseout",IT(NT,null,r,c,g)),d.set(r,!0))},this))},this),t&&this._createSelector(t,u,c,e,n)},kT.prototype._createSelector=function(t,i,o,e,n){var r=this.getSelectorGroup();DT(t,function(t){var e=t.type,n=new is({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:"all"===e?"legendAllSelect":"legendInverseSelect"})}});r.add(n),Rh(n,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),wh(n)})},kT.prototype._createItem=function(t,e,n,i,o,r,a,s,l,u){var h=i.get("itemWidth"),c=i.get("itemHeight"),p=i.get("inactiveColor"),d=i.get("inactiveBorderColor"),f=i.get("symbolKeepAspect"),g=i.getModel("itemStyle"),y=i.isSelected(t),m=new AT,v=n.getModel("textStyle"),_=n.get("icon"),x=n.getModel("tooltip"),b=x.parentModel,n=Kx(o=_||o,0,0,h,c,y?s:p,null==f||f);m.add(LT(n,o,g,l,d,y)),_||!r||r===o&&"none"!==r||("none"===r&&(r="circle"),f=Kx(r,(h-(o=.8*c))/2,(c-o)/2,o,o,y?s:p,null==f||f),m.add(LT(f,r,g,l,d,y)));l="left"===a?h+5:-5,d=a,h=i.get("formatter"),a=t;"string"==typeof h&&h?a=h.replace("{name}",null!=t?t:""):"function"==typeof h&&(a=h(t)),m.add(new is({style:Eh(v,{text:a,x:l,y:c/2,fill:y?v.getTextColor():p,align:d,verticalAlign:"middle"})}));d=new na({shape:m.getBoundingRect(),invisible:!0});return x.get("show")&&(i={componentType:"legend",legendIndex:i.componentIndex,name:t,$vars:["name"]},d.tooltip=D({content:t,formatter:b.get("formatter",!0)||function(t){return t.name},formatterParams:i},x.option)),m.add(d),m.eachChild(function(t){t.silent=!0}),d.silent=!u,this.getContentGroup().add(m),wh(m),m.__legendDataIndex=e,m},kT.prototype.layoutInner=function(t,e,n,i,o,r){var a=this.getContentGroup(),s=this.getSelectorGroup();Op(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),o){Op("horizontal",s,t.get("selectorItemGap",!0));var h=s.getBoundingRect(),c=[-h.x,-h.y],p=t.get("selectorButtonGap",!0),d=t.getOrient().index,n=0===d?"width":"height",o=0===d?"height":"width",t=0===d?"y":"x";"end"===r?c[d]+=l[n]+p:u[d]+=h[n]+p,c[1-d]+=l[o]/2-h[o]/2,s.x=c[0],s.y=c[1],a.x=u[0],a.y=u[1];s={x:0,y:0};return s[n]=l[n]+p+h[n],s[o]=Math.max(l[o],h[o]),s[t]=Math.min(0,h[t]+c[1-d]),s}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},kT.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},kT.type="legend.plain",kT);function kT(){var t=null!==CT&&CT.apply(this,arguments)||this;return t.type=kT.type,t.newlineDisabled=!1,t}function LT(t,e,n,i,o,r){var a;return"line"!==e&&e.indexOf("empty")<0?(a=n.getItemStyle(),t.style.stroke=i,r||(a.stroke=o)):a=n.getItemStyle(["borderWidth","borderColor"]),t.setStyle(a),t}function PT(t,e,n,i){NT(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),RT(t,e,n,i)}function OT(t){for(var e,n=t.getZr().storage.getDisplayList(),i=0,o=n.length;i<o&&!(e=n[i].states.emphasis);)i++;return e&&e.hoverLayer}function RT(t,e,n,i){OT(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function NT(t,e,n,i){OT(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}Mg.registerClass(r),Vv(Zh.PROCESSOR.SERIES_FILTER,function(t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.filterSeries(function(t){for(var e=0;e<n.length;e++)if(!n[e].isSelected(t.name))return!1;return!0})}),Zp.registerSubTypeDefaulter("legend",function(){return"plain"});var ET,Jh=(l(zT,ET=Jh),zT.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},zT.prototype.init=function(t,e,n){var i=Bp(t);ET.prototype.init.call(this,t,e,n),BT(this,t,i)},zT.prototype.mergeOption=function(t,e){ET.prototype.mergeOption.call(this,t,e),BT(this,this.option,t)},zT.type="legend.scroll",zT.defaultOption=ac(Jh.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),zT);function zT(){var t=null!==ET&&ET.apply(this,arguments)||this;return t.type=zT.type,t}function BT(t,e,n){var i=[1,1];i[t.getOrient().index]=0,zp(e,n,{type:"box",ignoreSize:!!i})}Zp.registerClass(Jh);var VT,FT=Br,HT=["width","height"],GT=["x","y"],r=(l(WT,VT=r),WT.prototype.init=function(){VT.prototype.init.call(this),this.group.add(this._containerGroup=new FT),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new FT)},WT.prototype.resetInner=function(){VT.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},WT.prototype.renderInner=function(t,i,e,o,n,r,a){var s=this;VT.prototype.renderInner.call(this,t,i,e,o,n,r,a);var l=this._controllerGroup,a=i.get("pageIconSize",!0),u=V(a)?a:[a,a];h("pagePrev",0);a=i.getModel("pageTextStyle");function h(t,e){var n=t+"DataIndex",n=pp(i.get("pageIcons",!0)[i.getOrient().name][e],{onclick:z(s._pageGo,s,n,i,o)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});n.name=t,l.add(n)}l.add(new is({name:"pageText",style:{text:"xx/xx",fill:a.getTextColor(),font:a.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},WT.prototype.layoutInner=function(t,e,n,i,o,r){var a=this.getSelectorGroup(),s=t.getOrient().index,l=HT[s],u=GT[s],h=HT[1-s],c=GT[1-s];o&&Op("horizontal",a,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),d=a.getBoundingRect(),f=[-d.x,-d.y],g=I(n);o&&(g[l]=n[l]-d[l]-p);g=this._layoutContentAndController(t,i,g,s,l,h,c);return o&&("end"===r?f[s]+=g[l]+p:(r=d[l]+p,f[s]-=r,g[u]-=r),g[l]+=d[l]+p,f[1-s]+=g[c]+g[h]/2-d[h]/2,g[h]=Math.max(g[h],d[h]),g[c]=Math.min(g[c],d[c]+f[1-s]),a.x=f[0],a.y=f[1],a.markRedraw()),g},WT.prototype._layoutContentAndController=function(t,e,n,i,o,r,a){var s=this.getContentGroup(),l=this._containerGroup,u=this._controllerGroup;Op(t.get("orient"),s,t.get("itemGap"),i?n.width:null,i?null:n.height),Op("horizontal",u,t.get("pageButtonItemGap",!0));var h=s.getBoundingRect(),c=u.getBoundingRect(),p=this._showController=h[o]>n[o],d=[-h.x,-h.y];e||(d[i]=s[a]);var f=[0,0],g=[-c.x,-c.y],e=Q(t.get("pageButtonGap",!0),t.get("itemGap",!0));p&&("end"===t.get("pageButtonPosition",!0)?g[i]+=n[o]-c[o]:f[i]+=c[o]+e),g[1-i]+=h[r]/2-c[r]/2,s.setPosition(d),l.setPosition(f),u.setPosition(g);f={x:0,y:0};f[o]=(p?n:h)[o],f[r]=Math.max(h[r],c[r]),f[a]=Math.min(0,c[a]+g[1-i]),l.__rectSize=n[o],p?((i={x:0,y:0})[o]=Math.max(n[o]-c[o]-e,0),i[r]=f[r],l.setClipPath(new na({shape:i})),l.__rectSize=i[o]):u.eachChild(function(t){t.attr({invisible:!0,silent:!0})});u=this._getPageInfo(t);return null!=u.pageIndex&&$c(s,{x:u.contentPosition[0],y:u.contentPosition[1]},p?t:null),this._updatePageInfoView(t,u),f},WT.prototype._pageGo=function(t,e,n){t=this._getPageInfo(e)[t];null!=t&&n.dispatchAction({type:"legendScroll",scrollDataIndex:t,legendId:e.id})},WT.prototype._updatePageInfoView=function(n,i){var o=this._controllerGroup;N(["pagePrev","pageNext"],function(t){var e=null!=i[t+"DataIndex"],t=o.childOfName(t);t&&(t.setStyle("fill",e?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),t.cursor=e?"pointer":"default")});var t=o.childOfName("pageText"),e=n.get("pageFormatter"),r=i.pageIndex,a=null!=r?r+1:0,r=i.pageCount;t&&e&&t.setStyle("text",H(e)?e.replace("{current}",null==a?"":a+"").replace("{total}",null==r?"":r+""):e({current:a,total:r}))},WT.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=t.getOrient().index,r=HT[o],a=GT[o],s=this._findTargetItemIndex(e),l=n.children(),t=l[s],u=l.length,e=u?1:0,h={contentPosition:[n.x,n.y],pageCount:e,pageIndex:e-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!t)return h;t=g(t);h.contentPosition[o]=-t.s;for(var c=s+1,p=t,d=t,f=null;c<=u;++c)(!(f=g(l[c]))&&d.e>p.s+i||f&&!y(f,p.s))&&(p=d.i>p.i?d:f)&&(null==h.pageNextDataIndex&&(h.pageNextDataIndex=p.i),++h.pageCount),d=f;for(c=s-1,p=t,d=t,f=null;-1<=c;--c)(f=g(l[c]))&&y(d,f.s)||!(p.i<d.i)||(d=p,null==h.pagePrevDataIndex&&(h.pagePrevDataIndex=p.i),++h.pageCount,++h.pageIndex),p=f;return h;function g(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[r],i:t.__legendDataIndex}}}function y(t,e){return t.e>=e&&t.s<=e+i}},WT.prototype._findTargetItemIndex=function(n){return this._showController?(this.getContentGroup().eachChild(function(t,e){t=t.__legendDataIndex;null==o&&null!=t&&(o=e),t===n&&(i=e)}),null!=i?i:o):0;var i,o},WT.type="legend.scroll",WT);function WT(){var t=null!==VT&&VT.apply(this,arguments)||this;return t.type=WT.type,t.newlineDisabled=!0,t._currentIndex=0,t}Mg.registerClass(r),Fv("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})});var UT,r=(l(ZT,UT=Zp),ZT.type="title",ZT.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},ZT);function ZT(){var t=null!==UT&&UT.apply(this,arguments)||this;return t.type=ZT.type,t.layoutMode={type:"box",ignoreSize:!0},t}Zp.registerClass(r);var XT,r=(l(YT,XT=Mg),YT.prototype.render=function(t,e,n){var i,o,r,a,s,l,u,h,c;this.group.removeAll(),t.get("show")&&(i=this.group,h=t.getModel("textStyle"),a=t.getModel("subtextStyle"),o=t.get("textAlign"),c=Q(t.get("textBaseline"),t.get("textVerticalAlign")),u=(r=new is({style:Eh(h,{text:t.get("text"),fill:h.getTextColor()},{disableBox:!0}),z2:10})).getBoundingRect(),h=t.get("subtext"),a=new is({style:Eh(a,{text:h,fill:a.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),s=t.get("link"),l=t.get("sublink"),u=t.get("triggerEvent",!0),r.silent=!s&&!u,a.silent=!l&&!u,s&&r.on("click",function(){Ip(s,"_"+t.get("target"))}),l&&a.on("click",function(){Ip(l,"_"+t.get("subtarget"))}),Nu(r).eventData=Nu(a).eventData=u?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(r),h&&i.add(a),u=i.getBoundingRect(),(h=t.getBoxLayoutParams()).width=u.width,h.height=u.height,n=Rp(h,{width:n.getWidth(),height:n.getHeight()},t.get("padding")),o||("middle"===(o=t.get("left")||t.get("right"))&&(o="center"),"right"===o?n.x+=n.width:"center"===o&&(n.x+=n.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?n.y+=n.height:"middle"===c&&(n.y+=n.height/2),c=c||"top"),i.x=n.x,i.y=n.y,i.markRedraw(),c={align:o,verticalAlign:c},r.setStyle(c),a.setStyle(c),u=i.getBoundingRect(),c=n.margin,(n=t.getItemStyle(["color","opacity"])).fill=t.get("backgroundColor"),n=new na({shape:{x:u.x-c[3],y:u.y-c[0],width:u.width+c[1]+c[3],height:u.height+c[0]+c[2],r:t.get("borderRadius")},style:n,subPixelOptimize:!0,silent:!0}),i.add(n))},YT.type="title",YT);function YT(){var t=null!==XT&&XT.apply(this,arguments)||this;return t.type=YT.type,t}function qT(t){eu(t,"label",["show"])}Mg.registerClass(r);var jT,KT=du(),$T=(l(JT,jT=Zp),JT.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},JT.prototype.isAnimationEnabled=function(){if(v.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},JT.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},JT.prototype._mergeOption=function(t,i,e,o){var r=this.mainType;e||i.eachSeries(function(t){var e=t.get(this.mainType,!0),n=KT(t)[r];e&&e.data?(n?n._mergeOption(e,i,!0):(o&&qT(e),N(e.data,function(t){t instanceof Array?(qT(t[0]),qT(t[1])):qT(t)}),D(n=this.createMarkerModelFromSeries(e,this,i),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),n.__hostSeries=t),KT(t)[r]=n):KT(t)[r]=null},this)},JT.prototype.formatTooltip=function(t,e,n){var i=this.getData(),o=this.getRawValue(t),t=i.getName(t);return eg("section",{header:this.name,blocks:[eg("nameValue",{name:t,value:o,noName:!t,noValue:null==o})]})},JT.prototype.getData=function(){return this._data},JT.prototype.setData=function(t){this._data=t},JT.getMarkerModelFromSeries=function(t,e){return KT(t)[e]},JT.type="marker",JT.dependencies=["series","grid","polar","geo"],JT);function JT(){var t=null!==jT&&jT.apply(this,arguments)||this;return t.type=JT.type,t.createdBySelf=!1,t}C($T,Ou.prototype);var QT,r=(l(tC,QT=$T),tC.prototype.createMarkerModelFromSeries=function(t,e,n){return new tC(t,e,n)},tC.type="markPoint",tC.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},tC);function tC(){var t=null!==QT&&QT.apply(this,arguments)||this;return t.type=tC.type,t}function eC(t,e,n,i,o,r){var a=[],s=P_(e,i)?e.getCalculationInfo("stackResultDimension"):i,t=sC(e,s,t),t=e.indicesOfNearest(s,t)[0];a[o]=e.get(n,t),a[r]=e.get(s,t);s=e.get(i,t),t=zl(e.get(i,t));return 0<=(t=Math.min(t,20))&&(a[r]=+a[r].toFixed(t)),[a,s]}Zp.registerClass(r);var nC={min:B(eC,"min"),max:B(eC,"max"),average:B(eC,"average"),median:B(eC,"median")};function iC(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&(r=e,isNaN(parseFloat(r.x))||isNaN(parseFloat(r.y)))&&!V(e.coord)&&i){var o=i.dimensions,r=oC(e,n,i,t);if((e=I(e)).type&&nC[e.type]&&r.baseAxis&&r.valueAxis){i=k(o,r.baseAxis.dim),t=k(o,r.valueAxis.dim),t=nC[e.type](n,r.baseDataDim,r.valueDataDim,i,t);e.coord=t[0],e.value=t[1]}else{for(var a=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],s=0;s<2;s++)nC[a[s]]&&(a[s]=sC(n,n.mapDimension(o[s]),a[s]));e.coord=a}}return e}function oC(t,e,n,i){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=n.getAxis(function(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var o=0;o<i.length;o++){var r=n.getDimensionInfo(i[o]);if(r.name===e)return r.coordDim}}(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function rC(t,e){return!(t&&t.containData&&e.coord&&(n=e,isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y))))||t.containData(e.coord);var n}function aC(t,e,n,i){return i<2?t.coord&&t.coord[i]:t.value}function sC(t,e,n){if("average"!==n)return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0];var i=0,o=0;return t.each(e,function(t,e){isNaN(t)||(i+=t,o++)}),i/o}var lC,uC=du(),Ou=(l(hC,lC=Mg),hC.prototype.init=function(){this.markerGroupMap=ht()},hC.prototype.render=function(t,n,i){var o=this,e=this.markerGroupMap;e.each(function(t){uC(t).keep=!1}),n.eachSeries(function(t){var e=$T.getMarkerModelFromSeries(t,o.type);e&&o.renderSeries(t,e,n,i)}),e.each(function(t){uC(t).keep||o.group.remove(t.group)})},hC.prototype.markKeep=function(t){uC(t).keep=!0},hC.prototype.blurSeries=function(t){var e=this;N(t,function(t){t=$T.getMarkerModelFromSeries(t,e.type);t&&t.getData().eachItemGraphicEl(function(t){t&&gh(t)})})},hC.type="marker",hC);function hC(){var t=null!==lC&&lC.apply(this,arguments)||this;return t.type=hC.type,t}function cC(a,s,l){var u=s.coordinateSystem;a.each(function(t){var e,n,i=a.getItemModel(t),o=Rl(i.get("x"),l.getWidth()),r=Rl(i.get("y"),l.getHeight());isNaN(o)||isNaN(r)?s.getMarkerPosition?n=s.getMarkerPosition(a.getValues(a.dimensions,t)):u&&(e=a.get(u.dimensions[0],t),i=a.get(u.dimensions[1],t),n=u.dataToPoint([e,i])):n=[o,r],isNaN(o)||(n[0]=o),isNaN(r)||(n[1]=r),a.setItemLayout(t,n)})}var pC,r=(l(dC,pC=Ou),dC.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=$T.getMarkerModelFromSeries(t,"markPoint");e&&(cC(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())},this)},dC.prototype.renderSeries=function(t,s,e,n){var i=t.coordinateSystem,o=t.id,l=t.getData(),r=this.markerGroupMap,o=r.get(o)||r.set(o,new Lb),u=function(t,e,n){i=t?P(t&&t.dimensions,function(t){return A({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var i=new w_(i,n),n=P(n.get("data"),B(iC,e));t&&(n=R(n,B(rC,t)));return i.initData(n,null,t?aC:function(t){return t.value}),i}(i,t,s);s.setData(u),cC(s.getData(),t,n),u.each(function(t){var e,n=u.getItemModel(t),i=n.getShallow("symbol"),o=n.getShallow("symbolSize"),r=n.getShallow("symbolRotate");(F(i)||F(o)||F(r))&&(e=s.getRawValue(t),a=s.getDataParams(t),F(i)&&(i=i(e,a)),F(o)&&(o=o(e,a)),F(r)&&(r=r(e,a)));var a=n.getModel("itemStyle").getItemStyle(),n=by(l,"color");a.fill||(a.fill=n),u.setItemVisual(t,{symbol:i,symbolSize:o,symbolRotate:r,style:a})}),o.updateData(u),this.group.add(o.group),u.eachItemGraphicEl(function(t){t.traverse(function(t){Nu(t).dataModel=s})}),this.markKeep(o),o.group.silent=s.get("silent")||t.get("silent")},dC.type="markPoint",dC);function dC(){var t=null!==pC&&pC.apply(this,arguments)||this;return t.type=dC.type,t}Mg.registerClass(r),Bv(function(t){t.markPoint=t.markPoint||{}});var fC,r=(l(gC,fC=$T),gC.prototype.createMarkerModelFromSeries=function(t,e,n){return new gC(t,e,n)},gC.type="markLine",gC.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},gC);function gC(){var t=null!==fC&&fC.apply(this,arguments)||this;return t.type=gC.type,t}Zp.registerClass(r);var yC,mC=ca.prototype,vC=xs.prototype,_C=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};l(xC,yC=_C);function xC(){return null!==yC&&yC.apply(this,arguments)||this}function bC(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var wC,SC=(l(MC,wC=yr),MC.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},MC.prototype.getDefaultShape=function(){return new _C},MC.prototype.buildPath=function(t,e){(bC(e)?mC:vC).buildPath.call(this,t,e)},MC.prototype.pointAt=function(t){return(bC(this.shape)?mC:vC).pointAt.call(this,t)},MC.prototype.tangentAt=function(t){var e=this.shape,t=bC(e)?[e.x2-e.x1,e.y2-e.y1]:vC.tangentAt.call(this,t);return wt(t,t)},MC);function MC(t){t=wC.call(this,t)||this;return t.type="ec-line",t}var TC=["fromSymbol","toSymbol"];function CC(t){return"_"+t+"Type"}function IC(t,e,n){var i=e.getItemVisual(n,t);if(i&&"none"!==i){var o=e.getItemVisual(n,t+"Size"),n=e.getItemVisual(n,t+"Rotate"),o=V(o)?o:[o,o],o=Kx(i,-o[0]/2,-o[1]/2,o[0],o[1]);return o.__specifiedRotation=null==n||isNaN(n)?void 0:+n*Math.PI/180||0,o.name=t,o}}function DC(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;e=e[2];e?(t.cpx1=e[0],t.cpy1=e[1]):(t.cpx1=NaN,t.cpy1=NaN)}var AC,kC=(l(LC,AC=Br),LC.prototype._createLine=function(n,i,t){var e,o=n.hostModel,r=n.getItemLayout(i),r=(e=r,DC((r=new SC({name:"line",subPixelOptimize:!0})).shape,e),r);r.shape.percent=0,Jc(r,{shape:{percent:1}},o,i),this.add(r),N(TC,function(t){var e=IC(t,n,i);this.add(e),this[CC(t)]=n.getItemVisual(i,t)},this),this._updateCommonStl(n,i,t)},LC.prototype.updateData=function(i,o,t){var e=i.hostModel,n=this.childOfName("line"),r=i.getItemLayout(o),a={shape:{}};DC(a.shape,r),$c(n,a,e,o),N(TC,function(t){var e=i.getItemVisual(o,t),n=CC(t);this[n]!==e&&(this.remove(this.childOfName(t)),t=IC(t,i,o),this.add(t)),this[n]=e},this),this._updateCommonStl(i,o,t)},LC.prototype.getLinePath=function(){return this.childAt(0)},LC.prototype._updateCommonStl=function(n,t,e){var i=n.hostModel,r=this.childOfName("line"),o=e&&e.emphasisLineStyle,a=e&&e.blurLineStyle,s=e&&e.selectLineStyle,l=e&&e.labelStatesModels;e&&!n.hasItemOption||(o=(e=n.getItemModel(t)).getModel(["emphasis","lineStyle"]).getLineStyle(),a=e.getModel(["blur","lineStyle"]).getLineStyle(),s=e.getModel(["select","lineStyle"]).getLineStyle(),l=Nh(e));var u=n.getItemVisual(t,"style"),h=u.stroke;r.useStyle(u),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=a,r.ensureState("select").style=s,N(TC,function(t){var e=this.childOfName(t);if(e){e.setColor(h),e.style.opacity=u.opacity;for(var n=0;n<Gu.length;n++){var i=Gu[n],o=r.getState(i);o&&(o=o.style||{},i=(i=e.ensureState(i)).style||(i.style={}),null!=o.stroke&&(i[e.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(i.opacity=o.opacity))}e.markRedraw()}},this);s=i.getRawValue(t);Rh(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,e){return i.getFormattedLabel(t,e,n.dataType)}},inheritColor:h||"#000",defaultText:(null==s?n.getName(t):isFinite(s)?Nl(s):s)+""});s=this.getTextContent();s&&(l=l.normal,s.__align=s.style.align,s.__verticalAlign=s.style.verticalAlign,s.__position=l.get("position")||"middle",V(l=l.get("distance"))||(l=[l,l]),s.__labelDistance=l),this.setTextConfig({position:null,local:!0,inside:!1}),wh(this)},LC.prototype.highlight=function(){dh(this)},LC.prototype.downplay=function(){fh(this)},LC.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},LC.prototype.setLinePoints=function(t){var e=this.childOfName("line");DC(e.shape,t),e.dirty()},LC.prototype.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.getTextContent();if(t||e||n&&!n.ignore){for(var i=1,o=this.parent;o;)o.scaleX&&(i/=o.scaleX),o=o.parent;var r=this.childOfName("line");if(this.__dirty||r.__dirty){var a=r.shape.percent,s=r.pointAt(0),l=r.pointAt(a),u=vt([],l,s);if(wt(u,u),t&&(t.setPosition(s),g(t,0),h=r.tangentAt(0),t.rotation=Math.PI/2-Math.atan2(h[1],h[0]),t.scaleX=t.scaleY=i*a,t.markRedraw()),e&&(e.setPosition(l),h=r.tangentAt(1),g(e,1),e.rotation=-Math.PI/2-Math.atan2(h[1],h[0]),e.scaleX=e.scaleY=i*a,e.markRedraw()),n&&!n.ignore){n.x=n.y=0;var h,c=void(n.originX=n.originY=0),p=void 0,d=n.__labelDistance,t=d[0]*i,e=d[1]*i,d=a/2,a=[(h=r.tangentAt(d))[1],-h[0]],d=r.pointAt(d);0<a[1]&&(a[0]=-a[0],a[1]=-a[1]);a=h[0]<0?-1:1;"start"!==n.__position&&"end"!==n.__position&&(f=-Math.atan2(h[1],h[0]),l[0]<s[0]&&(f=Math.PI+f),n.rotation=f);var f=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":f=-e,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":f=e,p="top";break;default:f=0,p="middle"}switch(n.__position){case"end":n.x=u[0]*t+l[0],n.y=u[1]*e+l[1],c=.8<u[0]?"left":u[0]<-.8?"right":"center",p=.8<u[1]?"top":u[1]<-.8?"bottom":"middle";break;case"start":n.x=-u[0]*t+s[0],n.y=-u[1]*e+s[1],c=.8<u[0]?"right":u[0]<-.8?"left":"center",p=.8<u[1]?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=t*a+s[0],n.y=s[1]+f,c=h[0]<0?"right":"left",n.originX=-t*a,n.originY=-f;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=d[0],n.y=d[1]+f,c="center",n.originY=-f;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-t*a+l[0],n.y=l[1]+f,c=0<=h[0]?"right":"left",n.originX=t*a,n.originY=-f}n.scaleX=n.scaleY=i,n.setStyle({verticalAlign:n.__verticalAlign||p,align:n.__align||c})}}}function g(t,e){var n,i=t.__specifiedRotation;null==i?(n=r.tangentAt(e),t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))):t.attr("rotation",i)}},LC);function LC(t,e,n){var i=AC.call(this)||this;return i._createLine(t,e,n),i}var PC=(OC.prototype.isPersistent=function(){return!0},OC.prototype.updateData=function(n){var i=this,e=this.group,o=this._lineData;this._lineData=n,o||e.removeAll();var r=RC(n);n.diff(o).add(function(t){i._doAdd(n,t,r)}).update(function(t,e){i._doUpdate(o,n,e,t,r)}).remove(function(t){e.remove(o.getItemGraphicEl(t))}).execute()},OC.prototype.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(t,e){t.updateLayout(n,e)},this)},OC.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=RC(t),this._lineData=null,this.group.removeAll()},OC.prototype.incrementalUpdate=function(t,e){function n(t){var e;t.isGroup||(e=t).animators&&0<e.animators.length||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var i,o=t.start;o<t.end;o++){EC(e.getItemLayout(o))&&((i=new this._LineCtor(e,o,this._seriesScope)).traverse(n),this.group.add(i),e.setItemGraphicEl(o,i))}},OC.prototype.remove=function(){this.group.removeAll()},OC.prototype._doAdd=function(t,e,n){EC(t.getItemLayout(e))&&(n=new this._LineCtor(t,e,n),t.setItemGraphicEl(e,n),this.group.add(n))},OC.prototype._doUpdate=function(t,e,n,i,o){n=t.getItemGraphicEl(n);EC(e.getItemLayout(i))?(n?n.updateData(e,i,o):n=new this._LineCtor(e,i,o),e.setItemGraphicEl(i,n),this.group.add(n)):this.group.remove(n)},OC);function OC(t){this.group=new Br,this._LineCtor=t||kC}function RC(t){t=t.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:Nh(t)}}function NC(t){return isNaN(t[0])||isNaN(t[1])}function EC(t){return!NC(t[0])&&!NC(t[1])}function zC(t,e,n,i){var o,r,a,s=t.getData(),l=[iC(t,(l=V(i)?i:"min"===(o=i.type)||"max"===o||"average"===o||"median"===o||null!=i.xAxis||null!=i.yAxis?(l=r=void 0,l=null!=i.yAxis||null!=i.xAxis?(r=e.getAxis(null!=i.yAxis?"y":"x"),J(i.yAxis,i.xAxis)):(r=(a=oC(i,s,e,t)).valueAxis,sC(s,O_(s,a.valueDataDim),o)),s=1-(e="x"===r.dim?0:1),a={coord:[]},(r=I(i)).type=null,r.coord=[],r.coord[s]=-1/0,a.coord[s]=1/0,0<=(n=n.get("precision"))&&"number"==typeof l&&(l=+l.toFixed(Math.min(n,20))),r.coord[e]=a.coord[e]=l,[r,a,{type:o,valueIndex:i.valueIndex,value:l}]):[])[0]),iC(t,l[1]),D({},l[2])];return l[2].type=l[2].type||null,w(l[2],l[0]),w(l[2],l[1]),l}var BC=du();function VC(t){return!isNaN(t)&&!isFinite(t)}function FC(t,e,n,i){var o=1-t,r=i.dimensions[t];return VC(e[o])&&VC(n[o])&&e[t]===n[t]&&i.getAxis(r).containData(e[t])}function HC(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(FC(1,n,i,t)||FC(0,n,i,t)))return!0}return rC(t,e[0])&&rC(t,e[1])}function GC(t,e,n,i,o){var r,a,s,l,u=i.coordinateSystem,h=t.getItemModel(e),c=Rl(h.get("x"),o.getWidth()),o=Rl(h.get("y"),o.getHeight());isNaN(c)||isNaN(o)?(r=i.getMarkerPosition?i.getMarkerPosition(t.getValues(t.dimensions,e)):(l=u.dimensions,a=t.get(l[0],e),s=t.get(l[1],e),u.dataToPoint([a,s])),tw(u,"cartesian2d")&&(a=u.getAxis("x"),s=u.getAxis("y"),l=u.dimensions,VC(t.get(l[0],e))?r[0]=a.toGlobalCoord(a.getExtent()[n?0:1]):VC(t.get(l[1],e))&&(r[1]=s.toGlobalCoord(s.getExtent()[n?0:1]))),isNaN(c)||(r[0]=c),isNaN(o)||(r[1]=o)):r=[c,o],t.setItemLayout(e,r)}var WC,r=(l(UC,WC=Ou),UC.prototype.updateTransform=function(t,e,r){e.eachSeries(function(e){var n,i,o,t=$T.getMarkerModelFromSeries(e,"markLine");t&&(n=t.getData(),i=BC(t).from,o=BC(t).to,i.each(function(t){GC(i,t,!0,e,r),GC(o,t,!1,e,r)}),n.each(function(t){n.setItemLayout(t,[i.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(e.id).updateLayout())},this)},UC.prototype.renderSeries=function(r,n,t,a){var e=r.coordinateSystem,i=r.id,s=r.getData(),o=this.markerGroupMap,i=o.get(i)||o.set(i,new PC);this.group.add(i.group);var e=function(t,e,n){r=t?P(t&&t.dimensions,function(t){return A({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var i=new w_(r,n),o=new w_(r,n),r=new w_([],n),n=P(n.get("data"),B(zC,e,t,n));t&&(n=R(n,B(HC,t)));t=t?aC:function(t){return t.value};return i.initData(P(n,function(t){return t[0]}),null,t),o.initData(P(n,function(t){return t[1]}),null,t),r.initData(P(n,function(t){return t[2]})),r.hasItemOption=!0,{from:i,to:o,line:r}}(e,r,n),l=e.from,u=e.to,h=e.line;BC(n).from=l,BC(n).to=u,n.setData(h);var c=n.get("symbol"),p=n.get("symbolSize");function d(t,e,n){var i=t.getItemModel(e);GC(t,e,n,r,a);var o=i.getModel("itemStyle").getItemStyle();null==o.fill&&(o.fill=by(s,"color")),t.setItemVisual(e,{symbolRotate:i.get("symbolRotate"),symbolSize:i.get("symbolSize")||p[n?0:1],symbol:i.get("symbol",!0)||c[n?0:1],style:o})}V(c)||(c=[c,c]),V(p)||(p=[p,p]),e.from.each(function(t){d(l,t,!0),d(u,t,!1)}),h.each(function(t){var e=h.getItemModel(t).getModel("lineStyle").getLineStyle();h.setItemLayout(t,[l.getItemLayout(t),u.getItemLayout(t)]),null==e.stroke&&(e.stroke=l.getItemVisual(t,"style").fill),h.setItemVisual(t,{fromSymbolRotate:l.getItemVisual(t,"symbolRotate"),fromSymbolSize:l.getItemVisual(t,"symbolSize"),fromSymbol:l.getItemVisual(t,"symbol"),toSymbolRotate:u.getItemVisual(t,"symbolRotate"),toSymbolSize:u.getItemVisual(t,"symbolSize"),toSymbol:u.getItemVisual(t,"symbol"),style:e})}),i.updateData(h),e.line.eachItemGraphicEl(function(t,e){t.traverse(function(t){Nu(t).dataModel=n})}),this.markKeep(i),i.group.silent=n.get("silent")||r.get("silent")},UC.type="markLine",UC);function UC(){var t=null!==WC&&WC.apply(this,arguments)||this;return t.type=UC.type,t}Mg.registerClass(r),Bv(function(t){t.markLine=t.markLine||{}});var ZC,xs=(l(XC,ZC=$T),XC.prototype.createMarkerModelFromSeries=function(t,e,n){return new XC(t,e,n)},XC.type="markArea",XC.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},XC);function XC(){var t=null!==ZC&&ZC.apply(this,arguments)||this;return t.type=XC.type,t}Zp.registerClass(xs);function YC(t,e,n,i){var o=iC(t,i[0]),r=iC(t,i[1]),t=o.coord,i=r.coord;return t[0]=J(t[0],-1/0),t[1]=J(t[1],-1/0),i[0]=J(i[0],1/0),i[1]=J(i[1],1/0),(i=S([{},o,r])).coord=[o.coord,r.coord],i.x0=o.x,i.y0=o.y,i.x1=r.x,i.y1=r.y,i}var qC=du();function jC(t){return!isNaN(t)&&!isFinite(t)}function KC(t,e,n){t=1-t;return jC(e[t])&&jC(n[t])}function $C(t,e){var n=e.coord[0],i=e.coord[1];return!!(tw(t,"cartesian2d")&&n&&i&&(KC(1,n,i)||KC(0,n,i)))||(rC(t,{coord:n,x:e.x0,y:e.y0})||rC(t,{coord:i,x:e.x1,y:e.y1}))}function JC(t,e,n,i,o){var r,a,s,l,u=i.coordinateSystem,h=t.getItemModel(e),c=Rl(h.get(n[0]),o.getWidth()),o=Rl(h.get(n[1]),o.getHeight());return isNaN(c)||isNaN(o)?(l=i.getMarkerPosition?i.getMarkerPosition(t.getValues(n,e)):(r=[a=t.get(n[0],e),s=t.get(n[1],e)],u.clampData&&u.clampData(r,r),u.dataToPoint(r,!0)),tw(u,"cartesian2d")&&(r=u.getAxis("x"),u=u.getAxis("y"),a=t.get(n[0],e),s=t.get(n[1],e),jC(a)?l[0]=r.toGlobalCoord(r.getExtent()["x0"===n[0]?0:1]):jC(s)&&(l[1]=u.toGlobalCoord(u.getExtent()["y0"===n[1]?0:1]))),isNaN(c)||(l[0]=c),isNaN(o)||(l[1]=o)):l=[c,o],l}var QC,tI=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],r=(l(eI,QC=Ou),eI.prototype.updateTransform=function(t,e,o){e.eachSeries(function(n){var i,t=$T.getMarkerModelFromSeries(n,"markArea");t&&(i=t.getData()).each(function(e){var t=P(tI,function(t){return JC(i,e,t,n,o)});i.setItemLayout(e,t),i.getItemGraphicEl(e).setShape("points",t)})},this)},eI.prototype.renderSeries=function(o,r,t,a){var s=o.coordinateSystem,e=o.id,l=o.getData(),n=this.markerGroupMap,i=n.get(e)||n.set(e,{group:new Br});this.group.add(i.group),this.markKeep(i);var u=function(t,n,e){var i,o;o=t?(i=P(t&&t.dimensions,function(t){var e=n.getData();return A({name:t},e.getDimensionInfo(e.mapDimension(t))||{})}),new w_(P(["x0","y0","x1","y1"],function(t,e){return{name:t,type:i[e%2].type}}),e)):new w_(i=[{name:"value",type:"float"}],e);e=P(e.get("data"),B(YC,n,t,e));t&&(e=R(e,B($C,t)));t=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return o.initData(e,null,t),o.hasItemOption=!0,o}(s,o,r);r.setData(u),u.each(function(n){var t=P(tI,function(t){return JC(u,n,t,o,a)}),i=!0;N(tI,function(t){var e;i&&(e=u.get(t[0],n),t=u.get(t[1],n),(jC(e)||s.getAxis("x").containData(e))&&(jC(t)||s.getAxis("y").containData(t))&&(i=!1))}),u.setItemLayout(n,{points:t,allClipped:i});var e=u.getItemModel(n).getModel("itemStyle").getItemStyle(),t=by(l,"color");e.fill||(e.fill=t,"string"==typeof e.fill&&(e.fill=en(e.fill,.4))),e.stroke||(e.stroke=t),u.setItemVisual(n,"style",e)}),u.diff(qC(i).data).add(function(t){var e=u.getItemLayout(t);e.allClipped||(e=new ma({shape:{points:e.points}}),u.setItemGraphicEl(t,e),i.group.add(e))}).update(function(t,e){var n=qC(i).data.getItemGraphicEl(e),e=u.getItemLayout(t);e.allClipped?n&&i.group.remove(n):(n?$c(n,{shape:{points:e.points}},r,t):n=new ma({shape:{points:e.points}}),u.setItemGraphicEl(t,n),i.group.add(n))}).remove(function(t){t=qC(i).data.getItemGraphicEl(t);i.group.remove(t)}).execute(),u.eachItemGraphicEl(function(t,e){var n=u.getItemModel(e),i=u.getItemVisual(e,"style");t.useStyle(u.getItemVisual(e,"style")),Rh(t,Nh(n),{labelFetcher:r,labelDataIndex:e,defaultText:u.getName(e)||"",inheritColor:"string"==typeof i.fill?en(i.fill,1):"#000"}),Th(t,n),wh(t),Nu(t).dataModel=r}),qC(i).data=u,i.group.silent=r.get("silent")||o.get("silent")},eI.type="markArea",eI);function eI(){var t=null!==QC&&QC.apply(this,arguments)||this;return t.type=eI.type,t}Mg.registerClass(r),Bv(function(t){t.markArea=t.markArea||{}}),Zp.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var nI=["x","y","radius","angle","single"],iI=["cartesian2d","polar","singleAxis"];function oI(t){return t+"Axis"}function rI(t,e){var i,o=ht(),n=[],r=ht();for(t.eachComponent({mainType:"dataZoom",query:e},function(t){r.get(t.uid)||s(t)});i=!1,t.eachComponent("dataZoom",a),i;);function a(t){var n;!r.get(t.uid)&&(n=!1,t.eachTargetAxis(function(t,e){t=o.get(t);t&&t[e]&&(n=!0)}),n)&&(s(t),i=!0)}function s(t){r.set(t.uid,!0),n.push(t),t.eachTargetAxis(function(t,e){(o.get(t)||o.set(t,[]))[e]=!0})}return n}function aI(t){var o=t.ecModel,r={infoList:[],infoMap:ht()};return t.eachTargetAxis(function(t,e){var n,i=o.getComponent(oI(t),e);!i||(n=i.getCoordSysModel())&&(t=n.uid,(e=r.infoMap.get(t))||(e={model:n,axisModels:[]},r.infoList.push(e),r.infoMap.set(t,e)),e.axisModels.push(i))}),r}var sI=(lI.prototype.add=function(t){this.indexList.push(t),this.indexMap[t]=!0},lI);function lI(){this.indexList=[],this.indexMap=[]}var uI,xs=(l(hI,uI=Zp),hI.prototype.init=function(t,e,n){var i=cI(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},hI.prototype.mergeOption=function(t){var e=cI(t);w(this.option,t,!0),w(this.settledOption,e,!0),this._doInit(e)},hI.prototype._doInit=function(t){var n=this.option;v.canvasSupported||(n.realtime=!1),this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;N([["start","startValue"],["end","endValue"]],function(t,e){"value"===this._rangePropMode[e]&&(n[t[0]]=i[t[0]]=null)},this),this._resetTarget()},hI.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=ht();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each(function(t){t.indexList.length&&(this._noTarget=!1)},this)},hI.prototype._fillSpecifiedTargetAxis=function(i){var o=!1;return N(nI,function(t){var e,n=this.getReferringComponents(oI(t),mu);n.specified&&(o=!0,e=new sI,N(n.models,function(t){e.add(t.componentIndex)}),i.set(t,e))},this),o},hI.prototype._fillAutoTargetAxisByOrient=function(r,e){var t,i=this.ecModel,a=!0;function n(t,e){var n,i,o=t[0];o&&((n=new sI).add(o.componentIndex),r.set(e,n),a=!1,"x"!==e&&"y"!==e||(i=o.getReferringComponents("grid",yu).models[0])&&N(t,function(t){o.componentIndex!==t.componentIndex&&i===t.getReferringComponents("grid",yu).models[0]&&n.add(t.componentIndex)}))}a&&(t="vertical"===e?"y":"x",n(i.findComponents({mainType:t+"Axis"}),t)),a&&n(i.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single"),a&&N(nI,function(t){var e,n;a||(e=i.findComponents({mainType:oI(t),filter:function(t){return"category"===t.get("type",!0)}}))[0]&&((n=new sI).add(e[0].componentIndex),r.set(t,n))},this)},hI.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(t){e=e||t},this),"y"===e?"vertical":"horizontal"},hI.prototype._setDefaultThrottle=function(t){t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle&&(t=this.ecModel.option,this.option.throttle=t.animation&&0<t.animationDurationUpdate?100:20)},hI.prototype._updateRangeUse=function(i){var o=this._rangePropMode,r=this.get("rangeMode");N([["start","startValue"],["end","endValue"]],function(t,e){var n=null!=i[t[0]],t=null!=i[t[1]];n&&!t?o[e]="percent":!n&&t?o[e]="value":r?o[e]=r[e]:n&&(o[e]="percent")})},hI.prototype.noTarget=function(){return this._noTarget},hI.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(t,e){null==n&&(n=this.ecModel.getComponent(oI(t),e))},this),n},hI.prototype.eachTargetAxis=function(n,i){this._targetAxisInfoMap.each(function(t,e){N(t.indexList,function(t){n.call(i,e,t)})})},hI.prototype.getAxisProxy=function(t,e){e=this.getAxisModel(t,e);if(e)return e.__dzAxisProxy},hI.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(oI(t),e)},hI.prototype.setRawRange=function(e){var n=this.option,i=this.settledOption;N([["start","startValue"],["end","endValue"]],function(t){null==e[t[0]]&&null==e[t[1]]||(n[t[0]]=i[t[0]]=e[t[0]],n[t[1]]=i[t[1]]=e[t[1]])},this),this._updateRangeUse(e)},hI.prototype.setCalculatedRange=function(e){var n=this.option;N(["start","startValue","end","endValue"],function(t){n[t]=e[t]})},hI.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},hI.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();e=this.findRepresentativeAxisProxy();return e?e.getDataValueWindow():void 0},hI.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],r=this._targetAxisInfoMap.get(o),a=0;a<r.indexList.length;a++){var s=this.getAxisProxy(o,r.indexList[a]);if(s.hostedBy(this))return s;e=e||s}return e},hI.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},hI.prototype.getOrient=function(){return this._orient},hI.type="dataZoom",hI.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],hI.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},hI);function hI(){var t=null!==uI&&uI.apply(this,arguments)||this;return t.type=hI.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}function cI(e){var n={};return N(["start","end","startValue","endValue","throttle"],function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var pI,Ou=(l(dI,pI=Mg),dI.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},dI.type="dataZoom",dI);function dI(){var t=null!==pI&&pI.apply(this,arguments)||this;return t.type=dI.type,t}Mg.registerClass(Ou);var fI,r=(l(gI,fI=xs),gI.type="dataZoom.slider",gI.layoutMode="box",gI.defaultOption=ac(xs.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),gI);function gI(){var t=null!==fI&&fI.apply(this,arguments)||this;return t.type=gI.type,t}function yI(t,e,n,i,o,r){t=t||0;var a=n[1]-n[0];null!=o&&(o=vI(o,[0,a])),null!=r&&(r=Math.max(r,null!=o?o:0)),"all"===i&&(s=vI(s=Math.abs(e[1]-e[0]),[0,a]),o=r=vI(s,[o,r]),i=0),e[0]=vI(e[0],n),e[1]=vI(e[1],n);var s=mI(e,i);e[i]+=t;t=o||0,n=n.slice();return s.sign<0?n[0]+=t:n[1]-=t,e[i]=vI(e[i],n),n=mI(e,i),null!=o&&(n.sign!==s.sign||n.span<o)&&(e[1-i]=e[i]+s.sign*o),n=mI(e,i),null!=r&&n.span>r&&(e[1-i]=e[i]+n.sign*r),e}function mI(t,e){t=t[e]-t[1-e];return{span:Math.abs(t),sign:0<t||!(t<0)&&e?-1:1}}function vI(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}Zp.registerClass(r);var _I,xI=na,bI="horizontal",wI="vertical",SI=["line","bar","candlestick","scatter"],MI={easing:"cubicOut",duration:100},r=(l(TI,_I=Ou),TI.prototype.init=function(t,e){this.api=e,this._onBrush=z(this._onBrush,this),this._onBrushEnd=z(this._onBrushEnd,this)},TI.prototype.render=function(t,e,n,i){if(_I.prototype.render.apply(this,arguments),Fg(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},TI.prototype.dispose=function(){this._clear(),_I.prototype.dispose.apply(this,arguments)},TI.prototype._clear=function(){var t,e;(n=(t=this)[e="_dispatchZoomAction"])&&n[Eg]&&(t[e]=n[Eg]);var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},TI.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new Br;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},TI.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,i=this._findCoordRect(),e={width:e.getWidth(),height:e.getHeight()},o=this._orient===bI?{right:e.width-i.x-i.width,top:e.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},r=Bp(t.option);N(["right","top","width","height"],function(t){"ph"===r[t]&&(r[t]=o[t])});e=Rp(r,e);this._location={x:e.x,y:e.y},this._size=[e.width,e.height],this._orient===wI&&this._size.reverse()},TI.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),r=this._displayables.sliderGroup,i=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(n!==bI||o?n===bI&&o?{scaleY:i?1:-1,scaleX:-1}:n!==wI||o?{scaleY:i?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:i?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:i?1:-1,scaleX:1});r=t.getBoundingRect([r]);t.x=e.x-r.x,t.y=e.y-r.y,t.markRedraw()},TI.prototype._getViewExtent=function(){return[0,this._size[0]]},TI.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new xI({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));t=new xI({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:z(this._onClickPanel,this)}),e=this.api.getZr();i?(t.on("mousedown",this._onBrushStart,this),t.cursor="crosshair",e.on("mousemove",this._onBrush),e.on("mouseup",this._onBrushEnd)):(e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)),n.add(t)},TI.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=t.series,i=n.getRawData(),n=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=n){var o,t=.3*((r=i.getDataExtent(n))[1]-r[0]),r=[r[0]-t,r[1]+t],a=[0,e[1]],t=[0,e[0]],s=[[e[0],0],[0,0]],l=[],u=t[1]/(i.count()-1),h=0,c=Math.round(i.count()/e[0]);i.each([n],function(t,e){var n;0<c&&e%c?h+=u:(t=(n=null==t||isNaN(t)||""===t)?0:Ol(t,r,a,!0),n&&!o&&e?(s.push([s[s.length-1][0],0]),l.push([l[l.length-1][0],0])):!n&&o&&(s.push([h,0]),l.push([h,0])),s.push([h,t]),l.push([h,t]),h+=u,o=n)});for(var p,d,f,g=this.dataZoomModel,y=0;y<3;y++){var m=(p=1===y,d=f=d=void 0,d=g.getModel(p?"selectedDataBackground":"dataBackground"),f=new Br,p=new ma({shape:{points:s},segmentIgnoreThreshold:1,style:d.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),d=new ba({shape:{points:l},segmentIgnoreThreshold:1,style:d.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),f.add(p),f.add(d),f);this._displayables.sliderGroup.add(m),this._displayables.dataShadowSegs.push(m)}}}},TI.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,s=t.get("showDataShadow");if(!1!==s){var l,u=this.ecModel;return t.eachTargetAxis(function(r,a){N(t.getAxisProxy(r,a).getTargetSeriesModels(),function(t){var e,n,i,o;l||!0!==s&&k(SI,t.get("type"))<0||(e=u.getComponent(oI(r),a).axis,n={x:"y",y:"x",radius:"angle",angle:"radius"}[r],o=t.coordinateSystem,null!=n&&o.getOtherAxis&&(i=o.getOtherAxis(e).inverse),n=t.getData().mapDimension(n),l={thisAxis:e,series:t,thisDim:r,otherDim:n,otherAxisInverse:i})},this)},this),l}},TI.prototype._renderHandle=function(){var o=this.group,t=this._displayables,r=t.handles=[null,null],a=t.handleLabels=[null,null],s=this._displayables.sliderGroup,e=this._size,l=this.dataZoomModel,n=this.api,i=l.get("borderRadius")||0,u=l.get("brushSelect"),h=t.filler=new xI({silent:u,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(h),s.add(new xI({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:e[0],height:e[1],r:i},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),N([0,1],function(t){var e=l.get("handleIcon");!Yx[e]&&e.indexOf("path://")<0&&(e="path://"+e);var n=Kx(e,-1,0,2,2,null,!0);n.attr({cursor:CI(this._orient),draggable:!0,drift:z(this._onDragMove,this,t),ondragend:z(this._onDragEnd,this),onmouseover:z(this._showDataInfo,this,!0),onmouseout:z(this._showDataInfo,this,!1),z2:5});var i=n.getBoundingRect(),e=l.get("handleSize");this._handleHeight=Rl(e,this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,n.setStyle(l.getModel("handleStyle").getItemStyle()),n.style.strokeNoScale=!0,n.rectHover=!0,n.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),wh(n);i=l.get("handleColor");null!=i&&(n.style.fill=i),s.add(r[t]=n);n=l.getModel("textStyle");o.add(a[t]=new is({silent:!0,invisible:!0,style:{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:n.getTextColor(),font:n.getFont()},z2:10}))},this);var c,p=h;u&&(i=Rl(l.get("moveHandleSize"),e[1]),c=t.moveHandle=new na({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:e[1]-.5,height:i}}),h=.8*i,(u=t.moveHandleIcon=Kx(l.get("moveHandleIcon"),-h/2,-h/2,h,h,"#fff",!0)).silent=!0,u.y=e[1]+i/2-.5,c.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle(),h=Math.min(e[1]/2,Math.max(i,10)),(p=t.moveZone=new na({invisible:!0,shape:{y:e[1]-h,height:i+h}})).on("mouseover",function(){n.enterEmphasis(c)}).on("mouseout",function(){n.leaveEmphasis(c)}),s.add(c),s.add(u),s.add(p)),p.attr({draggable:!0,cursor:CI(this._orient),drift:z(this._onDragMove,this,"all"),ondragstart:z(this._showDataInfo,this,!0),ondragend:z(this._onDragEnd,this),onmouseover:z(this._showDataInfo,this,!0),onmouseout:z(this._showDataInfo,this,!1)})},TI.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Ol(t[0],[0,100],e,!0),Ol(t[1],[0,100],e,!0)]},TI.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),r=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];yI(e,i,o,n.get("zoomLock")?"all":t,null!=r.minSpan?Ol(r.minSpan,a,o,!0):null,null!=r.maxSpan?Ol(r.maxSpan,a,o,!0):null);r=this._range,a=this._range=El([Ol(i[0],o,a,!0),Ol(i[1],o,a,!0)]);return!r||r[0]!==a[0]||r[1]!==a[1]},TI.prototype._updateView=function(t){var i=this._displayables,o=this._handleEnds,e=El(o.slice()),r=this._size;N([0,1],function(t){var e=i.handles[t],n=this._handleHeight;e.attr({scaleX:n/2,scaleY:n/2,x:o[t],y:r[1]/2-n/2})},this),i.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:r[1]});var n={x:e[0],width:e[1]-e[0]};i.moveHandle&&(i.moveHandle.setShape(n),i.moveZone.setShape(n),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",n.x+n.width/2));for(var a=i.dataShadowSegs,s=[0,e[0],e[1],r[0]],l=0;l<a.length;l++){var u=a[l],h=u.getClipPath();h||(h=new na,u.setClipPath(h)),h.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(t)},TI.prototype._updateDataInfo=function(t){var e,n,i=this.dataZoomModel,o=this._displayables,r=o.handleLabels,a=this._orient,s=["",""];!i.get("showDetail")||(n=i.findRepresentativeAxisProxy())&&(e=n.getAxisModel().axis,i=this._range,n=t?n.calculateDataWindow({start:i[0],end:i[1]}).valueWindow:n.getDataValueWindow(),s=[this._formatLabel(n[0],e),this._formatLabel(n[1],e)]);var l=El(this._handleEnds.slice());function u(t){var e=ap(o.handles[t].parent,this.group),n=lp(0===t?"right":"left",e),i=this._handleWidth/2+5,e=sp([l[t]+(0===t?-i:i),this._size[1]/2],e);r[t].setStyle({x:e[0],y:e[1],verticalAlign:a===bI?"middle":n,align:a===bI?n:"center",text:s[t]})}u.call(this,0),u.call(this,1)},TI.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),n=n.get("labelPrecision");null!=n&&"auto"!==n||(n=e.getPixelPrecision());n=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(n,20));return F(i)?i(t,n):H(i)?i.replace("{value}",n):n},TI.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},TI.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,Jt(i.event);n=sp([e,n],this._displayables.sliderGroup.getLocalTransform(),!0),t=this._updateInterval(t,n[0]),n=this.dataZoomModel.get("realtime");this._updateView(!n),t&&n&&this._dispatchZoomAction(!0)},TI.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},TI.prototype._onClickPanel=function(t){var e=this._size,t=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);t[0]<0||t[0]>e[0]||t[1]<0||t[1]>e[1]||(e=((e=this._handleEnds)[0]+e[1])/2,e=this._updateInterval("all",t[0]-e),this._updateView(),e&&this._dispatchZoomAction(!1))},TI.prototype._onBrushStart=function(t){var e=t.offsetX,t=t.offsetY;this._brushStart=new si(e,t),this._brushing=!0,this._brushStartTime=+new Date},TI.prototype._onBrushEnd=function(t){var e,n,i;this._brushing&&(i=this._displayables.brushRect,this._brushing=!1,i&&(i.attr("ignore",!0),e=i.shape,+new Date-this._brushStartTime<200&&Math.abs(e.width)<5||(n=this._getViewExtent(),i=[0,100],this._range=El([Ol(e.x,n,i,!0),Ol(e.x+e.width,n,i,!0)]),this._handleEnds=[e.x,e.x+e.width],this._updateView(),this._dispatchZoomAction(!1))))},TI.prototype._onBrush=function(t){this._brushing&&(Jt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},TI.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new xI({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.ignore=!1;i=this._brushStart,n=this._displayables.sliderGroup,e=n.transformCoordToLocal(t,e),n=n.transformCoordToLocal(i.x,i.y),i=this._size;e[0]=Math.max(Math.min(i[0],e[0]),0),o.setShape({x:n[0],y:0,width:e[0]-n[0],height:i[1]})},TI.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?MI:null,start:e[0],end:e[1]})},TI.prototype._findCoordRect=function(){var t,e,n=aI(this.dataZoomModel).infoList;return!t&&n.length&&(t=(e=n[0].model.coordinateSystem).getRect&&e.getRect()),t||(t={x:.2*(n=this.api.getWidth()),y:.2*(e=this.api.getHeight()),width:.6*n,height:.6*e}),t},TI.type="dataZoom.slider",TI);function TI(){var t=null!==_I&&_I.apply(this,arguments)||this;return t.type=TI.type,t._displayables={},t}function CI(t){return"vertical"===t?"ns-resize":"ew-resize"}Mg.registerClass(r);var II=N,DI=El,AI=(kI.prototype.hostedBy=function(t){return this._dataZoomModel===t},kI.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},kI.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},kI.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(t){var e;e=(e=t).get("coordinateSystem"),0<=k(iI,e)&&(e=oI(this._dimName),(e=t.getReferringComponents(e,yu).models[0])&&this._axisIndex===e.componentIndex&&n.push(t))},this),n},kI.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},kI.prototype.getMinMaxSpan=function(){return I(this._minMaxSpan)},kI.prototype.calculateDataWindow=function(i){var o,r=this._dataExtent,s=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),l=[0,100],u=[],h=[];II(["start","end"],function(t,e){var n=i[t],t=i[t+"Value"];"percent"===a[e]?(null==n&&(n=l[e]),t=s.parse(Ol(n,l,r))):(o=!0,n=Ol(t=null==t?r[e]:s.parse(t),r,l)),h[e]=t,u[e]=n}),DI(h),DI(u);var c=this._minMaxSpan;function t(t,e,n,i,o){var r=o?"Span":"ValueSpan";yI(0,t,n,"all",c["min"+r],c["max"+r]);for(var a=0;a<2;a++)e[a]=Ol(t[a],n,i,!0),o&&(e[a]=s.parse(e[a]))}return o?t(h,u,r,l,!1):t(u,h,l,r,!0),{valueWindow:h,percentWindow:u}},kI.prototype.reset=function(t){var e;t===this._dataZoomModel&&(e=this.getTargetSeriesModels(),this._dataExtent=function(t,e,n){var i=[1/0,-1/0];II(n,function(t){Wx(i,t.getData(),e)});t=t.getAxisModel(),t=Px(t.axis.scale,t,i).calculate();return[t.min,t.max]}(this,this._dimName,e),this._updateMinMaxSpan(),t=this.calculateDataWindow(t.settledOption),this._valueWindow=t.valueWindow,this._percentWindow=t.percentWindow,this._setAxisModel())},kI.prototype.filterData=function(t,e){var i,n,o,h;t===this._dataZoomModel&&(i=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),h=this._valueWindow,"none"!==o&&II(n,function(n){var l=n.getData(),u=l.mapDimensionsAll(i);u.length&&("weakFilter"===o?l.filterSelf(function(t){for(var e,n,i,o=0;o<u.length;o++){var r=l.get(u[o],t),a=!isNaN(r),s=r<h[0],r=r>h[1];if(a&&!s&&!r)return!0;a&&(i=!0),s&&(e=!0),r&&(n=!0)}return i&&e&&n}):II(u,function(t){var e;"empty"===o?n.setData(l=l.map(t,function(t){return(e=t)>=h[0]&&e<=h[1]?t:NaN;var e})):((e={})[t]=h,l.selectRange(e))}),II(u,function(t){l.setApproximateExtent(h,t)}))}))},kI.prototype._updateMinMaxSpan=function(){var i=this._minMaxSpan={},o=this._dataZoomModel,r=this._dataExtent;II(["min","max"],function(t){var e=o.get(t+"Span"),n=o.get(t+"ValueSpan");null!=n&&(n=this.getAxisModel().axis.scale.parse(n)),null!=n?e=Ol(r[0]+n,r,[0,100],!0):null!=e&&(n=Ol(e,[0,100],r,!0)-r[0]),i[t+"Span"]=e,i[t+"ValueSpan"]=n},this)},kI.prototype._setAxisModel=function(){var t,e=this.getAxisModel(),n=this._percentWindow,i=this._valueWindow;n&&(t=Vl(i,[0,500]),t=Math.min(t,20),e=e.axis.scale.rawExtentInfo,0!==n[0]&&e.setDeterminedMinMax("min",+i[0].toFixed(t)),100!==n[1]&&e.setDeterminedMinMax("max",+i[1].toFixed(t)),e.freeze())},kI);function kI(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}Vv(Zh.PROCESSOR.FILTER,{getTargetSeries:function(r){function t(o){r.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(t,e){var n=r.getComponent(oI(t),e);o(t,e,n,i)})})}t(function(t,e,n,i){n.__dzAxisProxy=null});var o=[];t(function(t,e,n,i){n.__dzAxisProxy||(n.__dzAxisProxy=new AI(t,e,i,r),o.push(n.__dzAxisProxy))});var e=ht();return N(o,function(t){N(t.getTargetSeriesModels(),function(t){e.set(t.uid,t)})}),e},overallReset:function(t,i){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(t,e){n.getAxisProxy(t,e).reset(n)}),n.eachTargetAxis(function(t,e){n.getAxisProxy(t,e).filterData(n,i)})}),t.eachComponent("dataZoom",function(t){var e,n=t.findRepresentativeAxisProxy();n&&(e=n.getDataPercentWindow(),n=n.getDataValueWindow(),t.setCalculatedRange({start:e[0],end:e[1],startValue:n[0],endValue:n[1]}))})}}),Fv("dataZoom",function(e,t){N(rI(t,e),function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var LI,r=(l(PI,LI=xs),PI.type="dataZoom.inside",PI.defaultOption=ac(xs.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),PI);function PI(){var t=null!==LI&&LI.apply(this,arguments)||this;return t.type=PI.type,t}Zp.registerClass(r);var OI="\0_ec_interaction_mutex";function RI(t,e){return NI(t)[e]}function NI(t){return t[OI]||(t[OI]={})}Fv({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var EI,zI=(l(BI,EI=Nt),BI.prototype.isDragging=function(){return this._dragging},BI.prototype.isPinching=function(){return this._pinching},BI.prototype.setPointerChecker=function(t){this.pointerChecker=t},BI.prototype.dispose=function(){this.disable()},BI.prototype._mousedownHandler=function(t){var e,n;Qt(t)||t.target&&t.target.draggable||(e=t.offsetX,n=t.offsetY,this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0))},BI.prototype._mousemoveHandler=function(t){var e,n,i,o,r,a;this._dragging&&HI("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!RI(this._zr,"globalPan")&&(e=t.offsetX,n=t.offsetY,r=e-(i=this._x),a=n-(o=this._y),this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&Jt(t.event),FI(this,"pan","moveOnMouseMove",t,{dx:r,dy:a,oldX:i,oldY:o,newX:e,newY:n,isAvailableBehavior:null}))},BI.prototype._mouseupHandler=function(t){Qt(t)||(this._dragging=!1)},BI.prototype._mousewheelHandler=function(t){var e=HI("zoomOnMouseWheel",t,this._opt),n=HI("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,o=Math.abs(i),r=t.offsetX,a=t.offsetY;0!==i&&(e||n)&&(e&&(o=3<o?1.4:1<o?1.2:1.1,VI(this,"zoom","zoomOnMouseWheel",t,{scale:0<i?o:1/o,originX:r,originY:a,isAvailableBehavior:null})),n&&VI(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(0<i?1:-1)*(3<(i=Math.abs(i))?.4:1<i?.15:.05),originX:r,originY:a,isAvailableBehavior:null}))},BI.prototype._pinchHandler=function(t){RI(this._zr,"globalPan")||VI(this,"zoom",null,t,{scale:1<t.pinchScale?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},BI);function BI(n){var t=EI.call(this)||this;t._zr=n;var i=z(t._mousedownHandler,t),o=z(t._mousemoveHandler,t),r=z(t._mouseupHandler,t),a=z(t._mousewheelHandler,t),s=z(t._pinchHandler,t);return t.enable=function(t,e){this.disable(),this._opt=A(I(e)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(n.on("mousedown",i),n.on("mousemove",o),n.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(n.on("mousewheel",a),n.on("pinch",s))},t.disable=function(){n.off("mousedown",i),n.off("mousemove",o),n.off("mouseup",r),n.off("mousewheel",a),n.off("pinch",s)},t}function VI(t,e,n,i,o){t.pointerChecker&&t.pointerChecker(i,o.originX,o.originY)&&(Jt(i.event),FI(t,e,n,i,o))}function FI(t,e,n,i,o){o.isAvailableBehavior=z(HI,null,n,i),t.trigger(e,o)}function HI(t,e,n){n=n[t];return!t||n&&(!H(n)||e.event[n+"Key"])}var GI=du();function WI(t,e){e&&(t.removeKey(e.model.uid),(e=e.controller)&&e.dispose())}function UI(t,e){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function ZI(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}Vv(Zh.PROCESSOR.FILTER,function(t,a){var e=GI(a),l=e.coordSysRecordMap||(e.coordSysRecordMap=ht());l.each(function(t){t.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){N(aI(o).infoList,function(t){var e,r,n,i=t.model.uid,e=l.get(i)||l.set(i,(e=a,i=t.model,r={model:i,containsPoint:B(ZI,i),dispatchAction:B(UI,e),dataZoomInfoMap:null,controller:null},n=r.controller=new zI(e.getZr()),N(["pan","zoom","scrollMove"],function(o){n.on(o,function(n){var i=[];r.dataZoomInfoMap.each(function(t){var e;n.isAvailableBehavior(t.model.option)&&(e=(e=(t.getRange||{})[o])&&e(t.dzReferCoordSysInfo,r.model.mainType,r.controller,n),!t.model.get("disabled",!0)&&e&&i.push({dataZoomId:t.model.id,start:e[0],end:e[1]}))}),i.length&&r.dispatchAction(i)})}),r));(e.dataZoomInfoMap||(e.dataZoomInfoMap=ht())).set(o.uid,{dzReferCoordSysInfo:t,model:o,getRange:null})})}),l.each(function(t){var e,n,i,o,r,a=t.controller,s=t.dataZoomInfoMap;!s||null!=(n=s.keys()[0])&&(e=s.get(n)),e?(o={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0,s.each(function(t){var e=t.model,t=!e.get("disabled",!0)&&(!e.get("zoomLock",!0)||"move");o["type_"+i]<o["type_"+t]&&(i=t),r=r&&e.get("preventDefaultMouseMove",!0)}),s={controlType:i,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}},a.enable(s.controlType,s.opt),a.setPointerChecker(t.containsPoint),Fg(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")):WI(l,t)})});var XI,r=(l(YI,XI=Ou),YI.prototype.render=function(t,e,n){var i,o;XI.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),n=n,i=t,o={pan:z(qI.pan,this),zoom:z(qI.zoom,this),scrollMove:z(qI.scrollMove,this)},GI(n).coordSysRecordMap.each(function(t){t=t.dataZoomInfoMap.get(i.uid);t&&(t.getRange=o)}))},YI.prototype.dispose=function(){this._clear(),XI.prototype.dispose.apply(this,arguments)},YI.prototype._clear=function(){!function(t,e){for(var n=GI(t).coordSysRecordMap,i=n.keys(),o=0;o<i.length;o++){var r=i[o],a=n.get(r),s=a.dataZoomInfoMap;s&&(r=e.uid,s.get(r)&&(s.removeKey(r),s.keys().length||WI(n,a)))}}(this.api,this.dataZoomModel),this.range=null},YI.type="dataZoom.inside",YI);function YI(){var t=null!==XI&&XI.apply(this,arguments)||this;return t.type="dataZoom.inside",t}var qI={zoom:function(t,e,n,i){var o=this.range,r=o.slice(),a=t.axisModels[0];if(a){t=KI[e](null,[i.originX,i.originY],a,n,t),t=(0<t.signal?t.pixelStart+t.pixelLength-t.pixel:t.pixel-t.pixelStart)/t.pixelLength*(r[1]-r[0])+r[0],i=Math.max(1/i.scale,0);r[0]=(r[0]-t)*i+t,r[1]=(r[1]-t)*i+t;t=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return yI(0,r,[0,100],0,t.minSpan,t.maxSpan),this.range=r,o[0]!==r[0]||o[1]!==r[1]?r:void 0}},pan:jI(function(t,e,n,i,o,r){n=KI[i]([r.oldX,r.oldY],[r.newX,r.newY],e,o,n);return n.signal*(t[1]-t[0])*n.pixel/n.pixelLength}),scrollMove:jI(function(t,e,n,i,o,r){return KI[i]([0,0],[r.scrollDelta,r.scrollDelta],e,o,n).signal*(t[1]-t[0])*r.scrollDelta})};function jI(s){return function(t,e,n,i){var o=this.range,r=o.slice(),a=t.axisModels[0];if(a)return yI(s(r,a,t,e,n,i),r,[0,100],"all"),this.range=r,o[0]!==r[0]||o[1]!==r[1]?r:void 0}}var KI={grid:function(t,e,n,i,o){var r=n.axis,n={},o=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===r.dim?(n.pixel=e[0]-t[0],n.pixelLength=o.width,n.pixelStart=o.x,n.signal=r.inverse?1:-1):(n.pixel=e[1]-t[1],n.pixelLength=o.height,n.pixelStart=o.y,n.signal=r.inverse?-1:1),n},polar:function(t,e,n,i,o){var r=n.axis,a={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),o=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=r.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=o[1]-o[0],a.pixelStart=o[0],a.signal=r.inverse?-1:1),a},singleAxis:function(t,e,n,i,o){var r=n.axis,n=o.model.coordinateSystem.getRect(),o={};return t=t||[0,0],"horizontal"===r.orient?(o.pixel=e[0]-t[0],o.pixelLength=n.width,o.pixelStart=n.x,o.signal=r.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=n.height,o.pixelStart=n.y,o.signal=r.inverse?-1:1),o}};Mg.registerClass(r);function $I(){}var JI={};function QI(t,e){JI[t]=e}function tD(t){return JI[t]}var eD,r=(l(nD,eD=Zp),nD.prototype.optionUpdated=function(){eD.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;N(this.option.feature,function(t,e){e=tD(e);e&&(e.getDefaultOption&&(e.defaultOption=e.getDefaultOption(n)),w(t,e.defaultOption))})},nD.type="toolbox",nD.layoutMode={type:"box",ignoreSize:!0},nD.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}},nD);function nD(){var t=null!==eD&&eD.apply(this,arguments)||this;return t.type=nD.type,t}Zp.registerClass(r);var iD,r=(l(oD,iD=Mg),oD.prototype.render=function(h,c,p,r){var d,a,s,l,t,e,n,i,o,u,f=this.group;function g(t,e){var n,i=l[t],o=l[e],t=a[i],e=new nc(t,h,h.ecModel);if(r&&null!=r.newTitle&&r.featureName===i&&(t.title=r.newTitle),i&&!o){if(0===i.indexOf("my"))n={onclick:e.option.onclick,featureName:i};else{t=tD(i);if(!t)return;n=new t}s[i]=n}else if(!(n=s[o]))return;if(n.uid=rc("toolbox-feature"),n.model=e,n.ecModel=c,n.api=p,n instanceof $I){if(!i&&o)return void(n.dispose&&n.dispose(c,p));if(!e.get("show")||n.unusable)return void(n.remove&&n.remove(c,p))}!function(o,r,t){var e,a,s=o.getModel("iconStyle"),l=o.getModel(["emphasis","iconStyle"]),n=r instanceof $I&&r.getIcons?r.getIcons():o.get("icon"),i=o.get("title")||{};"string"==typeof n?(e={})[t]=n:e=n;"string"==typeof i?(a={})[t]=i:a=i;var u=o.iconPaths={};N(e,function(t,e){var n=pp(t,{},{x:-d/2,y:-d/2,width:d,height:d});n.setStyle(s.getItemStyle()),n.ensureState("emphasis").style=l.getItemStyle();var i=new is({style:{text:a[e],align:l.get("textAlign"),borderRadius:l.get("textBorderRadius"),padding:l.get("textPadding"),fill:null},ignore:!0});n.setTextContent(i);t=h.getModel("tooltip");t&&t.get("show")&&(n.tooltip=D({content:a[e],formatter:t.get("formatter",!0)||function(){return a[e]},formatterParams:{componentType:"toolbox",name:e,title:a[e],$vars:["name","title"]},position:t.get("position",!0)||"bottom"},t.option)),n.__title=a[e],n.on("mouseover",function(){var t=l.getItemStyle(),e="vertical"===h.get("orient")?null==h.get("right")?"right":"left":null==h.get("bottom")?"bottom":"top";i.setStyle({fill:l.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:l.get("textBackgroundColor")}),n.setTextConfig({position:l.get("textPosition")||e}),i.ignore=!h.get("showTitle"),dh(this)}).on("mouseout",function(){"emphasis"!==o.get(["iconStatus",e])&&fh(this),i.hide()}),("emphasis"===o.get(["iconStatus",e])?dh:fh)(n),f.add(n),n.on("click",z(r.onclick,r,c,p,e)),u[e]=n})}(e,n,i),e.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&("emphasis"===e?dh:fh)(i[t])},n instanceof $I&&n.render&&n.render(e,c,p,r)}f.removeAll(),h.get("show")&&(d=+h.get("itemSize"),a=h.get("feature")||{},s=this._features||(this._features={}),l=[],N(a,function(t,e){l.push(e)}),new qv(this._featureNames||[],l).add(g).update(g).remove(B(g,null)).execute(),this._featureNames=l,t=f,n=p,i=(e=h).getBoxLayoutParams(),o=e.get("padding"),u={width:n.getWidth(),height:n.getHeight()},n=Rp(i,u,o),Op(e.get("orient"),t,e.get("itemGap"),n.width,n.height),Np(t,i,u,o),f.add(TT(f.getBoundingRect(),h)),f.eachChild(function(t){var e=t.__title,n=t.ensureState("emphasis"),i=n.textConfig||(n.textConfig={}),o=t.getTextContent(),r=o&&o.states.emphasis;r&&!F(r)&&e&&(n=r.style||(r.style={}),o=Ci(e,is.makeFont(n)),r=t.x+f.x,e=!1,t.y+f.y+d+o.height>p.getHeight()&&(i.position="top",e=!0),e=e?-5-o.height:d+8,r+o.width/2>p.getWidth()?(i.position=["100%",e],n.align="right"):r-o.width/2<0&&(i.position=[0,e],n.align="left"))}))},oD.prototype.updateView=function(t,e,n,i){N(this._features,function(t){t instanceof $I&&t.updateView&&t.updateView(t.model,e,n,i)})},oD.prototype.remove=function(e,n){N(this._features,function(t){t instanceof $I&&t.remove&&t.remove(e,n)}),this.group.removeAll()},oD.prototype.dispose=function(e,n){N(this._features,function(t){t instanceof $I&&t.dispose&&t.dispose(e,n)})},oD.type="toolbox",oD);function oD(){return null!==iD&&iD.apply(this,arguments)||this}Mg.registerClass(r);var rD,r=(l(aD,rD=$I),aD.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",o="svg"===e.getZr().painter.getType()?"svg":n.get("type",!0)||"png",e=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||v.browser.ie||v.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var r=atob(e.split(",")[1]),a=r.length,s=new Uint8Array(a);a--;)s[a]=r.charCodeAt(a);t=new Blob([s]);window.navigator.msSaveOrOpenBlob(t,i+"."+o)}else{var l=n.get("lang"),l='<body style="margin:0;"><img src="'+e+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>';window.open().document.write(l)}else{l=document.createElement("a");l.download=i+"."+o,l.target="_blank",l.href=e;e=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(e)}},aD.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:t.getLocale(["toolbox","saveAsImage","lang"])}},aD);function aD(){return null!==rD&&rD.apply(this,arguments)||this}r.prototype.unusable=!v.canvasSupported,QI("saveAsImage",r);var sD,lD="__ec_magicType_stack__",uD=[["line","bar"],["stack"]],r=(l(hD,sD=$I),hD.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return N(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n},hD.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},hD.prototype.onclick=function(t,e,a){var s,n,l=this.model,i=l.get(["seriesIndex",a]);cD[a]&&(s={series:[]},N(uD,function(t){0<=k(t,a)&&N(t,function(t){l.setIconStatus(t,"normal")})}),l.setIconStatus(a,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},function(t){var e=t.subType,n=t.id,n=cD[a](e,n,t,l);n&&(A(n,t.option),s.series.push(n));n=t.coordinateSystem;if(n&&"cartesian2d"===n.type&&("line"===a||"bar"===a)){n=n.getAxesByScale("ordinal")[0];if(n){var i=n.dim+"Axis",o=t.getReferringComponents(i,yu).models[0].componentIndex;s[i]=s[i]||[];for(var r=0;r<=o;r++)s[i][o]=s[i][o]||{};s[i][o].boundaryGap="bar"===a}}}),"stack"===a&&(n=w({stack:l.option.title.tiled,tiled:l.option.title.stack},l.option.title)),e.dispatchAction({type:"changeMagicType",currentType:a,newOption:s,newTitle:n,featureName:"magicType"}))},hD);function hD(){return null!==sD&&sD.apply(this,arguments)||this}var cD={line:function(t,e,n,i){if("bar"===t)return w({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,n,i){if("line"===t)return w({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,n,i){n=n.get("stack")===lD;if("line"===t||"bar"===t)return i.setIconStatus("stack",n?"normal":"emphasis"),w({id:e,stack:n?"":lD},i.get(["option","stack"])||{},!0)}};Fv({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),QI("magicType",r);var pD=new Array(60).join("-"),dD="\t";function fD(t){var o,r,a,h,t=(o={},r=[],a=[],t.eachRawSeries(function(t){var e,n,i=t.coordinateSystem;i&&("cartesian2d"===i.type||"polar"===i.type)&&"category"===(e=i.getBaseAxis()).type?(n=e.dim+"_"+e.index,o[n]||(o[n]={categoryAxis:e,valueAxis:i.getOtherAxis(e),series:[]},a.push({axisDim:e.dim,axisIndex:e.index})),o[n].series.push(t)):r.push(t)}),{seriesGroupByCategoryAxis:o,other:r,meta:a});return{value:R([(h=[],N(t.seriesGroupByCategoryAxis,function(t,e){var n=t.categoryAxis,i=t.valueAxis.dim,o=[" "].concat(P(t.series,function(t){return t.name})),r=[n.model.getCategories()];N(t.series,function(t){var e=t.getRawData();r.push(t.getRawData().mapArray(e.mapDimension(i),function(t){return t}))});for(var a=[o.join(dD)],s=0;s<r[0].length;s++){for(var l=[],u=0;u<r.length;u++)l.push(r[u][s]);a.push(l.join(dD))}h.push(a.join("\n"))}),h.join("\n\n"+pD+"\n\n")),P(t.other,function(t){var i=t.getRawData(),o=[t.name],r=[];return i.each(i.dimensions,function(){for(var t=arguments.length,e=arguments[t-1],e=i.getName(e),n=0;n<t-1;n++)r[n]=arguments[n];o.push((e?e+dD:"")+r.join(dD))}),o.join("\n")}).join("\n\n"+pD+"\n\n")],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+pD+"\n\n"),meta:t.meta}}function gD(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var yD,mD=new RegExp("["+dD+"]+","g");function vD(t,o){var t=t.split(new RegExp("\n*"+pD+"\n*","g")),r={series:[]};return N(t,function(t,e){var n,i;0<=(i=t).slice(0,i.indexOf("\n")).indexOf(dD)?(n=function(t){for(var e=t.split(/\n+/g),n=[],i=P(gD(e.shift()).split(mD),function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var r=gD(e[o]).split(mD);n.push(r.shift());for(var a=0;a<r.length;a++)i[a]&&(i[a].data[o]=r[a])}return{series:i,categories:n}}(t),e=(i=o[e]).axisDim+"Axis",i&&(r[e]=r[e]||[],r[e][i.axisIndex]={data:n.categories},r.series=r.series.concat(n.series))):(n=function(t){for(var e=t.split(/\n+/g),t=gD(e.shift()),n=[],i=0;i<e.length;i++){var o=gD(e[i]);if(o){for(var r,a=o.split(mD),s=void 0,o=!1,s=isNaN(a[0])?(o=!0,r=a[0],a=a.slice(1),n[i]={name:r,value:[]},n[i].value):n[i]=[],l=0;l<a.length;l++)s.push(+a[l]);1===s.length&&(o?n[i].value=s[0]:n[i]=s[0])}}return{name:t,data:n}}(t),r.series.push(n))}),r}function _D(){return null!==yD&&yD.apply(this,arguments)||this}QI("dataView",(l(_D,yD=$I),_D.prototype.onclick=function(t,e){var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var r=document.createElement("h4"),a=i.get("lang")||[];r.innerHTML=a[0]||i.get("title"),r.style.cssText="margin: 10px 20px;",r.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=i.get("optionToContent"),h=i.get("contentToOption"),c=fD(t);"function"==typeof u?"string"==typeof(f=u(e.getOption()))?s.innerHTML=f:Y(f)&&s.appendChild(f):(s.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=c.value);var p=c.meta,d=document.createElement("div");d.style.cssText="position:absolute;bottom:0;left:0;right:0;";var t="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",f=document.createElement("div"),c=document.createElement("div");t+=";background-color:"+i.get("buttonColor"),t+=";color:"+i.get("buttonTextColor");var g=this;function y(){n.removeChild(o),g._dom=null}$t(f,"click",y),$t(c,"click",function(){if(null==h&&null!=u||null!=h&&null==u)y();else{var t;try{t="function"==typeof h?h(s,e.getOption()):vD(l.value,p)}catch(t){throw y(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),y()}}),f.innerHTML=a[1],c.innerHTML=a[2],c.style.cssText=t,f.style.cssText=t,i.get("readOnly")||d.appendChild(c),d.appendChild(f),o.appendChild(r),o.appendChild(s),o.appendChild(d),s.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},_D.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},_D.prototype.dispose=function(t,e){this.remove(t,e)},_D.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocale(["toolbox","dataView","title"]),lang:t.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},_D)),Fv({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,o){var r=[];N(t.newOption.series,function(t){var e,i,n=o.getSeriesByName(t.name)[0];n?(e=n.get("data"),r.push({name:t.name,data:(n=t.data,i=e,P(n,function(t,e){var n=i&&i[e];if(!U(n)||V(n))return t;U(t)&&!V(t)||(t={value:t});e=null!=n.name&&null==t.name;return t=A(t,n),e&&delete t.name,t}))})):r.push(D({type:"scatter"},t))}),o.mergeOption(A({series:r},t.newOption))});var xD,bD=!0,wD=Math.min,SD=Math.max,MD=Math.pow,TD=1e4,CD=6,ID=6,DD="globalPan",AD={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},kD={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},LD={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},PD=0,OD=(l(RD,xD=Nt),RD.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},RD.prototype._doEnableBrush=function(t){var e,n,i,o=this._zr;this._enableGlobalPan||(e=o,n=DD,i=this._uid,NI(e)[n]=i),N(this._handlers,function(t,e){o.on(e,t)}),this._brushType=t.brushType,this._brushOption=w(I(LD),t,!0)},RD.prototype._doDisableBrush=function(){var t,e,n,i=this._zr;t=i,e=DD,n=this._uid,(t=NI(t))[e]===n&&(t[e]=null),N(this._handlers,function(t,e){i.off(e,t)}),this._brushType=this._brushOption=null},RD.prototype.setPanels=function(t){var e;return t&&t.length?(e=this._panels={},N(t,function(t){e[t.panelId]=I(t)})):this._panels=null,this},RD.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},RD.prototype.updateCovers=function(i){i=P(i,function(t){return w(I(LD),t,!0)});var n="\0-brush-index-",o=this._covers,r=this._covers=[],a=this,s=this._creatingCover;return new qv(o,i,function(t,e){return l(t.__brushOption,e)},l).add(t).update(t).remove(function(t){o[t]!==s&&a.group.remove(o[t])}).execute(),this;function l(t,e){return(null!=t.id?t.id:n+e)+"-"+t.brushType}function t(t,e){var n=i[t];null!=e&&o[e]===s?r[t]=o[e]:(n=r[t]=null!=e?(o[e].__brushOption=n,o[e]):ED(a,ND(a,n)),VD(a,n))}},RD.prototype.unmount=function(){return this.enableBrush(!1),WD(this),this._zr.remove(this.group),this},RD.prototype.dispose=function(){this.unmount(),this.off()},RD);function RD(t){var e=xD.call(this)||this;return e._track=[],e._covers=[],e._handlers={},e._zr=t,e.group=new Br,e._uid="brushController_"+PD++,N(lA,function(t,e){this._handlers[e]=z(t,this)},e),e}function ND(t,e){var n=hA[e.brushType].createCover(t,e);return n.__brushOption=e,BD(n,e),t.group.add(n),n}function ED(t,e){var n=FD(e);return n.endCreating&&(n.endCreating(t,e),BD(e,e.__brushOption)),e}function zD(t,e){var n=e.__brushOption;FD(e).updateCoverShape(t,e,n.range,n)}function BD(t,e){var n=e.z;null==n&&(n=TD),t.traverse(function(t){t.z=n,t.z2=n})}function VD(t,e){FD(e).updateCommon(t,e),zD(t,e)}function FD(t){return hA[t.__brushOption.brushType]}function HD(t,e,n){var i,o=t._panels;if(!o)return bD;var r=t._transform;return N(o,function(t){t.isTargetByCursor(e,n,r)&&(i=t)}),i}function GD(t,e){t=t._panels;if(!t)return bD;e=e.__brushOption.panelId;return null!=e?t[e]:bD}function WD(e){var t=e._covers,n=t.length;return N(t,function(t){e.group.remove(t)},e),t.length=0,n}function UD(t,e){var n=P(t._covers,function(t){var e=t.__brushOption,t=I(e.range);return{brushType:e.brushType,panelId:e.panelId,range:t}});t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function ZD(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function XD(e,n,t,i){var o=new Br;return o.add(new na({name:"main",style:KD(t),silent:!0,draggable:!0,cursor:"move",drift:B(QD,e,n,o,["n","s","w","e"]),ondragend:B(UD,n,{isEnd:!0})})),N(i,function(t){o.add(new na({name:t.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:B(QD,e,n,o,t),ondragend:B(UD,n,{isEnd:!0})}))}),o}function YD(t,e,n,i){var o=i.brushStyle.lineWidth||0,r=SD(o,ID),a=n[0][0],s=n[1][0],l=a-o/2,u=s-o/2,h=n[0][1],c=n[1][1],p=h-r+o/2,d=c-r+o/2,n=h-a,h=c-s,c=n+o,o=h+o;jD(t,e,"main",a,s,n,h),i.transformable&&(jD(t,e,"w",l,u,r,o),jD(t,e,"e",p,u,r,o),jD(t,e,"n",l,u,c,r),jD(t,e,"s",l,d,c,r),jD(t,e,"nw",l,u,r,r),jD(t,e,"ne",p,u,r,r),jD(t,e,"sw",l,d,r,r),jD(t,e,"se",p,d,r,r))}function qD(n,i){var t=i.__brushOption,o=t.transformable,e=i.childAt(0);e.useStyle(KD(t)),e.attr({silent:!o,cursor:o?"move":"default"}),N([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(t){var e=i.childOfName(t.join("")),t=1===t.length?JD(n,t[0]):function(t,e){e=[JD(t,e[0]),JD(t,e[1])];return"e"!==e[0]&&"w"!==e[0]||e.reverse(),e.join("")}(n,t);e&&e.attr({silent:!o,invisible:!o,cursor:o?kD[t]+"-resize":null})})}function jD(t,e,n,i,o,r,a){n=e.childOfName(n);n&&n.setShape((i=nA(t,e,[[i,o],[i+r,o+a]]),r=wD(i[0][0],i[1][0]),o=wD(i[0][1],i[1][1]),a=SD(i[0][0],i[1][0]),i=SD(i[0][1],i[1][1]),{x:r,y:o,width:a-r,height:i-o}))}function KD(t){return A({strokeNoScale:!0},t.brushStyle)}function $D(t,e,n,i){var o=[wD(t,n),wD(e,i)],i=[SD(t,n),SD(e,i)];return[[o[0],i[0]],[o[1],i[1]]]}function JD(t,e){return{left:"w",right:"e",top:"n",bottom:"s"}[lp({w:"left",e:"right",n:"top",s:"bottom"}[e],ap(t.group))]}function QD(t,e,n,i,o,r){var a=n.__brushOption,s=t.toRectRange(a.range),l=eA(e,o,r);N(i,function(t){t=AD[t];s[t[0]][t[1]]+=l[t[0]]}),a.range=t.fromRectRange($D(s[0][0],s[1][0],s[0][1],s[1][1])),VD(e,n),UD(e,{isEnd:!1})}function tA(t,e,n,i){var o=e.__brushOption.range,r=eA(t,n,i);N(o,function(t){t[0]+=r[0],t[1]+=r[1]}),VD(t,e),UD(t,{isEnd:!1})}function eA(t,e,n){t=t.group,n=t.transformCoordToLocal(e,n),t=t.transformCoordToLocal(0,0);return[n[0]-t[0],n[1]-t[1]]}function nA(t,e,n){e=GD(t,e);return e&&e!==bD?e.clipPath(n,t._transform):I(n)}function iA(t,e,n){if(t._brushType&&!function(t,e,n){t=t._zr;return e<0||e>t.getWidth()||n<0||n>t.getHeight()}(t,e.offsetX,e.offsetY)){var i=t._zr,o=t._covers,r=HD(t,e,n);if(!t._dragging)for(var a=0;a<o.length;a++){var s=o[a].__brushOption;if(r&&(r===bD||s.panelId===r.panelId)&&hA[s.brushType].contain(o[a],n[0],n[1]))return}r&&i.setCursorStyle("crosshair")}}function oA(t){t=t.event;t.preventDefault&&t.preventDefault()}function rA(t,e,n){return t.childOfName("main").contain(e,n)}function aA(t,e,n,i){var o,r,a=t._creatingCover,s=t._creatingPanel,l=t._brushOption;return t._track.push(n.slice()),function(t){if((n=t._track).length){var e=n[n.length-1],t=n[0],n=e[0]-t[0],t=e[1]-t[1],t=MD(n*n+t*t,.5);return CD<t}}(t)||a?(s&&!a&&("single"===l.brushMode&&WD(t),(o=I(l)).brushType=sA(o.brushType,s),o.panelId=s===bD?null:s.panelId,a=t._creatingCover=ND(t,o),t._covers.push(a)),a&&(r=hA[sA(t._brushType,s)],a.__brushOption.range=r.getCreatingRange(nA(t,a,t._track)),i&&(ED(t,a),r.updateCommon(t,a)),zD(t,a),r={isEnd:i})):i&&"single"===l.brushMode&&l.removeOnClick&&HD(t,e,n)&&WD(t)&&(r={isEnd:i,removeOnClick:!0}),r}function sA(t,e){return"auto"===t?e.defaultBrushType:t}var lA={mousedown:function(t){var e;this._dragging?uA(this,t):t.target&&t.target.draggable||(oA(t),e=this.group.transformCoordToLocal(t.offsetX,t.offsetY),this._creatingCover=null,(this._creatingPanel=HD(this,t,e))&&(this._dragging=!0,this._track=[e.slice()]))},mousemove:function(t){var e=t.offsetX,n=t.offsetY,n=this.group.transformCoordToLocal(e,n);iA(this,t,n),this._dragging&&(oA(t),(n=aA(this,t,n,!1))&&UD(this,n))},mouseup:function(t){uA(this,t)}};function uA(t,e){var n,i;t._dragging&&(oA(e),n=e.offsetX,i=e.offsetY,i=t.group.transformCoordToLocal(n,i),i=aA(t,e,i,!0),t._dragging=!1,t._track=[],t._creatingCover=null,i&&UD(t,i))}var hA={lineX:cA(0),lineY:cA(1),rect:{createCover:function(t,e){function n(t){return t}return XD({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){t=ZD(t);return $D(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(t,e,n,i){YD(t,e,n,i)},updateCommon:qD,contain:rA},polygon:{createCover:function(t,e){var n=new Br;return n.add(new ba({name:"main",style:KD(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new ma({name:"main",draggable:!0,drift:B(tA,t,e),ondragend:B(UD,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:nA(t,e,n)})},updateCommon:qD,contain:rA}};function cA(a){return{createCover:function(t,e){return XD({toRectRange:function(t){t=[t,[0,100]];return a&&t.reverse(),t},fromRectRange:function(t){return t[a]}},t,e,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(t){t=ZD(t);return[wD(t[0][a],t[1][a]),SD(t[0][a],t[1][a])]},updateCoverShape:function(t,e,n,i){var o=GD(t,e),r=[n,o!==bD&&o.getLinearBrushOtherExtent?o.getLinearBrushOtherExtent(a):[0,[(r=t._zr).getWidth(),r.getHeight()][1-a]]];a&&r.reverse(),YD(t,e,r,i)},updateCommon:qD,contain:rA}}var pA={axisPointer:1,tooltip:1,brush:1};function dA(t,i,o){var r=fA(t);return function(t,e){return r.contain(e[0],e[1])&&(n=t,e=o,t=(t=i).getComponentByElement(n.topTarget),n=t&&t.coordinateSystem,!(t&&t!==e&&!pA.hasOwnProperty(t.mainType)&&n&&n.model!==e));var n}}function fA(t){return mi.create(t)}var gA=["dataToPoint","pointToData"],yA=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],mA=(vA.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(t,e,n){(t.coordRanges||(t.coordRanges=[])).push(e),t.coordRange||(t.coordRange=e,e=MA[t.brushType](0,n,e),t.__rangeOffset={offset:CA[t.brushType](e.values,t.range,[1,1]),xyMinMax:e.xyMinMax})}),t},vA.prototype.matchOutputRanges=function(t,i,o){N(t,function(n){var t=this.findTargetInfo(n,i);t&&!0!==t&&N(t.coordSyses,function(t){var e=MA[n.brushType](1,t,n.range);o(n,e.values,t,i)})},this)},vA.prototype.setInputRanges=function(t,i){N(t,function(t){var e,n=this.findTargetInfo(t,i);t.range=t.range||[],n&&!0!==n&&(t.panelId=n.panelId,e=MA[t.brushType](0,n.coordSys,t.coordRange),n=t.__rangeOffset,t.range=n?CA[t.brushType](e.values,n.offset,function(t,e){t=DA(t),e=DA(e),e=[t[0]/e[0],t[1]/e[1]];return isNaN(e[0])&&(e[0]=1),isNaN(e[1])&&(e[1]=1),e}(e.xyMinMax,n.xyMinMax)):e.values)},this)},vA.prototype.makePanelOpts=function(r,a){return P(this._targetInfoList,function(t){var n,i,e,o=t.getPanelRect();return{panelId:t.panelId,defaultBrushType:a?a(t):null,clipPath:(e=fA(e=o),function(t){return cp(t,e)}),isTargetByCursor:dA(o,r,t.coordSysModel),getLinearBrushOtherExtent:(n=fA(n=o),function(t){var e=null!=i?i:t,t=e?n.width:n.height,e=e?n.x:n.y;return[e,e+(t||0)]})}})},vA.prototype.controlSeries=function(t,e,n){n=this.findTargetInfo(t,n);return!0===n||n&&0<=k(n.coordSyses,e.coordinateSystem)},vA.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=xA(e,t),o=0;o<n.length;o++){var r=n[o],a=t.panelId;if(a){if(r.panelId===a)return r}else for(var s=0;s<wA.length;s++)if(wA[s](i,r))return r}return!0},vA);function vA(t,e,n){var i=this;this._targetInfoList=[];var o=xA(e,t);N(bA,function(t,e){n&&n.include&&!(0<=k(n.include,e))||t(o,i._targetInfoList)})}function _A(t){return t[0]>t[1]&&t.reverse(),t}function xA(t,e){return gu(t,e,{includeMainTypes:yA})}var bA={grid:function(t,i){var o=t.xAxisModels,r=t.yAxisModels,t=t.gridModels,e=ht(),a={},s={};(o||r||t)&&(N(o,function(t){t=t.axis.grid.model;e.set(t.id,t),a[t.id]=!0}),N(r,function(t){t=t.axis.grid.model;e.set(t.id,t),s[t.id]=!0}),N(t,function(t){e.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),e.each(function(t){var e=t.coordinateSystem,n=[];N(e.getCartesians(),function(t,e){(0<=k(o,t.getAxis("x").model)||0<=k(r,t.getAxis("y").model))&&n.push(t)}),i.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:n[0],coordSyses:n,getPanelRect:SA.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,n){N(t.geoModels,function(t){var e=t.coordinateSystem;n.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:e,coordSyses:[e],getPanelRect:SA.geo})})}},wA=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,t=t.gridModel;return!t&&n&&(t=n.axis.grid.model),!t&&i&&(t=i.axis.grid.model),t&&t===e.gridModel},function(t,e){t=t.geoModel;return t&&t===e.geoModel}],SA={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(ap(t)),e}},MA={lineX:B(TA,0),lineY:B(TA,1),rect:function(t,e,n){var i=e[gA[t]]([n[0][0],n[1][0]]),n=e[gA[t]]([n[0][1],n[1][1]]),n=[_A([i[0],n[0]]),_A([i[1],n[1]])];return{values:n,xyMinMax:n}},polygon:function(e,n,t){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:P(t,function(t){t=n[gA[e]](t);return i[0][0]=Math.min(i[0][0],t[0]),i[1][0]=Math.min(i[1][0],t[1]),i[0][1]=Math.max(i[0][1],t[0]),i[1][1]=Math.max(i[1][1],t[1]),t}),xyMinMax:i}}};function TA(t,e,n,i){var o=n.getAxis(["x","y"][t]),r=_A(P([0,1],function(t){return e?o.coordToData(o.toLocalCoord(i[t])):o.toGlobalCoord(o.dataToCoord(i[t]))})),n=[];return n[t]=r,n[1-t]=[NaN,NaN],{values:r,xyMinMax:n}}var CA={lineX:B(IA,0),lineY:B(IA,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,n,i){return P(t,function(t,e){return[t[0]-i[0]*n[e][0],t[1]-i[1]*n[e][1]]})}};function IA(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function DA(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var AA=N,kA=du();function LA(t){t=kA(t);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var PA,xs=(l(OA,PA=xs),OA.type="dataZoom.select",OA);function OA(){var t=null!==PA&&PA.apply(this,arguments)||this;return t.type=OA.type,t}Zp.registerClass(xs);var RA,Ou=(l(NA,RA=Ou),NA.type="dataZoom.select",NA);function NA(){var t=null!==RA&&RA.apply(this,arguments)||this;return t.type=NA.type,t}Mg.registerClass(Ou);var EA,zA=N,BA=Ql+"toolbox-dataZoom_",Ou=(l(VA,EA=$I),VA.prototype.render=function(t,e,n,i){this.brushController||(this.brushController=new OD(n.getZr()),this.brushController.on("brush",z(this._onBrush,this)).mount()),function(t,e,n,i,o){var r=n.isZoomActive;i&&"takeGlobalCursor"===i.type&&(r="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n.isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");o=new mA(UA(t),e,{include:["grid"]}).makePanelOpts(o,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"});n.brushController.setPanels(o).enableBrush(!(!r||!o.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,i,n),e=e,t.setIconStatus("back",1<function(t){return LA(t).length}(e)?"emphasis":"normal")},VA.prototype.onclick=function(t,e,n){WA[n].call(this)},VA.prototype.remove=function(t,e){this.brushController.unmount()},VA.prototype.dispose=function(t,e){this.brushController.dispose()},VA.prototype._onBrush=function(t){var s,l,o,r,e=t.areas;function i(t,e,n){var i,o,r,a=e.getAxis(t),e=a.model,t=(i=t,o=e,l.eachComponent({mainType:"dataZoom",subType:"select"},function(t){t.getAxisModel(i,o.componentIndex)&&(r=t)}),r),e=t.findRepresentativeAxisProxy(e).getMinMaxSpan();null==e.minValueSpan&&null==e.maxValueSpan||(n=yI(0,n.slice(),a.scale.getExtent(),0,e.minValueSpan,e.maxValueSpan)),t&&(s[t.id]={dataZoomId:t.id,startValue:n[0],endValue:n[1]})}t.isEnd&&e.length&&(s={},l=this.ecModel,this.brushController.updateCovers([]),new mA(UA(this.model),l,{include:["grid"]}).matchOutputRanges(e,l,function(t,e,n){"cartesian2d"===n.type&&("rect"===(t=t.brushType)?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[t],n,e))}),e=s,r=LA(o=l),AA(e,function(t,e){for(var n,i=r.length-1;0<=i;i--){if(r[i][e])break}i<0&&((n=o.queryComponents({mainType:"dataZoom",subType:"select",id:e})[0])&&(n=n.getPercentRange(),r[0][e]={dataZoomId:e,start:n[0],end:n[1]}))}),r.push(e),this._dispatchZoomAction(s))},VA.prototype._dispatchZoomAction=function(t){var n=[];zA(t,function(t,e){n.push(I(t))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},VA.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},VA);function VA(){return null!==EA&&EA.apply(this,arguments)||this}var FA,HA,GA,WA={zoom:function(){var t=!this.isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var i=LA(t),t=i[i.length-1];1<i.length&&i.pop();var o={};return AA(t,function(t,e){for(var n=i.length-1;0<=n;n--)if(t=i[n][e]){o[e]=t;break}}),o}(this.ecModel))}};function UA(t){t={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}function ZA(){return null!==GA&&GA.apply(this,arguments)||this}function XA(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}QI("dataZoom",Ou),FA="dataZoom",HA=function(t){var e=t.getComponent("toolbox",0);if(e){var i=e.getModel(["feature","dataZoom"]),o=[],t=gu(t,UA(i));return zA(t.xAxisModels,function(t){return n(t,"xAxis","xAxisIndex")}),zA(t.yAxisModels,function(t){return n(t,"yAxis","yAxisIndex")}),o}function n(t,e,n){t=t.componentIndex,e={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:BA+e+t};e[n]=t,o.push(e)}},it(null==md.get(FA)&&HA),md.set(FA,HA),QI("restore",(l(ZA,GA=$I),ZA.prototype.onclick=function(t,e){kA(t).snapshots=null,e.dispatchAction({type:"restore",from:this.uid})},ZA.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocale(["toolbox","restore","title"])}},ZA)),Fv({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var YA="none",qA=Math.round,jA=Math.sin,KA=Math.cos,$A=Math.PI,JA=2*Math.PI,QA=180/$A;function tk(t){return qA(1e4*t)/1e4}function ek(t){return t<1e-4&&-1e-4<t}function nk(t,e){return 1<t?+t.toFixed(e):+t.toPrecision(e)}function ik(t,e){e&&ok(t,"transform","matrix("+nk(e[0],3)+","+nk(e[1],3)+","+nk(e[2],3)+","+nk(e[3],3)+","+nk(e[4],4)+","+nk(e[5],4)+")")}function ok(t,e,n){n&&("linear"===n.type||"radial"===n.type)||t.setAttribute(e,n)}function rk(t,e,n){var i,o,r,a=null==e.opacity?1:e.opacity;null!=(i=(i=e).fill)&&i!==YA?(ok(t,"fill",r="transparent"===(r=e.fill)?YA:r),ok(t,"fill-opacity",(null!=e.fillOpacity?e.fillOpacity*a:a)+"")):ok(t,"fill",YA),null!=(r=(r=e).stroke)&&r!==YA?(ok(t,"stroke",r="transparent"===(r=e.stroke)?YA:r),r=e.lineWidth,ok(t,"stroke-width",((o=e.strokeNoScale?n.getLineScale():1)?r/o:0)+""),ok(t,"paint-order",e.strokeFirst?"stroke":"fill"),ok(t,"stroke-opacity",(null!=e.strokeOpacity?e.strokeOpacity*a:a)+""),(a=e.lineDash&&0<r&&em(e.lineDash,r))?(r=e.lineDashOffset,o&&1!==o&&(a=P(a,function(t){return t/o}),r=r&&qA(r/=o)),ok(t,"stroke-dasharray",a.join(",")),ok(t,"stroke-dashoffset",(r||0)+"")):ok(t,"stroke-dasharray",""),e.lineCap&&ok(t,"stroke-linecap",e.lineCap),e.lineJoin&&ok(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&ok(t,"stroke-miterlimit",e.miterLimit+"")):ok(t,"stroke",YA)}var ak=(sk.prototype.reset=function(){this._d=[],this._str=""},sk.prototype.moveTo=function(t,e){this._add("M",t,e)},sk.prototype.lineTo=function(t,e){this._add("L",t,e)},sk.prototype.bezierCurveTo=function(t,e,n,i,o,r){this._add("C",t,e,n,i,o,r)},sk.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},sk.prototype.arc=function(t,e,n,i,o,r){this.ellipse(t,e,n,n,0,i,o,r)},sk.prototype.ellipse=function(t,e,n,i,o,r,a,s){var l=0===this._d.length,u=a-r,h=!s,c=Math.abs(u),p=ek(c-JA)||(h?JA<=u:JA<=-u),a=!1,a=!!p||!ek(c)&&$A<=(0<u?u%JA:u%JA+JA)==!!h,s=tk(t+n*KA(r)),c=tk(e+i*jA(r));p&&(u=h?JA-1e-4:1e-4-JA,a=!0,l&&this._d.push("M",s,c));t=tk(t+n*KA(r+u)),u=tk(e+i*jA(r+u));if(isNaN(s)||isNaN(c)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(QA)||isNaN(t)||isNaN(u))return"";this._d.push("A",tk(n),tk(i),qA(o*QA),+a,+h,t,u)},sk.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("L",t+n,e),this._add("L",t+n,e+i),this._add("L",t,e+i),this._add("L",t,e)},sk.prototype.closePath=function(){this._add("Z")},sk.prototype._add=function(t,e,n,i,o,r,a,s,l){this._d.push(t);for(var u=1;u<arguments.length;u++){var h=arguments[u];if(isNaN(h))return void(this._invalid=!0);this._d.push(tk(h))}},sk.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},sk.prototype.getStr=function(){return this._str},sk);function sk(){}var lk={brush:function(t){var e=t.style,n=t.__svgEl;n||(n=XA("path"),t.__svgEl=n),t.path||t.createPathProxy();var i=t.path;t.shapeChanged()&&(i.beginPath(),t.buildPath(i,t.shape),t.pathUpdated());var o=i.getVersion(),r=t,a=r.__svgPathBuilder;(r.__svgPathVersion!==o||!a||t.style.strokePercent<1)&&((a=a||(r.__svgPathBuilder=new ak)).reset(),i.rebuildPath(a,t.style.strokePercent),a.generateStr(),r.__svgPathVersion=o),ok(n,"d",a.getStr()),rk(n,e,t),ik(n,t.transform)}},uk={brush:function(t){var e,n,i,o,r,a,s=t.style,l=s.image;l instanceof HTMLImageElement&&(l=l.src),l&&(e=s.x||0,n=s.y||0,i=s.width,o=s.height,(r=t.__svgEl)||(r=XA("image"),t.__svgEl=r),l!==t.__imageSrc&&(a="href",s=l,r.setAttributeNS("http://www.w3.org/1999/xlink",a,s),t.__imageSrc=l),ok(r,"width",i+""),ok(r,"height",o+""),ok(r,"x",e+""),ok(r,"y",n+""),ik(r,t.transform))}},hk={left:"start",right:"end",center:"middle",middle:"middle"};var ck={brush:function(t){var e,n,i,o=t.style,r=o.text;null!=r&&(r+=""),r&&((e=t.__svgEl)||(e=XA("text"),t.__svgEl=e),i=o.font||wi,e.style.font=i,e.textContent=r,rk(e,o,t),ik(e,t.transform),n=o.x||0,r=o.y||0,t=Ai(i),"top"===(i=o.textBaseline)?r+=t/2:"bottom"===i&&(r-=t/2),r=r,o=hk[o.textAlign]||o.textAlign,ok(e,"dominant-baseline","middle"),ok(e,"text-anchor",o),ok(e,"x",n+""),ok(e,"y",r+""))}};function pk(s,l,u){u=u||function(t,e){return t===e},s=s.slice();var h=(l=l.slice()).length,c=s.length,p=1,t=h+c,d=[{newPos:-1,components:[]}],e=dk(d[0],l,s,0,u);if(d[0].newPos+1>=h&&c<=e+1){for(var n=[],i=0;i<l.length;i++)n.push(i);return[{indices:n,count:l.length,added:!1,removed:!1}]}for(;p<=t;){var o=function(){for(var t=-1*p;t<=p;t+=2){var e,n=d[t-1],i=d[t+1],o=(i?i.newPos:0)-t;n&&(d[t-1]=void 0);var r=n&&n.newPos+1<h,a=i&&0<=o&&o<c;if(r||a){if(!r||a&&n.newPos<i.newPos?fk((e={newPos:(e=i).newPos,components:e.components.slice(0)}).components,!1,!0):((e=n).newPos++,fk(e.components,!0,!1)),o=dk(e,l,s,t,u),e.newPos+1>=h&&c<=o+1)return function(t){for(var e=0,n=t.length,i=0,o=0;e<n;e++){var r=t[e];if(r.removed){for(s=o;s<o+r.count;s++)r.indices.push(s);o+=r.count}else{for(var a=[],s=i;s<i+r.count;s++)a.push(s);r.indices=a,i+=r.count,r.added||(o+=r.count)}}return t}(e.components);d[t]=e}else d[t]=void 0}p++}();if(o)return o}}function dk(t,e,n,i,o){for(var r=e.length,a=n.length,s=t.newPos,l=s-i,u=0;s+1<r&&l+1<a&&o(e[s+1],n[l+1]);)s++,l++,u++;return u&&t.components.push({count:u,added:!1,removed:!1,indices:[]}),t.newPos=s,l}function fk(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n,indices:[]}:t.push({count:1,added:e,removed:n,indices:[]})}gk.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");if(0!==n.length)return n[0];if(t){var i=e.insertBefore(this.createElement("defs"),e.firstChild);return i.contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;0<=n;--n)if(e[n]===t)return!0;return!1}),i}return null},gk.prototype.doUpdate=function(t,e){var n;t&&(n=this.getDefs(!1),t[this._domName]&&n.contains(t[this._domName])?"function"==typeof e&&e(t):(e=this.add(t))&&(t[this._domName]=e))},gk.prototype.add=function(t){return null},gk.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},gk.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},gk.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var n=[];return N(this._tagNames,function(t){t=e.getElementsByTagName(t);n=n.concat([].slice.call(t))}),n},gk.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;N(t,function(t){t[e._markLabel]="0"})},gk.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},gk.prototype.removeUnused=function(){var t,e,n=this.getDefs(!1);n&&(t=this.getDoms(),e=this,N(t,function(t){"1"!==t[e._markLabel]&&n.removeChild(t)}))},gk.prototype.getSvgProxy=function(t){return t instanceof yr?lk:t instanceof Wr?uk:t instanceof ka?ck:lk},gk.prototype.getSvgElement=function(t){return t.__svgEl},Ou=gk;function gk(t,e,n,i,o){this.nextId=0,this._domName="_dom",this.createElement=XA,this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,o&&(this._domName=o)}function yk(t){return"linear"===t.type}function mk(t){return"radial"===t.type}var vk,_k=(l(xk,vk=Ou),xk.prototype.addWithoutUpdate=function(o,r){var a;r&&r.style&&(a=this,N(["fill","stroke"],function(t){var e,n,i=r.style[t];!i||"linear"!==i.type&&"radial"!==i.type||(e=i,n=a.getDefs(!0),i=void 0,e.__dom?(i=e.__dom,n.contains(e.__dom)||a.addDom(i)):i=a.add(e),a.markUsed(r),i=i.getAttribute("id"),o.setAttribute(t,"url(#"+i+")"))}))},xk.prototype.add=function(t){var e;if(yk(t))e=this.createElement("linearGradient");else{if(!mk(t))return b("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},xk.prototype.update=function(n){var i=this;this.doUpdate(n,function(){var t=n.type,e=n.__dom.tagName;"linear"===t&&"linearGradient"===e||"radial"===t&&"radialGradient"===e?i.updateDom(n,n.__dom):(i.removeDom(n),i.add(n))})},xk.prototype.updateDom=function(t,e){if(yk(t))e.setAttribute("x1",t.x+""),e.setAttribute("y1",t.y+""),e.setAttribute("x2",t.x2+""),e.setAttribute("y2",t.y2+"");else{if(!mk(t))return void b("Illegal gradient type.");e.setAttribute("cx",t.x+""),e.setAttribute("cy",t.y+""),e.setAttribute("r",t.r+"")}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,i=0,o=n.length;i<o;++i){var r=this.createElement("stop");r.setAttribute("offset",100*n[i].offset+"%");var a,s=n[i].color;-1<s.indexOf("rgba")?(a=je(s)[3],s=Je(s),r.setAttribute("stop-color","#"+s),r.setAttribute("stop-opacity",a+"")):r.setAttribute("stop-color",n[i].color),e.appendChild(r)}t.__dom=e},xk.prototype.markUsed=function(t){var e;t.style&&((e=t.style.fill)&&e.__dom&&vk.prototype.markDomUsed.call(this,e.__dom),(e=t.style.stroke)&&e.__dom&&vk.prototype.markDomUsed.call(this,e.__dom))},xk);function xk(t,e){return vk.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")||this}var bk,wk=(l(Sk,bk=Ou),Sk.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1),this.markUsed(t)},Sk.prototype.updateDom=function(t,e,n){var i,o,r,a,s;e&&0<e.length?(r=this.getDefs(!0),o=i=void 0,(s=e[0])[a=n?"_textDom":"_dom"]?(o=s[a].getAttribute("id"),i=s[a],r.contains(i)||r.appendChild(i)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",o),r.appendChild(i),s[a]=i),r=this.getSvgProxy(s),s.transform&&s.parent.invTransform&&!n?(a=Array.prototype.slice.call(s.transform),Yn(s.transform,s.parent.invTransform,s.transform),r.brush(s),s.transform=a):r.brush(s),s=this.getSvgElement(s),i.innerHTML="",i.appendChild(s.cloneNode()),t.setAttribute("clip-path","url(#"+o+")"),1<e.length&&this.updateDom(i,e.slice(1),n)):t&&t.setAttribute("clip-path","none")},Sk.prototype.markUsed=function(t){var e=this;t.__clipPaths&&N(t.__clipPaths,function(t){t._dom&&bk.prototype.markDomUsed.call(e,t._dom),t._textDom&&bk.prototype.markDomUsed.call(e,t._textDom)})},Sk);function Sk(t,e){return bk.call(this,t,e,"clipPath","__clippath_in_use__")||this}var Mk,Tk=(l(Ck,Mk=Ou),Ck.prototype.addWithoutUpdate=function(t,e){var n;e&&Ik(e.style)&&(n=void 0,e._shadowDom?(n=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(n)):n=this.add(e),this.markUsed(e),n=n.getAttribute("id"),t.style.filter="url(#"+n+")")},Ck.prototype.add=function(t){var e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},Ck.prototype.update=function(t,e){var n;Ik(e.style)?(n=this,Mk.prototype.doUpdate.call(this,e,function(){n.updateDom(e,e._shadowDom)})):this.remove(t,e)},Ck.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},Ck.prototype.updateDom=function(t,e){var n,i,o,r,a=e.getElementsByTagName("feDropShadow"),s=a.length?a[0]:this.createElement("feDropShadow"),l=t.style,u=t.scaleX||1,a=t.scaleY||1;if(l.shadowBlur||l.shadowOffsetX||l.shadowOffsetY)n=l.shadowOffsetX||0,i=l.shadowOffsetY||0,o=l.shadowBlur,r=l.shadowColor;else{if(!l.textShadowBlur)return void this.removeDom(e);n=l.textShadowOffsetX||0,i=l.textShadowOffsetY||0,o=l.textShadowBlur,r=l.textShadowColor}s.setAttribute("dx",n/u+""),s.setAttribute("dy",i/a+""),s.setAttribute("flood-color",r);a=o/2/u+" "+o/2/a;s.setAttribute("stdDeviation",a),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(s),t._shadowDom=e},Ck.prototype.markUsed=function(t){t._shadowDom&&Mk.prototype.markDomUsed.call(this,t._shadowDom)},Ck);function Ck(t,e){return Mk.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")||this}function Ik(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function Dk(t){return parseInt(t,10)}function Ak(t,e){return e&&t&&e.parentNode!==t}function kk(t){return t.__svgEl}function Lk(t,e,n,i){this.type="svg",this.refreshHover=Pk("refreshHover"),this.pathToImage=Pk("pathToImage"),this.configLayer=Pk("configLayer"),this.root=t,this.storage=e,this._opts=n=D({},n||{});var o=XA("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var r=XA("g");o.appendChild(r);e=XA("g");o.appendChild(e),this._gradientManager=new _k(i,e),this._clipPathManager=new wk(i,e),this._shadowManager=new Tk(i,e);i=document.createElement("div");i.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=e,this._backgroundRoot=r,this._viewport=i,t.appendChild(i),i.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]}function Pk(t){return function(){b('In SVG mode painter not support method "'+t+'"')}}Ll("svg",(Lk.prototype.getType=function(){return"svg"},Lk.prototype.getViewportRoot=function(){return this._viewport},Lk.prototype.getSvgDom=function(){return this._svgDom},Lk.prototype.getSvgRoot=function(){return this._svgRoot},Lk.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},Lk.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},Lk.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=XA("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0),e.style.fill=t,this._backgroundRoot.appendChild(e),this._backgroundNode=e},Lk.prototype._paintList=function(t){this._gradientManager.markAllUnused(),this._clipPathManager.markAllUnused(),this._shadowManager.markAllUnused();for(var e=this._svgRoot,n=this._visibleList,i=t.length,o=[],r=0;r<i;r++){var a=t[r],s=(s=a)instanceof yr?lk:s instanceof Wr?uk:s instanceof ka?ck:lk,l=kk(a);a.invisible||(!a.__dirty&&l||(s&&s.brush(a),this._clipPathManager.update(a),a.style&&(this._gradientManager.update(a.style.fill),this._gradientManager.update(a.style.stroke),this._shadowManager.update(l,a)),a.__dirty=0),kk(a)&&o.push(a))}for(var u,h,c,p=pk(n,o),r=0;r<p.length;r++){if((f=p[r]).removed)for(var d=0;d<f.count;d++){l=kk(a=n[f.indices[d]]);h=e,(c=l)&&h&&c.parentNode===h&&h.removeChild(c)}}for(var f,g,y,m,r=0;r<p.length;r++){if((f=p[r]).added)for(d=0;d<f.count;d++){l=kk(a=o[f.indices[d]]);u?(m=u,Ak(g=e,y=l)&&m&&((m=m.nextSibling)?g.insertBefore(y,m):g.appendChild(y))):(m=void 0,Ak(g=e,y=l)&&((m=g.firstChild)?g.insertBefore(y,m):g.appendChild(y))),u=l||u,this._gradientManager.addWithoutUpdate(l,a),this._shadowManager.addWithoutUpdate(l,a),this._clipPathManager.markUsed(a)}else if(!f.removed)for(d=0;d<f.count;d++){l=kk(a=o[f.indices[d]]);this._gradientManager.markUsed(a),this._gradientManager.addWithoutUpdate(l,a),this._shadowManager.markUsed(a),this._shadowManager.addWithoutUpdate(l,a),this._clipPathManager.markUsed(a),u=l||u}}this._gradientManager.removeUnused(),this._clipPathManager.removeUnused(),this._shadowManager.removeUnused(),this._visibleList=o},Lk.prototype._getDefs=function(t){var e=this._svgDom,n=e.getElementsByTagName("defs");if(0!==n.length)return n[0];if(t){var i=e.insertBefore(XA("defs"),e.firstChild);return i.contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;0<=n;--n)if(e[n]===t)return!0;return!1}),i}return null},Lk.prototype.resize=function(t,e){var n=this._viewport;n.style.display="none";var i=this._opts;null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width===t&&this._height===e||(this._width=t,this._height=e,(n=n.style).width=t+"px",n.height=e+"px",(n=this._svgDom).setAttribute("width",t+""),n.setAttribute("height",e+"")),this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},Lk.prototype.getWidth=function(){return this._width},Lk.prototype.getHeight=function(){return this._height},Lk.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);t=this.root,e=document.defaultView.getComputedStyle(t);return(t[i]||Dk(e[n])||Dk(t.style[n]))-(Dk(e[o])||0)-(Dk(e[r])||0)|0},Lk.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},Lk.prototype.clear=function(){this._viewport&&this.root.removeChild(this._viewport)},Lk.prototype.toDataURL=function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))},Lk)),t.Axis=Yr,t.List=w_,t.Model=nc,t.PRIORITY=Zh,t.color=rn,t.connect=function(e){var t;return V(e)&&(t=e,e=null,Pm(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+Ov++,Pm(t,function(t){t.group=e})),Lv[e]=!0,e},t.dataTool={},t.dependencies={zrender:"5.0.0-beta.1"},t.disConnect=Nv,t.disconnect=Pi,t.dispose=function(t){"string"==typeof t?t=kv[t]:t instanceof dv||(t=Ev(t)),t instanceof dv&&!t.isDisposed()&&t.dispose()},t.env=v,t.extendChartView=function(t){return Ag.extend(t)},t.extendComponentModel=Zv,t.extendComponentView=Xv,t.extendSeriesModel=function(t){return gg.extend(t)},t.format=mb,t.getCoordinateSystemDimensions=function(t){if(t=Dd.get(t))return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},t.getInstanceByDom=Ev,t.getInstanceById=function(t){return kv[t]},t.getMap=function(t){return(t=my(t))&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},t.graphic=_b,t.helper=Oa,t.init=function(t,e,n){var i=Ev(t);if(i)return i;var o=new dv(t,e,n);return o.id="ec_"+Pv++,kv[o.id]=o,_u(t,Rv,o.id),uv(o),Pm(Tv,function(t){t(o)}),o},t.innerDrawElementOnCanvas=function(t,e){bm(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)},t.matrix=Jn,t.number=yb,t.parseGeoJSON=ib,t.parseGeoJson=n,t.registerAction=Fv,t.registerCoordinateSystem=function(t,e){Dd.register(t,e)},t.registerLayout=Hv,t.registerLoading=Uv,t.registerLocale=dc,t.registerMap=function(t,e,n){yy(t,e,n)},t.registerPostInit=function(t){t&&Tv.push(t)},t.registerPostUpdate=function(t){t&&Cv.push(t)},t.registerPreprocessor=Bv,t.registerProcessor=Vv,t.registerTheme=zv,t.registerTransform=aa,t.registerVisual=Gv,t.setCanvasCreator=function(t){m("createCanvas",t)},t.throttle=Vg,t.time=Kh,t.util=vb,t.vector=Lt,t.version="5.0.0-beta.1",t.zrender=g,Object.defineProperty(t,"__esModule",{value:!0})});