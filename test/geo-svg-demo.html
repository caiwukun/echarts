<!DOCTYPE html>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->


<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="lib/esl.js"></script>
        <script src="lib/config.js"></script>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/facePrint.js"></script>
        <script src="lib/testHelper.js"></script>
        <!-- <script src="ut/lib/canteen.js"></script> -->
        <link rel="stylesheet" href="lib/reset.css" />
    </head>
    <body>
        <style>
        </style>



        <div id="main_geo_svg_organ"></div>
        <div id="main_geo_svg_regions"></div>
        <div id="main_geo_svg_line_path"></div>




        <script>
            function listenAndPrintEvent(chart) {
                if (!chart) {
                    return;
                }
                const out = {
                };
                chart.on('geoselectchanged', function (params) {
                    out.geoselectechanged = {
                        allSelected: params.allSelected
                    };
                    console.log('geoselectechanged', params);
                    chart.__testHelper.updateInfo(out, 'event');
                });
                chart.on('selectchanged', function (params) {
                    out.selectechanged = {
                        selected: params.selected
                    };
                    console.log('selectechanged', params);
                    chart.__testHelper.updateInfo(out, 'event');
                });
                chart.on('click', function (params) {
                    out.click = {
                        componentIndex: params.componentIndex,
                        componentType: params.componentType,
                        geoIndex: params.geoIndex,
                        name: params.name
                    };
                    console.log('click', params);
                    chart.__testHelper.updateInfo(out, 'event');
                });
            }
        </script>






        <script>
        require(['echarts'/*, 'map/js/china' */], function (echarts) {
            var option;
            $.ajax({
                url: '../../vis-data/map/svg/organ/Veins_Medical_Diagram_clip_art.svg',
                dataType: 'text'
            }).done(function (svg) {

                echarts.registerMap('seatmap', {
                    svg: svg
                });

                option = {
                    tooltip: {
                    },
                    geo: {
                        left: 10,
                        right: '50%',
                        map: 'seatmap',
                        roam: true,
                        selectedMode: 'multiple',
                        // height: 100,
                        // zoom: 1.5
                        emphasis: {
                            focus: 'self',
                            itemStyle: {
                                color: null
                            },
                            label: {
                                position: 'bottom',
                                distance: 20,
                                textBorderColor: '#fff',
                                textBorderWidth: 2
                            }
                        },
                        blur: {
                        },
                        select: {
                            itemStyle: {
                                color: '#b50205'
                            },
                            label: {
                                show: false,
                                textBorderColor: '#fff',
                                textBorderWidth: 2
                            }
                        }
                    },
                    grid: {
                        left: '60%'
                    },
                    xAxis: {
                        splitLine: {
                            show: false
                        }
                    },
                    yAxis: {
                        data: ['heart', 'large-intestine', 'small-intestine', 'spleen', 'kidney', 'lung', 'liver']
                    },
                    series: [{
                        type: 'bar',
                        emphasis: {
                            focus: 'self'
                        },
                        data: [121, 321, 141, 52, 198, 289, 139]
                    }]
                };

                var chart = testHelper.create(echarts, 'main_geo_svg_organ', {
                    title: [
                        'pure geo component with svg resource',
                        'click seat: check **allSelected** correct.'
                    ],
                    option: option,
                    info: {},
                    infoKey: 'event',
                    height: 500
                    // buttons: [{text: 'btn-txt', onclick: function () {}}],
                    // recordCanvas: true,
                });

                listenAndPrintEvent(chart);

                if (chart) {
                    chart.on('mouseover', { seriesIndex: 0 }, function (event) {
                        chart.dispatchAction({
                            type: 'highlight',
                            geoIndex: 0,
                            name: event.name
                        });
                    });
                    chart.on('mouseout', { seriesIndex: 0 }, function (event) {
                        chart.dispatchAction({
                            type: 'downplay',
                            geoIndex: 0,
                            name: event.name
                        });
                    });
                    // chart.on('mouseover', { geoIndex: 0 }, function (event) {
                    //     chart.dispatchAction({
                    //         type: 'highlight',
                    //         seriesIndex: 0,
                    //         name: event.name
                    //     });
                    // });
                    // chart.on('mouseout', { geoIndex: 0 }, function (event) {
                    //     chart.dispatchAction({
                    //         type: 'downplay',
                    //         seriesIndex: 0,
                    //         name: event.name
                    //     });
                    // });
                }

            });

        });
        </script>







        <script>
        require(['echarts'/*, 'map/js/china' */], function (echarts) {
            var option;

            $.ajax({
                url: '../../vis-data/map/svg/geo-topo/Sicily_prehellenic_topographic_map.svg',
                dataType: 'text'
            }).done(function (svg) {

                echarts.registerMap('sicily', {
                    svg: svg
                });

                option = {
                    tooltip: {
                    },
                    geo: [{
                        map: 'sicily',
                        roam: true,
                        selectedMode: 'multiple',
                        itemStyle: {
                            color: null
                        },
                        tooltip: {
                            show: true,
                            confine: true,
                            formatter: function (params) {
                                return [
                                    'This is the introduction:',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxx'
                                ].join('<br>');
                            }
                        },
                        emphasis: {
                            label: {
                                show: false
                            }
                        },
                        select: {
                            itemStyle: {
                                color: '#b50205'
                            },
                            label: {
                                show: false
                            }
                        },
                        regions: [{
                            name: 'Sikeloi',
                            tooltip: {
                                formatter: 'Sikeloi',
                                textStyle: { color: '#555' },
                                backgroundColor: '#ccc'
                            }
                        }, {
                            name: 'Sikanoi',
                            tooltip: {
                                formatter: 'Sikanoi',
                                textStyle: { color: '#555' },
                                backgroundColor: '#ccc'
                            }
                        }, {
                            name: 'Elymoi',
                            tooltip: {
                                formatter: 'Elymoi',
                                textStyle: { color: '#555' },
                                backgroundColor: '#ccc'
                            }
                        }],
                        z: 0
                    }]
                };

                var chart = testHelper.create(echarts, 'main_geo_svg_regions', {
                    title: [
                        'symbol and label use the same name in SVG.',
                        'Hover each symbol and text, tooltip should be displayed.',
                        'Hover the three area, tooltip should be displayed.',
                        'Click, check **selected**.'
                    ],
                    option: option,
                    info: {},
                    infoKey: 'event',
                    height: 500
                });

                listenAndPrintEvent(chart);

            });

        });
        </script>










        <script>
        require(['echarts'/*, 'map/js/china' */], function (echarts) {
            var option;

            $.ajax({
                url: '../../vis-data/map/svg/geo-topo/Map_of_Iceland.svg',
                dataType: 'text'
            }).done(function (svg) {

                echarts.registerMap('Map_of_Iceland', {
                    svg: svg
                });

                option = {
                    tooltip: {
                        alwaysShowContent: true,
                        enterable: true,
                        extraCssText: 'user-select: text'
                    },
                    geo: [{
                        map: 'Map_of_Iceland',
                        roam: true,
                        selectedMode: 'single',
                        tooltip: {
                            show: true,
                            // confine: true
                        },
                        label: {
                            fontSize: 20,
                            textBorderColor: '#fff',
                            textBorderWidth: 2
                        },
                        emphasis: {
                            itemStyle: {
                                color: null,
                                borderColor: '#b50805',
                                borderWidth: 5
                            }
                        },
                        select: {
                            itemStyle: {
                                color: null,
                                borderColor: '#b50205',
                                borderWidth: 5
                            }
                        },
                        regions: [{
                            name: 'trip1',
                            label: {
                                formatter: 'Western Trip'
                            },
                            tooltip: {
                                position: 'right',
                                formatter: [
                                    'Western Trip:',
                                    'xxxxxxxxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxxxxxxxx',
                                    'xxxxxxxxxxxxxxxxxxxxxxxxxxx'
                                ].join('<br>')
                            }
                        }, {
                            name: 'trip2',
                            label: {
                                formatter: 'Eastern Trip'
                            },
                            tooltip: {
                                position: 'left',
                                formatter: [
                                    'Western Trip:',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx',
                                    'xxxxxxxxxxxx'
                                ].join('<br>')
                            }
                        }]
                    }]
                };

                var chart = testHelper.create(echarts, 'main_geo_svg_line_path', {
                    title: [
                        'Select some route in SVG via API.',
                        'Some route should be highlighted (check selectedMode **single**).',
                        'label should be displayed.'
                    ],
                    option: option,
                    info: {},
                    infoKey: 'event',
                    height: 500,
                    buttons: [{
                        text: 'highlight trip1',
                        onclick: function () {
                            chart.dispatchAction({
                                type: 'geoSelect',
                                geoIndex: 0,
                                name: 'trip1'
                            });
                            chart.dispatchAction({
                                type: 'showTip',
                                geoIndex: 0,
                                name: 'trip1'
                            });
                        }
                    }, {
                        text: 'highlight trip2',
                        onclick: function () {
                            chart.dispatchAction({
                                type: 'geoSelect',
                                geoIndex: 0,
                                name: 'trip2'
                            });
                            chart.dispatchAction({
                                type: 'showTip',
                                geoIndex: 0,
                                name: 'trip2'
                            });
                        }
                    }]
                });

                listenAndPrintEvent(chart);

            });

        });
        </script>






    </body>
</html>

